if(window.__tnt||(window.__tnt={}),__tnt.video||(__tnt.video={}),__tnt.video.plugins||(__tnt.video.plugins={}),__tnt.video.vast={url:function(e,t){var n=new Date,i="",o=encodeURIComponent(document.location.href),d=480,a=640,v=document.querySelector("video.tnt-video"),r=document.head.querySelector("meta[name=keywords]"),l="",c=document.body.getAttribute("data-path");if(document.head.querySelector("link[rel=canonical]")&&(i=encodeURIComponent(document.head.querySelector("link[rel=canonical]").href)),""==l&&r&&(l=r.content.trim(),l.endsWith(",")&&(l=l.slice(0,-1))),v&&(d=v.height,a=v.width),void 0===t&&(t=[{key:/%%canonical_url%%/g,value:i},{key:/%%full_url%%/g,value:o},{key:/%%timestamp%%/g,value:n.getTime()},{key:/%%width%%/g,value:a},{key:/%%height%%/g,value:d},{key:/%%random%%/g,value:Math.trunc(Math.random()*Math.pow(10,6))},{key:/%%keywords%%/g,value:l},{key:/%%path%%/g,value:c}]),void 0!==e){if(t.length)for(var u=0;u<t.length;u++)try{e=e.replace(t[u].key,t[u].value)}catch(e){}return e}return!1},feed:"",feedRetrieved:!1},"function"==typeof window.CustomEvent)window.videoReady=new CustomEvent("tntVideoReady"),window.videoEnded=new CustomEvent("tntVideoEnded");else{var videoReady=document.createEvent("Event"),videoEnded=document.createEvent("Event");videoReady.initEvent("tntVideoReady",!0,!0,{}),videoEnded.initEvent("tntVideoEnded",!0,!0,{})}document.addEventListener("DOMContentLoaded",function(e){__tnt.video.vastUrl.match("pubads.g.doubleclick.net")||"function"!=typeof window.fetch?document.dispatchEvent(videoReady):fetch(__tnt.video.vast.url(__tnt.video.vastUrl)).then(function(e){return e.text().then(function(e){__tnt.video.vast.feed=e,__tnt.video.vast.feedRetrieved=!0,document.dispatchEvent(videoReady)})}).catch(function(e){document.dispatchEvent(videoReady)})}),__tnt.video.advertising=function(e){var t=e.el().closest(".tnt-video-container"),n=e.el().getAttribute("data-vast-url");if(null==n&&(n=__tnt.video.vastUrl),t&&"true"!=t.getAttribute("data-live")){__tnt.video.register(e);var i={id:e.id()};__tnt.video.vastUrl.match("pubads.g.doubleclick.net")||null!=n&&n!=__tnt.video.vastUrl?(i.adTagUrl=__tnt.video.vast.url(n),i.prerollTimeout=5e3):(i.adsResponse=__tnt.video.vast.feed,i.prerollTimeout=5e3),e.ima(i),e.one("play",function(){e.ima.initializeAdDisplayContainer()}),e.one("adstart",function(){__tnt.video.blox.players[e.id()].adPlaying=!0}),e.on("ads-manager",function(e){e.adsManager.addEventListener(google.ima.AdEvent.Type.STARTED,function(e){switch(e.type){case google.ima.AdEvent.Type.STARTED:var t=e.getAd(),n=new google.ima.CompanionAdSelectionSettings;if(n.resourceType=google.ima.CompanionAdSelectionSettings.ResourceType.STATIC,n.creativeType=google.ima.CompanionAdSelectionSettings.CreativeType.IMAGE,n.sizeCriteria=google.ima.CompanionAdSelectionSettings.SizeCriteria.IGNORE,__tnt.video.companion){var i=t.getCompanionAds(__tnt.video.companion.width,__tnt.video.companion.height,n),o=i[0],d="";if(__tnt.video.companion.id&&(d=__tnt.video.companion.id),void 0!==o&&""!=d){var a=o.getContent(),v=document.getElementById(d);a&&v&&(v.innerHTML=a)}}}})}),e.one("adend",function(){var t=e.el().querySelector("source").src,n=(__tnt.video.mimetype(t),__tnt.video.blox.players[e.id()].resumeAt);__tnt.video.blox.players[e.id()].adPlaying=!1,e.currentTime(n),setTimeout(function(){e.play()},250)})}};
//# sourceMappingURL=tnt.video.ads.vast-ima.7.1.a9ac8a7af0ad5bcd1499cb87219f933a.js.map