/*!

   Flowplayer Unlimited v6.0.5 (2016-01-13) | flowplayer.org/license

*/
!function(e){function t(e,t,n,r){for(var i,a=n.slice(),l=o(t,e),s=0,u=a.length;u>s&&(handler=a[s],"object"==typeof handler&&"function"==typeof handler.handleEvent?handler.handleEvent(l):handler.call(e,l),!l.stoppedImmediatePropagation);s++);return i=!l.stoppedPropagation,r&&i&&e.parentNode?e.parentNode.dispatchEvent(l):!l.defaultPrevented}function n(e,t){return{configurable:!0,get:e,set:t}}function r(e,t,r){var o=y(t||e,r);g(e,"textContent",n(function(){return o.get.call(this)},function(e){o.set.call(this,e)}))}function o(e,t){return e.currentTarget=t,e.eventPhase=e.target===e.currentTarget?2:3,e}function i(e,t){for(var n=e.length;n--&&e[n]!==t;);return n}function a(){if("BR"===this.tagName)return"\n";for(var e=this.firstChild,t=[];e;)8!==e.nodeType&&7!==e.nodeType&&t.push(e.textContent),e=e.nextSibling;return t.join("")}function l(e){!f&&k.test(document.readyState)&&(f=!f,document.detachEvent(d,l),e=document.createEvent("Event"),e.initEvent(p,!0,!0),document.dispatchEvent(e))}function s(e){for(var t;t=this.lastChild;)this.removeChild(t);null!=e&&this.appendChild(document.createTextNode(e))}function u(t,n){return n||(n=e.event),n.target||(n.target=n.srcElement||n.fromElement||document),n.timeStamp||(n.timeStamp=(new Date).getTime()),n}if(!document.createEvent){var c=!0,f=!1,d="onreadystatechange",p="DOMContentLoaded",m="__IE8__"+Math.random(),v=e.Object,g=v.defineProperty||function(e,t,n){e[t]=n.value},h=v.defineProperties||function(t,n){for(var r in n)if(b.call(n,r))try{g(t,r,n[r])}catch(o){e.console&&console.log(r+" failed on object:",t,o.message)}},y=v.getOwnPropertyDescriptor,b=v.prototype.hasOwnProperty,w=e.Element.prototype,x=e.Text.prototype,E=/^[a-z]+$/,k=/loaded|complete/,T={},S=document.createElement("div");r(e.HTMLCommentElement.prototype,w,"nodeValue"),r(e.HTMLScriptElement.prototype,null,"text"),r(x,null,"nodeValue"),r(e.HTMLTitleElement.prototype,null,"text"),g(e.HTMLStyleElement.prototype,"textContent",function(e){return n(function(){return e.get.call(this.styleSheet)},function(t){e.set.call(this.styleSheet,t)})}(y(e.CSSStyleSheet.prototype,"cssText"))),h(w,{textContent:{get:a,set:s},firstElementChild:{get:function(){for(var e=this.childNodes||[],t=0,n=e.length;n>t;t++)if(1==e[t].nodeType)return e[t]}},lastElementChild:{get:function(){for(var e=this.childNodes||[],t=e.length;t--;)if(1==e[t].nodeType)return e[t]}},previousElementSibling:{get:function(){for(var e=this.previousSibling;e&&1!=e.nodeType;)e=e.previousSibling;return e}},nextElementSibling:{get:function(){for(var e=this.nextSibling;e&&1!=e.nodeType;)e=e.nextSibling;return e}},childElementCount:{get:function(){for(var e=0,t=this.childNodes||[],n=t.length;n--;e+=1==t[n].nodeType);return e}},addEventListener:{value:function(e,n,r){var o,a=this,l="on"+e,s=a[m]||g(a,m,{value:{}})[m],c=s[l]||(s[l]={}),f=c.h||(c.h=[]);if(!b.call(c,"w")){if(c.w=function(e){return e[m]||t(a,u(a,e),f,!1)},!b.call(T,l))if(E.test(e))try{o=document.createEventObject(),o[m]=!0,9!=a.nodeType&&null==a.parentNode&&S.appendChild(a),a.fireEvent(l,o),T[l]=!0}catch(o){for(T[l]=!1;S.hasChildNodes();)S.removeChild(S.firstChild)}else T[l]=!1;(c.n=T[l])&&a.attachEvent(l,c.w)}i(f,n)<0&&f[r?"unshift":"push"](n)}},dispatchEvent:{value:function(e){var n,r=this,o="on"+e.type,i=r[m],a=i&&i[o],l=!!a;return e.target||(e.target=r),l?a.n?r.fireEvent(o,e):t(r,e,a.h,!0):(n=r.parentNode)?n.dispatchEvent(e):!0,!e.defaultPrevented}},removeEventListener:{value:function(e,t,n){var r=this,o="on"+e,a=r[m],l=a&&a[o],s=l&&l.h,u=s?i(s,t):-1;u>-1&&s.splice(u,1)}}}),h(x,{addEventListener:{value:w.addEventListener},dispatchEvent:{value:w.dispatchEvent},removeEventListener:{value:w.removeEventListener}}),h(e.XMLHttpRequest.prototype,{addEventListener:{value:function(e,t,n){var r=this,o="on"+e,a=r[m]||g(r,m,{value:{}})[m],l=a[o]||(a[o]={}),s=l.h||(l.h=[]);i(s,t)<0&&(r[o]||(r[o]=function(){var t=document.createEvent("Event");t.initEvent(e,!0,!0),r.dispatchEvent(t)}),s[n?"unshift":"push"](t))}},dispatchEvent:{value:function(e){var n=this,r="on"+e.type,o=n[m],i=o&&o[r],a=!!i;return a&&(i.n?n.fireEvent(r,e):t(n,e,i.h,!0))}},removeEventListener:{value:w.removeEventListener}}),h(e.Event.prototype,{bubbles:{value:!0,writable:!0},cancelable:{value:!0,writable:!0},preventDefault:{value:function(){this.cancelable&&(this.defaultPrevented=!0,this.returnValue=!1)}},stopPropagation:{value:function(){this.stoppedPropagation=!0,this.cancelBubble=!0}},stopImmediatePropagation:{value:function(){this.stoppedImmediatePropagation=!0,this.stopPropagation()}},initEvent:{value:function(e,t,n){this.type=e,this.bubbles=!!t,this.cancelable=!!n,this.bubbles||this.stopPropagation()}}}),h(e.HTMLDocument.prototype,{textContent:{get:function(){return 11===this.nodeType?a.call(this):null},set:function(e){11===this.nodeType&&s.call(this,e)}},addEventListener:{value:function(t,n,r){var o=this;w.addEventListener.call(o,t,n,r),c&&t===p&&!k.test(o.readyState)&&(c=!1,o.attachEvent(d,l),e==top&&function i(e){try{o.documentElement.doScroll("left"),l()}catch(t){setTimeout(i,50)}}())}},dispatchEvent:{value:w.dispatchEvent},removeEventListener:{value:w.removeEventListener},createEvent:{value:function(e){var t;if("Event"!==e)throw new Error("unsupported "+e);return t=document.createEventObject(),t.timeStamp=(new Date).getTime(),t}}}),h(e.Window.prototype,{getComputedStyle:{value:function(){function e(e){this._=e}function t(){}var n=/^(?:[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|))(?!px)[a-z%]+$/,r=/^(top|right|bottom|left)$/,o=/\-([a-z])/g,i=function(e,t){return t.toUpperCase()};return e.prototype.getPropertyValue=function(e){var t,a,l,s=this._,u=s.style,c=s.currentStyle,f=s.runtimeStyle;return e=("float"===e?"style-float":e).replace(o,i),t=c?c[e]:u[e],n.test(t)&&!r.test(e)&&(a=u.left,l=f&&f.left,l&&(f.left=c.left),u.left="fontSize"===e?"1em":t,t=u.pixelLeft+"px",u.left=a,l&&(f.left=l)),null==t?t:t+""||"auto"},t.prototype.getPropertyValue=function(){return null},function(n,r){return r?new t(n):new e(n)}}()},addEventListener:{value:function(n,r,o){var a,l=e,s="on"+n;l[s]||(l[s]=function(e){return t(l,u(l,e),a,!1)}),a=l[s][m]||(l[s][m]=[]),i(a,r)<0&&a[o?"unshift":"push"](r)}},dispatchEvent:{value:function(t){var n=e["on"+t.type];return n?n.call(e,t)!==!1&&!t.defaultPrevented:!0}},removeEventListener:{value:function(t,n,r){var o="on"+t,a=(e[o]||v)[m],l=a?i(a,n):-1;l>-1&&a.splice(l,1)}}})}}(this),!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;"undefined"!=typeof window?t=window:"undefined"!=typeof global?t=global:"undefined"!=typeof self&&(t=self),t.flowplayer=e()}}(function(){var e;return function t(e,n,r){function o(a,l){if(!n[a]){if(!e[a]){var s="function"==typeof require&&require;if(!l&&s)return s(a,!0);if(i)return i(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var c=n[a]={exports:{}};e[a][0].call(c.exports,function(t){var n=e[a][1][t];return o(n?n:t)},c,c.exports,t,e,n,r)}return n[a].exports}for(var i="function"==typeof require&&require,a=0;a<r.length;a++)o(r[a]);return o}({1:[function(e,t,n){"use strict";var r=t.exports={},o=e("class-list"),i=window.jQuery,a=e("punycode"),l=e("computed-style");r.noop=function(){},r.identity=function(e){return e},r.removeNode=function(e){e&&e.parentNode&&e.parentNode.removeChild(e)},r.find=function(e,t){return i?i(e,t).toArray():(t=t||document,Array.prototype.map.call(t.querySelectorAll(e),function(e){return e}))},r.text=function(e,t){e["innerText"in e?"innerText":"textContent"]=t},r.findDirect=function(e,t){return r.find(e,t).filter(function(e){return e.parentNode===t})},r.hasClass=function(e,t){return o(e).contains(t)},r.isSameDomain=function(e){var t=window.location,n=r.createElement("a",{href:e});return t.hostname===n.hostname&&t.protocol===n.protocol&&t.port===n.port},r.css=function(e,t,n){return"object"==typeof t?Object.keys(t).forEach(function(n){r.css(e,n,t[n])}):"undefined"!=typeof n?""===n?e?e.style.removeProperty(t):void 0:e?e.style.setProperty(t,n):void 0:e?l(e,t):void 0},r.createElement=function(e,t,n){try{var o=document.createElement(e);for(var a in t)t.hasOwnProperty(a)&&("css"===a?r.css(o,t[a]):r.attr(o,a,t[a]));return o.innerHTML=n||"",o}catch(l){if(!i)throw l;return i("<"+e+">"+n+"</"+e+">").attr(t)[0]}},r.toggleClass=function(e,t,n){if(e){var r=o(e);"undefined"==typeof n?r.toggle(t):n?r.add(t):n||r.remove(t)}},r.addClass=function(e,t){return r.toggleClass(e,t,!0)},r.removeClass=function(e,t){return r.toggleClass(e,t,!1)},r.append=function(e,t){return e.appendChild(t),e},r.appendTo=function(e,t){return r.append(t,e),e},r.prepend=function(e,t){e.insertBefore(t,e.firstChild)},r.insertAfter=function(e,t,n){t==r.lastChild(e)&&e.appendChild(n);var o=Array.prototype.indexOf.call(e.children,t);e.insertBefore(n,e.children[o+1])},r.html=function(e,t){e=e.length?e:[e],e.forEach(function(e){e.innerHTML=t})},r.attr=function(e,t,n){if("class"===t&&(t="className"),r.hasOwnOrPrototypeProperty(e,t))try{e[t]=n}catch(o){if(!i)throw o;i(e).attr(t,n)}else n===!1?e.removeAttribute(t):e.setAttribute(t,n);return e},r.prop=function(e,t,n){return"undefined"==typeof n?e&&e[t]:void(e[t]=n)},r.offset=function(e){var t=e.getBoundingClientRect();return e.offsetWidth/e.offsetHeight>e.clientWidth/e.clientHeight&&(t={left:100*t.left,right:100*t.right,top:100*t.top,bottom:100*t.bottom,width:100*t.width,height:100*t.height}),t},r.width=function(e,t){if(t)return e.style.width=(""+t).replace(/px$/,"")+"px";var n=r.offset(e).width;return"undefined"==typeof n?e.offsetWidth:n},r.height=function(e,t){if(t)return e.style.height=(""+t).replace(/px$/,"")+"px";var n=r.offset(e).height;return"undefined"==typeof n?e.offsetHeight:n},r.lastChild=function(e){return e.children[e.children.length-1]},r.hasParent=function(e,t){for(var n=e.parentElement;n;){if(r.matches(n,t))return!0;n=n.parentElement}return!1},r.createAbsoluteUrl=function(e){return r.createElement("a",{href:e}).href},r.xhrGet=function(e,t,n){var r=new XMLHttpRequest;r.onreadystatechange=function(){return 4===this.readyState?this.status>=400?n():void t(this.responseText):void 0},r.open("get",e,!0),r.send()},r.pick=function(e,t){var n={};return t.forEach(function(t){e.hasOwnProperty(t)&&(n[t]=e[t])}),n},r.hostname=function(e){return a.toUnicode(e||window.location.hostname)},r.browser={webkit:"WebkitAppearance"in document.documentElement.style},r.getPrototype=function(e){return Object.getPrototypeOf?Object.getPrototypeOf(e):e.__proto__},r.hasOwnOrPrototypeProperty=function(e,t){for(var n=e;n;){if(Object.prototype.hasOwnProperty.call(n,t))return!0;n=r.getPrototype(n)}return!1},r.matches=function(e,t){var n=Element.prototype,r=n.matches||n.matchesSelector||n.mozMatchesSelector||n.msMatchesSelector||n.oMatchesSelector||n.webkitMatchesSelector||function(e){for(var t=this,n=(t.document||t.ownerDocument).querySelectorAll(e),r=0;n[r]&&n[r]!==t;)r++;return n[r]?!0:!1};return r.call(e,t)},function(e){function t(e){return e.replace(/-[a-z]/g,function(e){return e[1].toUpperCase()})}"undefined"!=typeof e.setAttribute&&(e.setProperty=function(e,n){return this.setAttribute(t(e),String(n))},e.getPropertyValue=function(e){return this.getAttribute(t(e))||null},e.removeProperty=function(e){var n=this.getPropertyValue(e);return this.removeAttribute(t(e)),n})}(window.CSSStyleDeclaration.prototype)},{"class-list":21,"computed-style":23,punycode:29}],2:[function(e,t,n){"use strict";var r=e("../common");t.exports=function(e,t,n,o){n=n||"opaque";var i="obj"+(""+Math.random()).slice(2,15),a='<object class="fp-engine" id="'+i+'" name="'+i+'" ',l=navigator.userAgent.indexOf("MSIE")>-1;a+=l?'classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000">':' data="'+e+'" type="application/x-shockwave-flash">';var s={width:"100%",height:"100%",allowscriptaccess:"always",wmode:n,quality:"high",flashvars:"",movie:e+(l?"?"+i:""),name:i};"transparent"!==n&&(s.bgcolor=o||"#333333"),Object.keys(t).forEach(function(e){s.flashvars+=e+"="+t[e]+"&"}),Object.keys(s).forEach(function(e){a+='<param name="'+e+'" value="'+s[e]+'"/>'}),a+="</object>";var u=r.createElement("div",{},a);return r.find("object",u)},window.attachEvent&&window.attachEvent("onbeforeunload",function(){window.__flash_savedUnloadHandler=window.__flash_unloadHandler=function(){}})},{"../common":1}],3:[function(e,t,n){"use strict";function r(e){return/^https?:/.test(e)}var o,i=e("../flowplayer"),a=e("../common"),l=e("./embed"),s=e("extend-object"),u=e("bean");o=function(e,t){function n(e){function t(e){return("0"+parseInt(e).toString(16)).slice(-2)}return(e=e.match(/^rgb\((\d+),\s*(\d+),\s*(\d+)\)$/))?"#"+t(e[1])+t(e[2])+t(e[3]):void 0}function c(e){if(7===e.length)return e;var t=e.split("").slice(1);return"#"+t.map(function(e){return e+e}).join("")}function f(e){return/application\/x-mpegurl/i.test(e.type)}var d,p,m,v=e.conf,g=(e.video,window,{engineName:o.engineName,pick:function(t){var n=s({},function(){if(i.support.flashVideo){for(var n,r,o=0;o<t.length;o++)if(r=t[o],/mp4|flv|flash/i.test(r.type)&&(n=r),e.conf.swfHls&&/mpegurl/i.test(r.type)&&(n=r),n&&!/mp4/i.test(n.type))return n;return n}}());if(n)return!n.src||r(n.src)||e.conf.rtmp||n.rtmp||(n.src=a.createAbsoluteUrl(n.src)),n},load:function(o){function h(e){return e.replace(/&amp;/g,"%26").replace(/&/g,"%26").replace(/=/g,"%3D")}d=o;var y=a.findDirect("video",t)[0]||a.find(".fp-player > video",t)[0],b=o.src,w=r(b),x=function(){a.removeNode(y)},E=function(e){return e.some(function(e){return!!y.canPlayType(e.type)})};i.support.video&&a.prop(y,"autoplay")&&E(o.sources)?u.one(y,"timeupdate",x):x();var k=o.rtmp||v.rtmp;if(w||k||(b=a.createAbsoluteUrl(b)),m&&f(o)&&m.data!==v.swfHls&&g.unload(),m){["live","preload","loop"].forEach(function(e){o.hasOwnProperty(e)&&m.__set(e,o[e])}),Object.keys(o.flashls||{}).forEach(function(e){m.__set("hls_"+e,o.flashls[e])});var T=!1;if(!w&&k)m.__set("rtmp",k.url||k);else{var S=m.__get("rtmp");T=!!S,m.__set("rtmp",null)}m.__play(b,T||o.rtmp&&o.rtmp!==v.rtmp)}else{p="fpCallback"+(""+Math.random()).slice(3,15),b=h(b);var N={hostname:v.embedded?a.hostname(v.hostname):a.hostname(location.hostname),url:b,callback:p};t.getAttribute("data-origin")&&(N.origin=t.getAttribute("data-origin")),["proxy","key","autoplay","preload","subscribe","live","loop","debug","splash","poster","rtmpt"].forEach(function(e){v.hasOwnProperty(e)&&(N[e]=v[e]),o.hasOwnProperty(e)&&(N[e]=o[e]),(v.rtmp||{}).hasOwnProperty(e)&&(N[e]=(v.rtmp||{})[e]),(o.rtmp||{}).hasOwnProperty(e)&&(N[e]=(o.rtmp||{})[e])}),v.rtmp&&(N.rtmp=v.rtmp.url||v.rtmp),o.rtmp&&(N.rtmp=o.rtmp.url||o.rtmp),Object.keys(o.flashls||{}).forEach(function(e){var t=o.flashls[e];N["hls_"+e]=t}),void 0!==v.bufferTime&&(N.bufferTime=v.bufferTime),w&&delete N.rtmp,N.rtmp&&(N.rtmp=h(N.rtmp));var C,j=v.bgcolor||a.css(t,"background-color")||"";0===j.indexOf("rgb")?C=n(j):0===j.indexOf("#")&&(C=c(j)),N.initialVolume=e.volumeLevel;var O=f(o)?v.swfHls:v.swf;m=l(O,N,v.wmode,C)[0];var P=a.find(".fp-player",t)[0];a.prepend(P,m),setTimeout(function(){try{if(!m.PercentLoaded())return e.trigger("error",[e,{code:7,url:v.swf}])}catch(t){}},5e3),setTimeout(function(){"undefined"==typeof m.PercentLoaded&&e.trigger("flashdisabled",[e])},1e3),e.off("resume.flashhack").on("resume.flashhack",function(){var t=setTimeout(function(){e.playing&&e.trigger("flashdisabled",[e])},1e3);e.one("progress",function(){clearTimeout(t)})}),m.pollInterval=setInterval(function(){if(m){var t=m.__status?m.__status():null;t&&(e.playing&&t.time&&t.time!==e.video.time&&e.trigger("progress",[e,t.time]),o.buffer=t.buffer/o.bytes*o.duration,e.trigger("buffer",[e,o.buffer]),!o.buffered&&t.time>0&&(o.buffered=!0,e.trigger("buffered",[e])))}},250),window[p]=function(n,r){var o=d;v.debug&&(0===n.indexOf("debug")&&r&&r.length?console.log.apply(console,["-- "+n].concat(r)):console.log("--",n,r));var i={type:n};switch(n){case"ready":r=s(o,r);break;case"click":i.flash=!0;break;case"keydown":i.which=r;break;case"seek":o.time=r;break;case"status":e.trigger("progress",[e,r.time]),r.buffer<o.bytes&&!o.buffered?(o.buffer=r.buffer/o.bytes*o.duration,e.trigger("buffer",o.buffer)):o.buffered||(o.buffered=!0,e.trigger("buffered"))}"click"===n||"keydown"===n?(i.target=t,u.fire(t,n,[i])):"buffered"!=n&&"unload"!==n?setTimeout(function(){e.trigger(i,[e,r])},1):"unload"===n&&e.trigger(i,[e,r])}}},speed:a.noop,unload:function(){m&&m.__unload&&m.__unload();try{p&&window[p]&&delete window[p]}catch(n){}a.find("object",t).forEach(a.removeNode),m=0,e.off(".flashengine"),clearInterval(m.pollInterval)}});return["pause","resume","seek","volume"].forEach(function(t){g[t]=function(n){try{e.ready&&(void 0===n?m["__"+t]():m["__"+t](n))}catch(r){if("undefined"==typeof m["__"+t])return e.trigger("flashdisabled",[e]);throw r}}}),g},o.engineName="flash",o.canPlay=function(e,t){return i.support.flashVideo&&/video\/(mp4|flash|flv)/i.test(e)||i.support.flashVideo&&t.swfHls&&/mpegurl/i.test(e)},i.engines.push(o)},{"../common":1,"../flowplayer":18,"./embed":2,bean:20,"extend-object":25}],4:[function(e,t,n){"use strict";function r(e,t){return t=t||100,Math.round(e*t)/t}function o(e){return/mpegurl/i.test(e)?"application/x-mpegurl":e}function i(e){return/^(video|application)/i.test(e)||(e=o(e)),!!m.canPlayType(e).replace("no","")}function a(e,t){var n=e.filter(function(e){return e.type===t});return n.length?n[0]:null}var l,s,u=e("../flowplayer"),c=e("bean"),f=e("class-list"),d=e("extend-object"),p=e("../common"),m=document.createElement("video"),v={ended:"finish",pause:"pause",play:"resume",progress:"buffer",timeupdate:"progress",volumechange:"volume",ratechange:"speed",seeked:"seek",loadeddata:"ready",error:"error",dataunavailable:"error",webkitendfullscreen:!u.support.inlineVideo&&"unload"},g=function(e,t,n,r){if("undefined"==typeof t&&(t=!0),"undefined"==typeof n&&(n="none"),"undefined"==typeof r&&(r=!0),r&&l)return l.type=o(e.type),l.src=e.src,p.find("track",l).forEach(p.removeNode),l.removeAttribute("crossorigin"),l;var i=document.createElement("video");return i.src=e.src,i.type=o(e.type),i.className="fp-engine",i.autoplay=t?"autoplay":!1,i.preload=n,i.setAttribute("x-webkit-airplay","allow"),r&&(l=i),i};s=function(e,t){function n(n,o,a){var l=t.getAttribute("data-flowplayer-instance-id");if(n.listeners&&n.listeners.hasOwnProperty(l))return void(n.listeners[l]=a);(n.listeners||(n.listeners={}))[l]=a,c.on(o,"error",function(t){try{i(t.target.getAttribute("type"))&&e.trigger("error",[e,{code:4,video:d(a,{src:n.src,url:n.src})}])}catch(r){}}),e.on("shutdown",function(){c.off(o)});var s={};return Object.keys(v).forEach(function(o){var i=v[o];if(i){var u=function(s){if(a=n.listeners[l],s.target&&f(s.target).contains("fp-engine")&&(w.debug&&!/progress/.test(i)&&console.log(o,"->",i,s),(e.ready||/ready|error/.test(i))&&i&&p.find("video",t).length)){var u;if("unload"===i)return void e.unload();var c=function(){e.trigger(i,[e,u])};switch(i){case"ready":u=d(a,{duration:n.duration,width:n.videoWidth,height:n.videoHeight,url:n.currentSrc,src:n.currentSrc});try{u.seekable=!e.live&&/mpegurl/i.test(a?a.type||"":"")&&n.duration||n.seekable&&n.seekable.end(null)}catch(v){}if(m=m||setInterval(function(){try{u.buffer=n.buffered.end(null)}catch(t){}u.buffer&&(r(u.buffer,1e3)<r(u.duration,1e3)&&!u.buffered?e.trigger("buffer",s):u.buffered||(u.buffered=!0,e.trigger("buffer",s).trigger("buffered",s),clearInterval(m),m=0))},250),!e.live&&!u.duration&&!b.hlsDuration&&"loadeddata"===o){var g=function(){u.duration=n.duration;try{u.seekable=n.seekable&&n.seekable.end(null)}catch(e){}c(),n.removeEventListener("durationchange",g),f(t).remove("is-live")};n.addEventListener("durationchange",g);var h=function(){e.ready||n.duration||(u.duration=0,f(t).add("is-live"),c()),n.removeEventListener("timeupdate",h)};return void n.addEventListener("timeupdate",h)}break;case"progress":case"seek":e.video.duration;if(n.currentTime>0||e.live)u=Math.max(n.currentTime,0);else if("progress"==i)return;break;case"speed":u=r(n.playbackRate);break;case"volume":u=r(n.volume);break;case"error":try{u=(s.srcElement||s.originalTarget).error,u.video=d(a,{src:n.src,url:n.src})}catch(y){return}}c()}};t.addEventListener(o,u,!0),s[o]||(s[o]=[]),s[o].push(u)}}),s}var o,m,h,y=p.findDirect("video",t)[0]||p.find(".fp-player > video",t)[0],b=u.support,w=(p.find("track",y)[0],e.conf);return o={engineName:s.engineName,pick:function(e){var t=function(){if(b.video){if(w.videoTypePreference){var t=a(e,w.videoTypePreference);if(t)return t}for(var n=0;n<e.length;n++)if(i(e[n].type))return e[n]}}();if(t)return"string"==typeof t.src&&(t.src=p.createAbsoluteUrl(t.src)),t},load:function(r){var i=!1,a=p.find(".fp-player",t)[0],l=!1;w.splash&&!y?(y=g(r),p.prepend(a,y),i=!0):y?(f(y).add("fp-engine"),p.find("source,track",y).forEach(p.removeNode),e.conf.nativesubtitles||p.attr(y,"crossorigin",!1),l=y.src===r.src):(y=g(r,!!r.autoplay||!!w.autoplay,w.clip.preload||"metadata",!1),p.prepend(a,y),i=!0),b.inlineVideo||p.css(y,{position:"absolute",top:"-9999em"}),c.off(y,"timeupdate",p.noop),c.on(y,"timeupdate",p.noop),p.prop(y,"loop",!(!r.loop&&!w.loop)),"undefined"!=typeof h&&(y.volume=h),(e.video.src&&r.src!=e.video.src||r.index)&&p.attr(y,"autoplay","autoplay"),y.src=r.src,y.type=r.type,o._listeners=n(y,p.find("source",y).concat(y),r),("none"!=w.clip.preload&&"mpegurl"!=r.type||!b.zeropreload||!b.dataload)&&y.load(),(i||l)&&y.load(),y.paused&&(r.autoplay||w.autoplay)&&y.play()},pause:function(){y.pause()},resume:function(){y.play()},speed:function(e){y.playbackRate=e},seek:function(t){try{var n=e.paused;y.currentTime=t,n&&y.pause()}catch(r){}},volume:function(e){h=e,y&&(y.volume=e)},unload:function(){p.find("video.fp-engine",t).forEach(p.removeNode),b.cachedVideoTag||(l=null),m=clearInterval(m);var e=t.getAttribute("data-flowplayer-instance-id");delete y.listeners[e],y=0,o._listeners&&Object.keys(o._listeners).forEach(function(e){o._listeners[e].forEach(function(n){t.removeEventListener(e,n,!0)})})}}},s.canPlay=function(e){return u.support.video&&i(e)},s.engineName="html5",u.engines.push(s)},{"../common":1,"../flowplayer":18,bean:20,"class-list":21,"extend-object":25}],5:[function(e,t,n){"use strict";var r=e("../flowplayer"),o=e("./resolve").TYPE_RE,i=e("scriptjs"),a=e("bean");r(function(e,t){var n,r=e.conf.analytics,l=0,s=0;if(r){"undefined"==typeof _gat&&i("//google-analytics.com/ga.js");var u=function(){var e=_gat._getTracker(r);return e._setAllowLinker(!0),e},c=function(r,i,a){if(a=a||e.video,l&&"undefined"!=typeof _gat){var s=u();s._trackEvent("Video / Seconds played",e.engine.engineName+"/"+a.type,a.title||t.getAttribute("title")||a.src.split("/").slice(-1)[0].replace(o,""),Math.round(l/1e3)),l=0,n&&(clearTimeout(n),n=null)}};e.bind("load unload",c).bind("progress",function(){e.seeking||(l+=s?+new Date-s:0,s=+new Date),n||(n=setTimeout(function(){n=null;var e=u();e._trackEvent("Flowplayer heartbeat","Heartbeat","",0,!0)},6e5))}).bind("pause",function(){s=0}),e.bind("shutdown",function(){a.off(window,"unload",c)}),a.on(window,"unload",c)}})},{"../flowplayer":18,"./resolve":13,bean:20,scriptjs:28}],6:[function(e,t,n){"use strict";var r=e("../flowplayer"),o=e("class-list"),i=e("../common"),a=e("bean");r(function(e,t){function n(e){t.className=t.className.replace(l," "),e>=0&&o(t).add("cue"+e)}function r(t){var n=t&&!isNaN(t.time)?t.time:t;return 0>n&&(n=e.video.duration+n),.125*Math.round(n/.125)}var l=/ ?cue\d+ ?/,s=!1,u={},c=-.125,f=function(t){var r=e.cuepoints.indexOf(t);isNaN(t)||(t={time:t}),t.index=r,n(r),e.trigger("cuepoint",[e,t])};e.on("progress",function(e,t,n){if(!s)for(var o=r(n);o>c;)c+=.125,u[c]&&u[c].forEach(f)}).on("unload",n).on("beforeseek",function(e){setTimeout(function(){e.defaultPrevented||(s=!0)})}).on("seek",function(e,t,o){n(),c=r(o||0)-.125,s=!1,!o&&u[0]&&u[0].forEach(f)}).on("ready",function(t,n,r){c=-.125;var o=r.cuepoints||e.conf.cuepoints||[];e.setCuepoints(o)}).on("finish",function(){c=-.125}),e.conf.generate_cuepoints&&e.bind("load",function(){i.find(".fp-cuepoint",t).forEach(i.removeNode)}),e.setCuepoints=function(t){return e.cuepoints=[],u={},t.forEach(e.addCuepoint),e},e.addCuepoint=function(n){e.cuepoints||(e.cuepoints=[]);var o=r(n);if(u[o]||(u[o]=[]),u[o].push(n),e.cuepoints.push(n),e.conf.generate_cuepoints&&n.visible!==!1){var l=e.video.duration,s=i.find(".fp-timeline",t)[0];i.css(s,"overflow","visible");var c=n.time||n;0>c&&(c=l+c);var f=i.createElement("a",{className:"fp-cuepoint fp-cuepoint"+(e.cuepoints.length-1)});i.css(f,"left",c/l*100+"%"),s.appendChild(f),a.on(f,"mousedown",function(t){t.preventDefault(),t.stopPropagation(),e.seek(c)})}return e},e.removeCuepoint=function(t){var n=e.cuepoints.indexOf(t),o=r(t);if(-1!==n){e.cuepoints=e.cuepoints.slice(0,n).concat(e.cuepoints.slice(n+1));var i=u[o].indexOf(t);if(-1!==i)return u[o]=u[o].slice(0,i).concat(u[o].slice(i+1)),e}}})},{"../common":1,"../flowplayer":18,bean:20,"class-list":21}],7:[function(e,t,n){"use strict";var r=e("../flowplayer"),o=e("bean"),i=e("../common"),a=(e("is-object"),e("extend-object")),l=e("class-list");r(function(e,t){if(e.conf.embed!==!1){var n=(e.conf,i.find(".fp-ui",t)[0]),r=i.createElement("a",{"class":"fp-embed",title:"Copy to your site"}),l=i.createElement("div",{"class":"fp-embed-code"},"<label>Paste this HTML code on your site to embed.</label><textarea></textarea>"),u=i.find("textarea",l)[0];n.appendChild(r),n.appendChild(l),e.embedCode=function(){var n=e.conf.embed||{},r=e.video;if(n.iframe){var o=(e.conf.embed.iframe,n.width||r.width||i.width(t)),l=n.height||r.height||i.height(t);return'<iframe src="'+e.conf.embed.iframe+'" allowfullscreen style="width:'+o+";height:"+l+';border:none;"></iframe>'}var s=["ratio","rtmp","live","bufferTime","origin","analytics","key","subscribe","swf","swfHls","embed","adaptiveRatio","logo"];n.playlist&&s.push("playlist");var u=i.pick(e.conf,s);u.logo&&(u.logo=i.createElement("img",{src:u.logo}).src),n.playlist&&e.conf.playlist.length||(u.clip=a({},e.conf.clip,i.pick(e.video,["sources"])));var c='var w=window,d=document,e;w._fpes||(w._fpes=[],w.addEventListener("load",function(){var s=d.createElement("script");s.src="//embed.flowplayer.org/6.0.5/embed.min.js",d.body.appendChild(s)})),e=[].slice.call(d.getElementsByTagName("script"),-1)[0].parentNode,w._fpes.push({e:e,l:"$library",c:$conf});\n'.replace("$conf",JSON.stringify(u)).replace("$library",n.library||"");return'<a href="$href">Watch video!\n<script>$script</script></a>'.replace("$href",e.conf.origin||window.location.href).replace("$script",c)},s(t,".fp-embed","is-embedding"),o.on(t,"click",".fp-embed-code textarea",function(){u.select()}),o.on(t,"click",".fp-embed",function(){u.textContent=e.embedCode().replace(/(\r\n|\n|\r)/gm,""),u.focus(),u.select()})}});var s=function(e,t,n){function r(){a.remove(n),o.off(document,".st")}var a=l(e);o.on(e,"click",t||"a",function(e){e.preventDefault(),a.toggle(n),a.contains(n)&&(o.on(document,"keydown.st",function(e){27==e.which&&r()}),o.on(document,"click.st",function(e){i.hasParent(e.target,"."+n)||r()}))})}},{"../common":1,"../flowplayer":18,bean:20,"class-list":21,"extend-object":25,"is-object":27}],8:[function(e,t,n){"use strict";t.exports=function(e,t){t||(t=document.createElement("div"));var n={},r={},o=function(e,o,i){var a=e.split(".")[0],l=function(s){i&&(t.removeEventListener(a,l),n[e].splice(n[e].indexOf(l),1));var u=[s].concat(r[s.timeStamp+s.type]||[]);o&&o.apply(void 0,u)};t.addEventListener(a,l),n[e]||(n[e]=[]),n[e].push(l)};e.on=e.bind=function(t,n){var r=t.split(" ");return r.forEach(function(e){o(e,n)}),e},e.one=function(t,n){var r=t.split(" ");return r.forEach(function(e){o(e,n,!0)}),e};var i=function(e,t){return 0===t.filter(function(t){return-1===e.indexOf(t)}).length};e.off=e.unbind=function(r){var o=r.split(" ");return o.forEach(function(e){var r=e.split(".").slice(1),o=e.split(".")[0];Object.keys(n).filter(function(e){var t=e.split(".").slice(1);return(!o||0===e.indexOf(o))&&i(t,r)}).forEach(function(e){var r=n[e],o=e.split(".")[0];r.forEach(function(e){t.removeEventListener(o,e),r.splice(r.indexOf(e),1)})})}),e},e.trigger=function(n,o,i){if(n){o=(o||[]).length?o||[]:[o];var a,l=document.createEvent("Event");return a=n.type||n,l.initEvent(a,!1,!0),Object.defineProperty&&(l.preventDefault=function(){Object.defineProperty(this,"defaultPrevented",{get:function(){return!0}})}),r[l.timeStamp+l.type]=o,t.dispatchEvent(l),i?l:e}}},t.exports.EVENTS=["beforeseek","disable","error","finish","fullscreen","fullscreen-exit","load","mute","pause","progress","ready","resume","seek","speed","stop","unload","volume","boot","shutdown"]},{}],9:[function(e,t,n){"use strict";var r,o=e("../flowplayer"),i=e("bean"),a=e("class-list"),l=(e("extend-object"),e("../common")),s=(o.support.browser.mozilla?"moz":"webkit","fullscreen"),u="fullscreen-exit",c=o.support.fullscreen,f=("function"==typeof document.exitFullscreen,navigator.userAgent.toLowerCase()),d=/(safari)[ \/]([\w.]+)/.exec(f)&&!/(chrome)[ \/]([\w.]+)/.exec(f);i.on(document,"fullscreenchange.ffscr webkitfullscreenchange.ffscr mozfullscreenchange.ffscr MSFullscreenChange.ffscr",function(e){var t=document.webkitCurrentFullScreenElement||document.mozFullScreenElement||document.fullscreenElement||document.msFullscreenElement||e.target;if(r||t.parentNode&&t.parentNode.getAttribute("data-flowplayer-instance-id")){var n=r||o(t.parentNode);t&&!r?r=n.trigger(s,[t]):(r.trigger(u,[r]),r=null)}}),o(function(e,t){var n=l.createElement("div",{className:"fp-player"});if(Array.prototype.map.call(t.children,l.identity).forEach(function(e){l.matches(e,".fp-ratio,script")||n.appendChild(e)}),t.appendChild(n),e.conf.fullscreen){var o,i,f=window,p=a(t);e.isFullscreen=!1,e.fullscreen=function(t){return e.disabled?void 0:(void 0===t&&(t=!e.isFullscreen),t&&(o=f.scrollY,i=f.scrollX),c?t?["requestFullScreen","webkitRequestFullScreen","mozRequestFullScreen","msRequestFullscreen"].forEach(function(e){return"function"==typeof n[e]?(n[e](Element.ALLOW_KEYBOARD_INPUT),!d||document.webkitCurrentFullScreenElement||document.mozFullScreenElement||n[e](),!1):void 0}):["exitFullscreen","webkitCancelFullScreen","mozCancelFullScreen","msExitFullscreen"].forEach(function(e){return"function"==typeof document[e]?(document[e](),!1):void 0}):e.trigger(t?s:u,[e]),e)};var m;e.on("mousedown.fs",function(){+new Date-m<150&&e.ready&&e.fullscreen(),m=+new Date}),e.on(s,function(n){p.add("is-fullscreen"),c||l.css(t,"position","fixed"),e.isFullscreen=!0}).on(u,function(n){var r;c||"html5"!==e.engine||(r=t.css("opacity")||"",l.css(t,"opacity",0)),c||l.css(t,"position",""),p.remove("is-fullscreen"),c||"html5"!==e.engine||setTimeout(function(){t.css("opacity",r)}),e.isFullscreen=!1,f.scrollTo(i,o)}).on("unload",function(){e.isFullscreen&&e.fullscreen()}),e.on("shutdown",function(){r=null})}})},{"../common":1,"../flowplayer":18,bean:20,"class-list":21,"extend-object":25}],10:[function(e,t,n){"use strict";var r,o,i=e("../flowplayer"),a=e("bean"),l="is-help",s=e("../common"),u=e("class-list");a.on(document,"keydown.fp",function(e){var t=r,n=e.ctrlKey||e.metaKey||e.altKey,i=e.which,a=t&&t.conf,s=o&&u(o);if(t&&a.keyboard&&!t.disabled){if(-1!=[63,187,191].indexOf(i))return s.toggle(l),!1;if(27==i&&s.contains(l))return s.toggle(l),!1;if(!n&&t.ready){if(e.preventDefault(),e.shiftKey)return void(39==i?t.speed(!0):37==i&&t.speed(!1));if(58>i&&i>47)return t.seekTo(i-48);switch(i){case 38:case 75:t.volume(t.volumeLevel+.15);break;case 40:case 74:t.volume(t.volumeLevel-.15);break;case 39:case 76:t.seeking=!0,t.seek(!0);break;case 37:case 72:t.seeking=!0,t.seek(!1);break;case 190:t.seekTo();break;case 32:t.toggle();break;case 70:a.fullscreen&&t.fullscreen();break;case 77:t.mute();break;case 81:t.unload()}}}}),i(function(e,t){if(e.conf.keyboard){a.on(t,"mouseenter mouseleave",function(n){r=e.disabled||"mouseover"!=n.type?0:e,r&&(o=t)});var n=i.support.video&&"flash"!==e.conf.engine&&document.createElement("video").playbackRate?"<p><em>shift</em> + <em>&#8592;</em><em>&#8594;</em>slower / faster</p>":"";if(t.appendChild(s.createElement("div",{
className:"fp-help"},'         <a class="fp-close"></a>         <div class="fp-help-section fp-help-basics">            <p><em>space</em>play / pause</p>            <p><em>q</em>unload | stop</p>            <p><em>f</em>fullscreen</p>'+n+'         </div>         <div class="fp-help-section">            <p><em>&#8593;</em><em>&#8595;</em>volume</p>            <p><em>m</em>mute</p>         </div>         <div class="fp-help-section">            <p><em>&#8592;</em><em>&#8594;</em>seek</p>            <p><em>&nbsp;. </em>seek to previous            </p><p><em>1</em><em>2</em>&hellip; <em>6</em> seek to 10%, 20% &hellip; 60% </p>         </div>   ')),e.conf.tooltip){var c=s.find(".fp-ui",t)[0];c.setAttribute("title","Hit ? for help"),a.one(t,"mouseout.tip",".fp-ui",function(){c.removeAttribute("title")})}a.on(t,"click",".fp-close",function(){u(t).toggle(l)}),e.bind("shutdown",function(){o==t&&(o=null)})}})},{"../common":1,"../flowplayer":18,bean:20,"class-list":21}],11:[function(e,t,n){"use strict";var r=e("../flowplayer"),o=/IEMobile/.test(window.navigator.userAgent),i=e("class-list"),a=e("../common"),l=e("bean"),s=e("./ui").format,u=window.navigator.userAgent;(r.support.touch||o)&&r(function(e,t){var n=/Android/.test(u)&&!/Firefox/.test(u)&&!/Opera/.test(u),c=/Silk/.test(u),f=n?parseFloat(/Android\ (\d\.?\d?)/.exec(u)[1],10):0,d=i(t);if(n&&!o){if(!/Chrome/.test(u)&&4>f){var p=e.load;e.load=function(t,n){var r=p.apply(e,arguments);return e.trigger("ready",[e,e.video]),r}}var m,v=0,g=function(e){m=setInterval(function(){e.video.time=++v,e.trigger("progress",[e,v])},1e3)};e.bind("ready pause unload",function(){m&&(clearInterval(m),m=null)}),e.bind("ready",function(){v=0}),e.bind("resume",function(t,n){return n.live?v?g(n):void e.one("progress",function(e,t,n){0===n&&g(t)}):void 0})}r.support.volume||(d.add("no-volume"),d.add("no-mute")),d.add("is-touch"),e.sliders&&e.sliders.timeline&&e.sliders.timeline.disableAnimation(),(!r.support.inlineVideo||e.conf.native_fullscreen)&&(e.conf.nativesubtitles=!0);var h=!1;l.on(t,"touchmove",function(){h=!0}),l.on(t,"touchend click",function(t){return h?void(h=!1):e.playing&&!d.contains("is-mouseover")?(d.add("is-mouseover"),d.remove("is-mouseout"),t.preventDefault(),void t.stopPropagation()):void(e.playing||e.splash||!d.contains("is-mouseout")||d.contains("is-mouseover")||setTimeout(function(){e.playing||e.splash||e.resume()},400))}),e.conf.native_fullscreen&&"function"==typeof document.createElement("video").webkitEnterFullScreen&&(e.fullscreen=function(){var e=a.find("video.fp-engine",t)[0];e.webkitEnterFullScreen(),l.one(e,"webkitendfullscreen",function(){a.prop(e,"controls",!0),a.prop(e,"controls",!1)})}),(n||c)&&e.bind("ready",function(){var n=a.find("video.fp-engine",t)[0];l.one(n,"canplay",function(){n.play()}),n.play(),e.bind("progress.dur",function(){var r=n.duration;1!==r&&(e.video.duration=r,a.find(".fp-duration",t)[0].innerHTML=s(r),e.unbind("progress.dur"))})})})},{"../common":1,"../flowplayer":18,"./ui":17,bean:20,"class-list":21}],12:[function(e,t,n){"use strict";var r=e("../flowplayer"),o=e("extend-object"),i=e("bean"),a=e("class-list"),l=e("../common"),s=e("./resolve"),u=new s,c=window.jQuery,f=/^#/;r(function(e,t){function n(){return l.find(v.query,r())}function r(){return f.test(v.query)?void 0:t}function d(){return l.find(v.query+"."+g,r())}function p(){var n=l.find(".fp-playlist",t)[0];if(!n){n=l.createElement("div",{className:"fp-playlist"});var r=l.find(".fp-next,.fp-prev",t);r.length?r[0].parentElement.insertBefore(n,r[0]):l.insertAfter(t,l.find("video",t)[0],n)}n.innerHTML="",e.conf.playlist[0].length&&(e.conf.playlist=e.conf.playlist.map(function(e){if("string"==typeof e){var t=e.split(s.TYPE_RE)[1];return{sources:[{type:"m3u8"===t.toLowerCase()?"application/x-mpegurl":"video/"+t,src:e}]}}return{sources:e.map(function(e){var t={};return Object.keys(e).forEach(function(n){t.type=/mpegurl/i.test(n)?"application/x-mpegurl":"video/"+n,t.src=e[n]}),t})}})),e.conf.playlist.forEach(function(e,t){var r=e.sources[0].src;n.appendChild(l.createElement("a",{href:r,"data-index":t}))})}function m(t){return"undefined"!=typeof t.index?t.index:"undefined"!=typeof e.video.index?e.video.index:e.conf.startIndex||0}var v=o({active:"is-active",advance:!0,query:".fp-playlist a"},e.conf),g=v.active,h=a(t);e.play=function(t){if(void 0===t)return e.resume();if("number"==typeof t&&!e.conf.playlist[t])return e;if("number"!=typeof t)return e.load.apply(null,arguments);var n=o({index:t},e.conf.playlist[t]);return t===e.video.index?e.load(n,function(){e.resume()}):(e.off("resume.fromfirst"),e.load(n,function(){e.video.index=t}),e)},e.next=function(t){t&&t.preventDefault();var n=e.video.index;return-1!=n&&(n=n===e.conf.playlist.length-1?0:n+1,e.play(n)),e},e.prev=function(t){t&&t.preventDefault();var n=e.video.index;return-1!=n&&(n=0===n?e.conf.playlist.length-1:n-1,e.play(n)),e},e.setPlaylist=function(t){return e.conf.playlist=t,delete e.video.index,p(),e},e.addPlaylistItem=function(t){return e.setPlaylist(e.conf.playlist.concat([t]))},e.removePlaylistItem=function(t){var n=e.conf.playlist;return e.setPlaylist(n.slice(0,t).concat(n.slice(t+1)))},i.on(t,"click",".fp-next",e.next),i.on(t,"click",".fp-prev",e.prev),v.advance&&e.off("finish.pl").on("finish.pl",function(e,t){if(t.video.loop)return t.seek(0,function(){t.resume()});var n=t.video.index>=0?t.video.index+1:void 0;n<t.conf.playlist.length||v.loop?(n=n===t.conf.playlist.length?0:n,h.remove("is-finished"),setTimeout(function(){t.play(n)})):t.conf.playlist.length>1&&t.one("resume.fromfirst",function(){return t.play(0),!1})});var y=!1;e.conf.playlist.length&&(y=!0,p(),e.conf.clip&&e.conf.clip.sources.length||(e.conf.clip=e.conf.playlist[e.conf.startIndex||0])),n().length&&!y&&(e.conf.playlist=[],delete e.conf.startIndex,n().forEach(function(t){var n=t.href;t.setAttribute("data-index",e.conf.playlist.length);var r=u.resolve(n,e.conf.clip.sources);c&&o(r,c(t).data()),e.conf.playlist.push(r)})),i.on(f.test(v.query)?document:t,"click",v.query,function(t){t.preventDefault();var n=t.currentTarget,r=Number(n.getAttribute("data-index"));-1!=r&&e.play(r)}),e.on("load",function(n,o,i){if(e.conf.playlist.length){var s=d()[0],u=s&&s.getAttribute("data-index"),c=i.index=m(i),f=l.find(v.query+'[data-index="'+c+'"]',r())[0],p=c==e.conf.playlist.length-1;s&&a(s).remove(g),f&&a(f).add(g),h.remove("video"+u),h.add("video"+c),l.toggleClass(t,"last-video",p),i.index=o.video.index=c,i.is_last=o.video.is_last=p}}).on("unload.pl",function(){e.conf.playlist.length&&(d().forEach(function(e){a(e).toggle(g)}),e.conf.playlist.forEach(function(e,t){h.remove("video"+t)}))}),e.conf.playlist.length&&(e.conf.loop=!1)})},{"../common":1,"../flowplayer":18,"./resolve":13,bean:20,"class-list":21,"extend-object":25}],13:[function(e,t,n){"use strict";function r(e){var t=e.attr("src"),n=e.attr("type")||"",r=t.split(i)[1];return n=n.toLowerCase(),a(e.data(),{src:t,suffix:r||n,type:n||r})}function o(e){return/mpegurl/i.test(e)?"application/x-mpegurl":"video/"+e}var i=/\.(\w{3,4})(\?.*)?$/i,a=e("extend-object");t.exports=function(){var e=this;e.sourcesFromVideoTag=function(e,t){var n=[];return t("source",e).each(function(){n.push(r(t(this)))}),!n.length&&e.length&&n.push(r(e)),n},e.resolve=function(e,t){return e?("string"==typeof e&&(e={src:e,sources:[]},e.sources=(t||[]).map(function(t){var n=t.src.split(i)[1];return{type:t.type,src:e.src.replace(i,"."+n+"$2")}})),e instanceof Array&&(e={sources:e.map(function(e){return e.type&&e.src?e:Object.keys(e).reduce(function(t,n){return a(t,{type:o(n),src:e[n]})},{})})}),e):{sources:t}}},t.exports.TYPE_RE=i},{"extend-object":25}],14:[function(e,t,n){"use strict";var r=e("class-list"),o=e("bean"),i=e("../common"),a=function(e,t){var n;return function(){n||(e.apply(this,arguments),n=1,setTimeout(function(){n=0},t))}},l=function(e,t){var n,l,s,u,c,f,d,p,m=(/iPad/.test(navigator.userAgent)&&!/CriOS/.test(navigator.userAgent),i.lastChild(e)),v=r(e),g=r(m),h=!1,y=function(){l=i.offset(e),s=i.width(e),u=i.height(e),f=c?u:s,p=E(d)},b=function(t){n||t==k.value||d&&!(d>t)||(o.fire(e,"slide",[t]),k.value=t)},w=function(e){var n=e.pageX||e.clientX;!n&&e.originalEvent&&e.originalEvent.touches&&e.originalEvent.touches.length&&(n=e.originalEvent.touches[0].pageX);var r=c?e.pageY-l.top:n-l.left;r=Math.max(0,Math.min(p||f,r));var o=r/f;return c&&(o=1-o),t&&(o=1-o),x(o,0,!0)},x=function(e,t){void 0===t&&(t=0),e>1&&(e=1);var n=Math.round(1e3*e)/10+"%";return(!d||d>=e)&&(g.remove("animated"),h?g.remove("animated"):(g.add("animated"),i.css(m,"transition-duration",(t||0)+"ms")),i.css(m,"width",n)),e},E=function(e){return Math.max(0,Math.min(f,c?(1-e)*u:e*s))},k={max:function(e){d=e},disable:function(e){n=e},slide:function(e,t,n){y(),n&&b(e),x(e,t)},disableAnimation:function(t,n){h=t!==!1,i.toggleClass(e,"no-animation",!!n)}};return y(),o.on(e,"mousedown.sld touchstart",function(e){if(e.preventDefault(),!n){var t=a(b,100);y(),k.dragging=!0,v.add("is-dragging"),b(w(e)),o.on(document,"mousemove.sld touchmove.sld",function(e){e.preventDefault(),t(w(e))}),o.one(document,"mouseup touchend",function(){k.dragging=!1,v.remove("is-dragging"),o.off(document,"mousemove.sld touchmove.sld")})}}),k};t.exports=l},{"../common":1,bean:20,"class-list":21}],15:[function(e,t,n){},{"../common":1,"../flowplayer":18,bean:20,"class-list":21}],16:[function(e,t,n){"use strict";var r=e("../flowplayer"),o=e("extend-object");!function(){var e=function(e){var t=/Version\/(\d\.\d)/.exec(e);return t&&t.length>1?parseFloat(t[1],10):0},t=function(){var e=document.createElement("video");return e.loop=!0,e.autoplay=!0,e.preload=!0,e},n={},i=navigator.userAgent.toLowerCase(),a=/(chrome)[ \/]([\w.]+)/.exec(i)||/(safari)[ \/]([\w.]+)/.exec(i)||/(webkit)[ \/]([\w.]+)/.exec(i)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(i)||/(msie) ([\w.]+)/.exec(i)||i.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(i)||[];a[1]&&(n[a[1]]=!0,n.version=a[2]||"0");var l=t(),s=navigator.userAgent,u=n.msie||/Trident\/7/.test(s),c=/iPad|MeeGo/.test(s)&&!/CriOS/.test(s),f=/iPad/.test(s)&&/CriOS/.test(s),d=/iP(hone|od)/i.test(s)&&!/iPad/.test(s)&&!/IEMobile/i.test(s),p=/Android/.test(s)&&!/Firefox/.test(s),m=/Android/.test(s)&&/Firefox/.test(s),v=/Silk/.test(s),g=/IEMobile/.test(s),h=g?parseFloat(/Windows\ Phone\ (\d+\.\d+)/.exec(s)[1],10):0,y=g?parseFloat(/IEMobile\/(\d+\.\d+)/.exec(s)[1],10):0,b=(c?e(s):0,p?parseFloat(/Android\ (\d\.?\d?)/.exec(s)[1],10):0),w=o(r.support,{browser:n,subtitles:!!l.addTextTrack,fullscreen:"function"==typeof document.webkitCancelFullScreen&&!/Mac OS X 10_5.+Version\/5\.0\.\d Safari/.test(s)||document.mozFullScreenEnabled||"function"==typeof document.exitFullscreen||"function"==typeof document.msExitFullscreen,inlineBlock:!(u&&n.version<8),touch:"ontouchstart"in window,dataload:!c&&!d&&!g,zeropreload:!u&&!p,volume:!(c||p||d||v||f),cachedVideoTag:!(c||d||f||g),firstframe:!(d||c||p||v||f||g||m),inlineVideo:!d&&(!g||h>=8.1&&y>=11)&&(!p||b>=3),hlsDuration:!p&&(!n.safari||c||d||f),seekable:!c&&!f});try{var x=navigator.plugins["Shockwave Flash"],E=u?new ActiveXObject("ShockwaveFlash.ShockwaveFlash").GetVariable("$version"):x.description;u||x[0].enabledPlugin?(E=E.split(/\D+/),E.length&&!E[0]&&(E=E.slice(1)),w.flashVideo=E[0]>9||9==E[0]&&E[3]>=115):w.flashVideo=!1}catch(k){}try{w.video=!!l.canPlayType,w.video&&l.canPlayType("video/mp4")}catch(T){w.video=!1}w.animation=function(){for(var e=["","Webkit","Moz","O","ms","Khtml"],t=document.createElement("p"),n=0;n<e.length;n++)if("undefined"!=typeof t.style[e[n]+"AnimationName"])return!0}()}()},{"../flowplayer":18,"extend-object":25}],17:[function(e,t,n){"use strict";function r(e){return e=parseInt(e,10),e>=10?e:"0"+e}function o(e){e=e||0;var t=Math.floor(e/3600),n=Math.floor(e/60);return e-=60*n,t>=1?(n-=60*t,t+":"+r(n)+":"+r(e)):r(n)+":"+r(e)}var i=e("../flowplayer"),a=e("../common"),l=e("class-list"),s=e("bean"),u=e("./slider");i(function(e,t){function n(e){return a.find(".fp-"+e,t)[0]}function r(e){a.css(w,"padding-top",100*e+"%"),p.inlineBlock||a.height(a.find("object",t)[0],a.height(t))}function c(e){e?(m.add("is-mouseover"),m.remove("is-mouseout")):(m.add("is-mouseout"),m.remove("is-mouseover"))}var f,d=e.conf,p=i.support,m=l(t);a.find(".fp-ratio,.fp-ui",t).forEach(a.removeNode),m.add("flowplayer"),t.appendChild(a.createElement("div",{className:"fp-ratio"}));var v=a.createElement("div",{className:"fp-ui"},'         <div class="waiting"><em></em><em></em><em></em></div>         <a class="fullscreen"></a>         <a class="unload"></a>         <p class="speed"></p>         <div class="controls">            <a class="play"></a>            <div class="timeline">               <div class="buffer"></div>               <div class="progress"></div>            </div>            <div class="timeline-tooltip fp-tooltip"></div>            <div class="volume">               <a class="mute"></a>               <div class="volumeslider">                  <div class="volumelevel"></div>               </div>            </div>         </div>         <div class="time">            <em class="elapsed">00:00</em>            <em class="remaining"></em>            <em class="duration">00:00</em>         </div>         <div class="message"><h2></h2><p></p></div>'.replace(/class="/g,'class="fp-'));t.appendChild(v);var g=(n("progress"),n("buffer")),h=n("elapsed"),y=n("remaining"),b=n("waiting"),w=n("ratio"),x=n("speed"),E=l(x),k=n("duration"),T=n("controls"),S=n("timeline-tooltip"),N=a.css(w,"padding-top"),C=n("timeline"),j=u(C,e.rtl),O=(n("volume"),n("fullscreen")),P=n("volumeslider"),A=u(P,e.rtl),_=m.contains("fixed-controls")||m.contains("no-toggle");j.disableAnimation(m.contains("is-touch")),e.sliders=e.sliders||{},e.sliders.timeline=j,e.sliders.volume=A,p.animation||a.html(b,"<p>loading &hellip;</p>"),d.ratio&&r(d.ratio);try{d.fullscreen||a.removeNode(O)}catch(D){a.removeNode(O)}e.on("ready",function(e,n,i){var l=n.video.duration;j.disable(n.disabled||!l),d.adaptiveRatio&&!isNaN(i.height/i.width)&&r(i.height/i.width,!0),a.html([k,y],o(l)),a.toggleClass(t,"is-long",l>=3600),A.slide(n.volumeLevel),"flash"===n.engine.engineName?j.disableAnimation(!0,!0):j.disableAnimation(!1),a.find(".fp-title",v).forEach(a.removeNode),i.title&&a.prepend(v,a.createElement("div",{className:"fp-title"},i.title))}).on("unload",function(){N||d.splash||a.css(w,"paddingTop",""),j.slide(0)}).on("buffer",function(){var t=e.video,n=t.buffer/t.duration;!t.seekable&&p.seekable&&j.max(n),1>n?a.css(g,"width",100*n+"%"):a.css(g,"width","100%")}).on("speed",function(e,t,n){a.text(x,n+"x"),E.add("fp-hilite"),setTimeout(function(){E.remove("fp-hilite")},1e3)}).on("buffered",function(){a.css(g,"width","100%"),j.max(1)}).on("progress",function(){var t=e.video.time,n=e.video.duration;j.dragging||j.slide(t/n,e.seeking?0:250),a.html(h,o(t)),a.html(y,"-"+o(n-t))}).on("finish resume seek",function(e){a.toggleClass(t,"is-finished","finish"==e.type)}).on("stop",function(){a.html(h,o(0)),j.slide(0,100)}).on("finish",function(){a.html(h,o(e.video.duration)),j.slide(1,100),m.remove("is-seeking")}).on("beforeseek",function(){}).on("volume",function(){A.slide(e.volumeLevel)}).on("disable",function(){var n=e.disabled;j.disable(n),A.disable(n),a.toggleClass(t,"is-disabled",e.disabled)}).on("mute",function(e,n,r){a.toggleClass(t,"is-muted",r)}).on("error",function(e,n,r){if(a.removeClass(t,"is-loading"),a.removeClass(t,"is-seeking"),a.addClass(t,"is-error"),r){r.message=d.errors[r.code],n.error=!0;var o=a.find(".fp-message",t)[0],i=r.video||n.video;a.find("h2",o)[0].innerHTML=(n.engine&&n.engine.engineName||"html5")+": "+r.message,a.find("p",o)[0].innerHTML=r.url||i.url||i.src||d.errorUrls[r.code],n.off("mouseenter click"),m.remove("is-mouseover")}}),s.on(t,"mouseenter mouseleave",function(n){if(!_){var r,o="mouseover"==n.type;if(c(o),o){var i=function(){c(!0),r=new Date};e.on("pause.x volume.x",i),s.on(t,"mousemove.x",i),f=setInterval(function(){new Date-r>d.mouseoutTimeout&&(c(!1),r=new Date)},100)}else s.off(t,"mousemove.x"),e.off("pause.x volume.x"),clearInterval(f)}}),s.on(t,"mouseleave",function(){(j.dragging||A.dragging)&&(m.add("is-mouseover"),m.remove("is-mouseout"))}),s.on(t,"click.player",function(t){if(!e.disabled){var n=l(t.target);return n.contains("fp-ui")||n.contains("fp-engine")||t.flash?(t.preventDefault&&t.preventDefault(),e.toggle()):void 0}}),s.on(t,"mousemove",".fp-timeline",function(t){var n=t.pageX||t.clientX,r=n-a.offset(C).left,i=r/a.width(C),l=i*e.video.duration;0>i||(a.html(S,o(l)),a.css(S,"left",n-a.offset(T).left-a.width(S)/2+"px"))}),s.on(t,"contextmenu",function(e){var n=a.offset(a.find(".fp-player",t)[0]),r=window,o=e.clientX-(n.left+r.scrollX),i=e.clientY-(n.top+r.scrollY);if(!m.contains("is-flash-disabled")){var l=a.find(".fp-context-menu",t)[0];l&&(e.preventDefault(),a.css(l,{left:o+"px",top:i+"px",display:"block"}),s.on(t,"click",".fp-context-menu",function(e){e.stopPropagation()}),s.on(document,"click.outsidemenu",function(e){a.css(l,"display","none"),s.off(document,"click.outsidemenu")}))}}),e.on("flashdisabled",function(){m.add("is-flash-disabled"),e.one("ready progress",function(){m.remove("is-flash-disabled"),a.find(".fp-flash-disabled",t).forEach(a.removeNode)}),t.appendChild(a.createElement("div",{className:"fp-flash-disabled"},"Adobe Flash is disabled for this page, click player area to enable"))}),d.poster&&a.css(t,"background-image","url("+d.poster+")");var M=a.css(t,"background-color"),L="none"!=a.css(t,"background-image")||M&&"rgba(0, 0, 0, 0)"!=M&&"transparent"!=M;L&&!d.splash&&(d.poster||(d.poster=!0),e.on("ready stop",function(){m.add("is-poster"),e.poster=!0,e.one("progress",function(){m.remove("is-poster"),e.poster=!1})})),"string"==typeof d.splash&&a.css(t,"background-image","url('"+d.splash+"')"),!L&&e.forcedSplash&&a.css(t,"background-color","#555"),s.on(t,"click",".fp-toggle, .fp-play",function(){e.disabled||e.toggle()}),s.on(t,"click",".fp-mute",function(){e.mute()}),s.on(t,"click",".fp-fullscreen",function(){e.fullscreen()}),s.on(t,"click",".fp-unload",function(){e.unload()}),s.on(C,"slide",function(t){e.seeking=!0,e.seek(t*e.video.duration)}),s.on(P,"slide",function(t){e.volume(t)});var I=n("time");s.on(t,"click",".fp-time",function(){l(I).toggle("is-inverted")}),c(_),e.on("shutdown",function(){s.off(C),s.off(P)})}),t.exports.format=o},{"../common":1,"../flowplayer":18,"./slider":14,bean:20,"class-list":21}],18:[function(e,t,n){"use strict";function r(e,t,n){t&&t.embed&&(t.embed=o({},y.defaults.embed,t.embed));var r,d,m=e,v=a(m),g=o({},y.defaults,y.conf,t),h={},x=new w;v.add("is-loading");try{h=p?window.localStorage:h}catch(E){}var k=m.currentStyle&&"rtl"===m.currentStyle.direction||window.getComputedStyle&&null!==window.getComputedStyle(m,null)&&"rtl"===window.getComputedStyle(m,null).getPropertyValue("direction");k&&v.add("is-rtl");var T={conf:g,currentSpeed:1,volumeLevel:g.muted?0:"undefined"==typeof g.volume?1*h.volume:g.volume,video:{},disabled:!1,finished:!1,loading:!1,muted:"true"==h.muted||g.muted,paused:!1,playing:!1,ready:!1,splash:!1,rtl:k,load:function(e,t){if(!T.error&&!T.loading){T.video={},T.finished=!1,e=e||g.clip,e=o({},x.resolve(e,g.clip.sources)),(T.playing||T.engine)&&(e.autoplay=!0);var n=S(e);if(!n)return T.trigger("error",[T,{code:y.support.flashVideo?5:10}]);if(!n.engineName)throw new Error("engineName property of factory should be exposed");if(T.engine&&n.engineName===T.engine.engineName||(T.ready=!1,T.engine&&(T.engine.unload(),T.conf.autoplay=!0),d=T.engine=n(T,m),T.one("ready",function(){d.volume(T.volumeLevel)})),o(e,d.pick(e.sources.filter(function(e){return e.engine?e.engine===d.engineName:!0}))),e.src){var r=T.trigger("load",[T,e,d],!0);r.defaultPrevented?T.loading=!1:(d.load(e),i(e)&&(t=e),t&&T.one("ready",t))}return T}},pause:function(e){return!T.ready||T.seeking||T.loading||(d.pause(),T.one("pause",e)),T},resume:function(){return T.ready&&T.paused&&(d.resume(),T.finished&&(T.trigger("resume",[T]),T.finished=!1)),T},toggle:function(){return T.ready?T.paused?T.resume():T.pause():T.load()},seek:function(e,t){if(T.ready&&!T.live){if("boolean"==typeof e){var n=.1*T.video.duration;e=T.video.time+(e?n:-n)}e=r=Math.min(Math.max(e,0),T.video.duration-.1).toFixed(1);var o=T.trigger("beforeseek",[T,e],!0);o.defaultPrevented?(T.seeking=!1,s.toggleClass(m,"is-seeking",T.seeking)):(d.seek(e),i(t)&&T.one("seek",t))}return T},seekTo:function(e,t){var n=void 0===e?r:.1*T.video.duration*e;return T.seek(n,t)},mute:function(e,t){return void 0===e&&(e=!T.muted),t||(h.muted=T.muted=e,h.volume=isNaN(h.volume)?g.volume:h.volume),T.volume(e?0:h.volume,!0),T.trigger("mute",[T,e]),T},volume:function(e,t){return T.ready&&(e=Math.min(Math.max(e,0),1),t||(h.volume=e),d.volume(e)),T},speed:function(e,t){return T.ready&&("boolean"==typeof e&&(e=g.speeds[g.speeds.indexOf(T.currentSpeed)+(e?1:-1)]||T.currentSpeed),d.speed(e),t&&m.one("speed",t)),T},stop:function(){return T.ready&&(T.pause(),T.seek(0,function(){T.trigger("stop",[T])})),T},unload:function(){return v.contains("is-embedding")||(g.splash?(T.trigger("unload",[T]),d&&(d.unload(),T.engine=d=0)):T.stop()),T},shutdown:function(){T.unload(),T.trigger("shutdown",[T]),l.off(m),delete c[m.getAttribute("data-flowplayer-instance-id")],m.removeAttribute("data-flowplayer-instance-id")},disable:function(e){return void 0===e&&(e=!T.disabled),e!=T.disabled&&(T.disabled=e,T.trigger("disable",e)),T}};T.conf=o(T.conf,g),u(T);var S=function(e){var t,n=y.engines;if(g.engine){var r=n.filter(function(e){return e.engineName===g.engine})[0];if(r&&e.sources.some(function(e){return e.engine&&e.engine!==r.engineName?!1:r.canPlay(e.type,T.conf)}))return r}return g.enginePreference&&(n=y.engines.filter(function(e){return g.enginePreference.indexOf(e.engineName)>-1}).sort(function(e,t){return g.enginePreference.indexOf(e.engineName)-g.enginePreference.indexOf(t.engineName)})),e.sources.some(function(e){var r=n.filter(function(t){return e.engine&&e.engine!==t.engineName?!1:t.canPlay(e.type,T.conf)}).shift();return r&&(t=r),!!r}),t};return m.getAttribute("data-flowplayer-instance-id")||(m.setAttribute("data-flowplayer-instance-id",b++),T.on("boot",function(){(g.splash||v.contains("is-splash")||!y.support.firstframe)&&(T.forcedSplash=!g.splash&&!v.contains("is-splash"),T.splash=g.autoplay=!0,g.splash||(g.splash=!0),v.add("is-splash")),g.splash&&s.find("video",m).forEach(s.removeNode),(g.live||v.contains("is-live"))&&(T.live=g.live=!0,v.add("is-live")),f.forEach(function(e){e(T,m)}),c.push(T),g.splash?T.unload():T.load(),g.disabled&&T.disable(),T.one("ready",n)}).on("load",function(e,t,n){g.splash&&s.find(".flowplayer.is-ready,.flowplayer.is-loading").forEach(function(e){var t=e.getAttribute("data-flowplayer-instance-id");if(t!==m.getAttribute("data-flowplayer-instance-id")){var n=c[Number(t)];n&&n.conf.splash&&n.unload()}}),v.add("is-loading"),t.loading=!0,"undefined"!=typeof n.live&&(s.toggleClass(m,"is-live",n.live),t.live=n.live)}).on("ready",function(e,t,n){n.time=0,t.video=n,v.remove("is-loading"),t.loading=!1,t.muted?t.mute(!0,!0):t.volume(t.volumeLevel);var r=t.conf.hlsFix&&/mpegurl/i.exec(n.type);s.toggleClass(m,"hls-fix",!!r)}).on("unload",function(e){v.remove("is-loading"),T.loading=!1}).on("ready unload",function(e){var t="ready"==e.type;s.toggleClass(m,"is-splash",!t),s.toggleClass(m,"is-ready",t),T.ready=t,T.splash=!t}).on("progress",function(e,t,n){t.video.time=n}).on("speed",function(e,t,n){t.currentSpeed=n}).on("volume",function(e,t,n){t.volumeLevel=Math.round(100*n)/100,t.muted?n&&t.mute(!1):h.volume=n}).on("beforeseek seek",function(e){T.seeking="beforeseek"==e.type,s.toggleClass(m,"is-seeking",T.seeking)}).on("ready pause resume unload finish stop",function(e,t,n){T.paused=/pause|finish|unload|stop/.test(e.type),T.paused=T.paused||"ready"===e.type&&!g.autoplay&&!T.playing,T.playing=!T.paused,s.toggleClass(m,"is-paused",T.paused),s.toggleClass(m,"is-playing",T.playing),T.load.ed||T.pause()}).on("finish",function(e){T.finished=!0}).on("error",function(){})),T.trigger("boot",[T,m]),T}var o=e("extend-object"),i=e("is-function"),a=e("class-list"),l=e("bean"),s=e("./common"),u=e("./ext/events"),c=[],f=[],d=(window.navigator.userAgent,window.onbeforeunload);window.onbeforeunload=function(e){return c.forEach(function(e){e.conf.splash?e.unload():e.bind("error",function(){s.find(".flowplayer.is-error .fp-message").forEach(s.removeNode)})}),d?d(e):void 0};var p=!1;try{"object"==typeof window.localStorage&&(window.localStorage.flowplayerTestStorage="test",p=!0)}catch(m){}var v=/Safari/.exec(navigator.userAgent)&&!/Chrome/.exec(navigator.userAgent),g=/(\d+\.\d+) Safari/.exec(navigator.userAgent),h=g?Number(g[1]):100,y=t.exports=function(e,t,n){if(i(e))return f.push(e);if("number"==typeof e||"undefined"==typeof e)return c[e||0];if(e.nodeType){if(null!==e.getAttribute("data-flowplayer-instance-id"))return c[e.getAttribute("data-flowplayer-instance-id")];if(!t)return;return r(e,t,n)}if(e.jquery)return y(e[0],t,n);if("string"==typeof e){var o=s.find(e)[0];return o&&y(o,t,n)}};o(y,{version:"6.0.5",engines:[],conf:{},set:function(e,t){"string"==typeof e?y.conf[e]=t:o(y.conf,e)},support:{},defaults:{debug:p?!!localStorage.flowplayerDebug:!1,disabled:!1,fullscreen:window==window.top,keyboard:!0,ratio:9/16,adaptiveRatio:!1,rtmp:0,proxy:"best",splash:!1,live:!1,swf:"//releases.flowplayer.org/6.0.5/commercial/flowplayer.swf",swfHls:"//releases.flowplayer.org/6.0.5/commercial/flowplayerhls.swf",speeds:[.25,.5,1,1.5,2],tooltip:!0,mouseoutTimeout:5e3,volume:p?"true"==localStorage.muted?0:isNaN(localStorage.volume)?1:localStorage.volume||1:1,errors:["","Video loading aborted","Network error","Video not properly encoded","Video file not found","Unsupported video","Skin not found","SWF file not found","Subtitles not found","Invalid RTMP URL","Unsupported video format. Try installing Adobe Flash."],errorUrls:["","","","","","","","","","","http://get.adobe.com/flashplayer/"],playlist:[],hlsFix:v&&8>h},bean:l,common:s,extend:o});var b=0,w=e("./ext/resolve");if("undefined"!=typeof window.jQuery){var x=window.jQuery;x(function(){"function"==typeof x.fn.flowplayer&&x('.flowplayer:has(video,script[type="application/json"])').flowplayer()});var E=function(e){if(!e.length)return{};var t=e.data()||{},n={};return x.each(["autoplay","loop","preload","poster"],function(r,o){var i=e.attr(o);void 0!==i&&-1!==["autoplay","poster"].indexOf(o)?n[o]=i?i:!0:void 0!==i&&(t[o]=i?i:!0)}),t.subtitles=e.find("track").map(function(){var e=x(this);return{src:e.attr("src"),kind:e.attr("kind"),label:e.attr("label"),srclang:e.attr("srclang"),"default":e.prop("default")}}).get(),t.sources=(new w).sourcesFromVideoTag(e,x),o(n,{clip:t})};x.fn.flowplayer=function(e,t){return this.each(function(){"string"==typeof e&&(e={swf:e}),i(e)&&(t=e,e={});var n=x(this),o=n.find('script[type="application/json"]'),a=o.length?JSON.parse(o.text()):E(n.find("video")),l=x.extend({},e||{},a,n.data()),s=r(this,l,t);u.EVENTS.forEach(function(e){s.on(e+".jquery",function(e){n.trigger.call(n,e.type,e.detail&&e.detail.args)})}),n.data("flowplayer",s)})}}},{"./common":1,"./ext/events":8,"./ext/resolve":13,bean:20,"class-list":21,"extend-object":25,"is-function":26}],19:[function(e,t,n){e("es5-shim");var r=t.exports=e("./flowplayer");e("./ext/support"),e("./engine/embed"),e("./engine/html5"),e("./engine/flash"),e("./ext/ui"),e("./ext/keyboard"),e("./ext/playlist"),e("./ext/cuepoint"),e("./ext/subtitle"),e("./ext/analytics"),e("./ext/embed"),e("./ext/fullscreen"),e("./ext/mobile"),r(function(e,t){function n(e){var t=document.createElement("a");return t.href=e,u.hostname(t.hostname)}function o(e){var t="ab.ca,ac.ac,ac.at,ac.be,ac.cn,ac.il,ac.in,ac.jp,ac.kr,ac.sg,ac.th,ac.uk,ad.jp,adm.br,adv.br,ah.cn,am.br,arq.br,art.br,arts.ro,asn.au,asso.fr,asso.mc,bc.ca,bio.br,biz.pl,biz.tr,bj.cn,br.com,cn.com,cng.br,cnt.br,co.ac,co.at,co.de,co.gl,co.hk,co.id,co.il,co.in,co.jp,co.kr,co.mg,co.ms,co.nz,co.th,co.uk,co.ve,co.vi,co.za,com.ag,com.ai,com.ar,com.au,com.br,com.cn,com.co,com.cy,com.de,com.do,com.ec,com.es,com.fj,com.fr,com.gl,com.gt,com.hk,com.hr,com.hu,com.kg,com.ki,com.lc,com.mg,com.mm,com.ms,com.mt,com.mu,com.mx,com.my,com.na,com.nf,com.ng,com.ni,com.pa,com.ph,com.pl,com.pt,com.qa,com.ro,com.ru,com.sb,com.sc,com.sg,com.sv,com.tr,com.tw,com.ua,com.uy,com.ve,com.vn,cp.tz,cq.cn,de.com,de.org,ecn.br,ed.jp,edu.au,edu.cn,edu.hk,edu.mm,edu.my,edu.pl,edu.pt,edu.qa,edu.sg,edu.tr,edu.tw,eng.br,ernet.in,esp.br,etc.br,eti.br,eu.com,eu.int,eu.lv,firm.in,firm.ro,fm.br,fot.br,fst.br,g12.br,gb.com,gb.net,gd.cn,gen.in,go.jp,go.kr,go.th,gov.au,gov.az,gov.br,gov.cn,gov.il,gov.in,gov.mm,gov.my,gov.qa,gov.sg,gov.tr,gov.tw,gov.uk,gr.jp,gs.cn,gv.ac,gv.at,gx.cn,gz.cn,he.cn,hi.cn,hk.cn,hl.cn,hu.com,id.au,idv.tw,in.ua,ind.br,ind.in,inf.br,info.pl,info.ro,info.tr,info.ve,iwi.nz,jl.cn,jor.br,js.cn,jus.br,k12.il,k12.tr,kr.com,lel.br,lg.jp,ln.cn,ltd.uk,maori.nz,mb.ca,me.uk,med.br,mi.th,mil.br,mil.uk,mo.cn,mod.uk,muni.il,nb.ca,ne.jp,ne.kr,net.ag,net.ai,net.au,net.br,net.cn,net.do,net.gl,net.hk,net.il,net.in,net.kg,net.ki,net.lc,net.mg,net.mm,net.mu,net.ni,net.nz,net.pl,net.ru,net.sb,net.sc,net.sg,net.th,net.tr,net.tw,net.uk,net.ve,nf.ca,nhs.uk,nm.cn,nm.kr,no.com,nom.br,nom.ni,nom.ro,ns.ca,nt.ca,nt.ro,ntr.br,nx.cn,odo.br,off.ai,on.ca,or.ac,or.at,or.jp,or.kr,or.th,org.ag,org.ai,org.au,org.br,org.cn,org.do,org.es,org.gl,org.hk,org.in,org.kg,org.ki,org.lc,org.mg,org.mm,org.ms,org.nf,org.ni,org.nz,org.pl,org.ro,org.ru,org.sb,org.sc,org.sg,org.tr,org.tw,org.uk,org.ve,pe.ca,plc.uk,police.uk,ppg.br,presse.fr,pro.br,psc.br,psi.br,qc.ca,qc.com,qh.cn,rec.br,rec.ro,res.in,sa.com,sc.cn,sch.uk,se.com,se.net,sh.cn,sk.ca,slg.br,sn.cn,store.ro,tj.cn,tm.fr,tm.mc,tm.ro,tmp.br,tur.br,tv.br,tv.tr,tw.cn,uk.com,uk.net,us.com,uy.com,vet.br,waw.pl,web.ve,www.ro,xj.cn,xz.cn,yk.ca,yn.cn,zj.cn,zlg.br".split(",");
e=e.toLowerCase();var n=e.split("."),r=n.length;if(2>r||/^\d+$/.test(n[r-1]))return e;var o=n.slice(-2).join(".");return r>=3&&t.indexOf(o)>=0?n.slice(-3).join("."):o}function i(e,t){t=o(t);for(var n=0,r=t.length-1;r>=0;r--)n+=40176249998*t.charCodeAt(r);for(n=(""+n).substring(0,7),r=0;r<e.length;r++)if(n===e[r].substring(1,8))return 1}var a=function(e,t){var n=e.className.split(" ");-1===n.indexOf(t)&&(e.className+=" "+t)},l=function(e){return"none"!==window.getComputedStyle(e).display},s=e.conf,u=r.common,c=u.createElement,f=s.swf.indexOf("flowplayer.org")&&s.e&&t.getAttribute("data-origin"),d=f?n(f):u.hostname(),p=(document,s.key);"file:"==location.protocol&&(d="localhost"),e.load.ed=1,s.hostname=d,s.origin=f||location.href,f&&a(t,"is-embedded"),"string"==typeof p&&(p=p.split(/,\s*/));var m=function(e,n){var r=c("a",{href:n,className:"fp-brand"});r.innerHTML=e,u.find(".fp-controls",t)[0].appendChild(r)};if(p&&"function"==typeof i&&i(p,d)){if(s.logo){var v=u.find(".fp-player",t)[0],g=c("a",{className:"fp-logo"});f&&(g.href=f),s.embed&&s.embed.popup&&(g.target="_blank");var h=c("img",{src:s.logo});g.appendChild(h),(v||t).appendChild(g)}s.brand&&f||s.brand&&s.brand.showOnOrigin?m(s.brand.text||s.brand,f||location.href):u.addClass(t,"no-brand")}else{m("flowplayer","http://flowplayer.org");var g=c("a",{href:"http://flowplayer.org"});t.appendChild(g);var y=c("div",{className:"fp-context-menu"},'<ul><li class="copyright">&copy; 2015</li><li><a href="http://flowplayer.org">About Flowplayer</a></li><li><a href="http://flowplayer.org/license">GPL based license</a></li></ul>'),b=window.location.href.indexOf("localhost"),v=u.find(".fp-player",t)[0];7!==b&&(v||t).appendChild(y),e.on("pause resume finish unload ready",function(e,n){u.removeClass(t,"no-brand");var r=-1;if(n.video.src)for(var o=[["org","flowplayer","drive"],["org","flowplayer","my"],["org","flowplayer","cdn"]],i=0;i<o.length&&(r=n.video.src.indexOf("://"+o[i].reverse().join(".")),-1===r);i++);if((4===r||5===r)&&u.addClass(t,"no-brand"),/pause|resume/.test(e.type)&&"flash"!=n.engine.engineName&&4!=r&&5!=r){var a={display:"block",position:"absolute",left:"16px",bottom:"46px",zIndex:99999,width:"100px",height:"20px",backgroundImage:"url("+[".png","logo","/",".net",".cloudfront","d32wqyuo10o653","//"].reverse().join("")+")"};for(var s in a)a.hasOwnProperty(s)&&(g.style[s]=a[s]);n.load.ed=l(g)&&(7===b||y.parentNode==t||y.parentNode==v)&&!u.hasClass(t,"no-brand"),n.load.ed||n.pause()}else g.style.display="none"})}})},{"./engine/embed":2,"./engine/flash":3,"./engine/html5":4,"./ext/analytics":5,"./ext/cuepoint":6,"./ext/embed":7,"./ext/fullscreen":9,"./ext/keyboard":10,"./ext/mobile":11,"./ext/playlist":12,"./ext/subtitle":15,"./ext/support":16,"./ext/ui":17,"./flowplayer":18,"es5-shim":24}],20:[function(t,n,r){!function(t,r,o){"undefined"!=typeof n&&n.exports?n.exports=o():"function"==typeof e&&e.amd?e(o):r[t]=o()}("bean",this,function(e,t){e=e||"bean",t=t||this;var n,r=window,o=t[e],i=/[^\.]*(?=\..*)\.|.*/,a=/\..*/,l="addEventListener",s="removeEventListener",u=document||{},c=u.documentElement||{},f=c[l],d=f?l:"attachEvent",p={},m=Array.prototype.slice,v=function(e,t){return e.split(t||" ")},g=function(e){return"string"==typeof e},h=function(e){return"function"==typeof e},y="click dblclick mouseup mousedown contextmenu mousewheel mousemultiwheel DOMMouseScroll mouseover mouseout mousemove selectstart selectend keydown keypress keyup orientationchange focus blur change reset select submit load unload beforeunload resize move DOMContentLoaded readystatechange message error abort scroll ",b="show input invalid touchstart touchmove touchend touchcancel gesturestart gesturechange gestureend textinput readystatechange pageshow pagehide popstate hashchange offline online afterprint beforeprint dragstart dragenter dragover dragleave drag drop dragend loadstart progress suspend emptied stalled loadmetadata loadeddata canplay canplaythrough playing waiting seeking seeked ended durationchange timeupdate play pause ratechange volumechange cuechange checking noupdate downloading cached updateready obsolete ",w=function(e,t,n){for(n=0;n<t.length;n++)t[n]&&(e[t[n]]=1);return e}({},v(y+(f?b:""))),x=function(){var e="compareDocumentPosition"in c?function(e,t){return t.compareDocumentPosition&&16===(16&t.compareDocumentPosition(e))}:"contains"in c?function(e,t){return t=9===t.nodeType||t===window?c:t,t!==e&&t.contains(e)}:function(e,t){for(;e=e.parentNode;)if(e===t)return 1;return 0},t=function(t){var n=t.relatedTarget;return n?n!==this&&"xul"!==n.prefix&&!/document/.test(this.toString())&&!e(n,this):null==n};return{mouseenter:{base:"mouseover",condition:t},mouseleave:{base:"mouseout",condition:t},mousewheel:{base:/Firefox/.test(navigator.userAgent)?"DOMMouseScroll":"mousewheel"}}}(),E=function(){var e=v("altKey attrChange attrName bubbles cancelable ctrlKey currentTarget detail eventPhase getModifierState isTrusted metaKey relatedNode relatedTarget shiftKey srcElement target timeStamp type view which propertyName"),t=e.concat(v("button buttons clientX clientY dataTransfer fromElement offsetX offsetY pageX pageY screenX screenY toElement")),n=t.concat(v("wheelDelta wheelDeltaX wheelDeltaY wheelDeltaZ axis")),o=e.concat(v("char charCode key keyCode keyIdentifier keyLocation location")),i=e.concat(v("data")),a=e.concat(v("touches targetTouches changedTouches scale rotation")),l=e.concat(v("data origin source")),s=e.concat(v("state")),f=/over|out/,d=[{reg:/key/i,fix:function(e,t){return t.keyCode=e.keyCode||e.which,o}},{reg:/click|mouse(?!(.*wheel|scroll))|menu|drag|drop/i,fix:function(e,n,r){return n.rightClick=3===e.which||2===e.button,n.pos={x:0,y:0},e.pageX||e.pageY?(n.clientX=e.pageX,n.clientY=e.pageY):(e.clientX||e.clientY)&&(n.clientX=e.clientX+u.body.scrollLeft+c.scrollLeft,n.clientY=e.clientY+u.body.scrollTop+c.scrollTop),f.test(r)&&(n.relatedTarget=e.relatedTarget||e[("mouseover"==r?"from":"to")+"Element"]),t}},{reg:/mouse.*(wheel|scroll)/i,fix:function(){return n}},{reg:/^text/i,fix:function(){return i}},{reg:/^touch|^gesture/i,fix:function(){return a}},{reg:/^message$/i,fix:function(){return l}},{reg:/^popstate$/i,fix:function(){return s}},{reg:/.*/,fix:function(){return e}}],p={},m=function(e,t,n){if(arguments.length&&(e=e||((t.ownerDocument||t.document||t).parentWindow||r).event,this.originalEvent=e,this.isNative=n,this.isBean=!0,e)){var o,i,a,l,s,u=e.type,c=e.target||e.srcElement;if(this.target=c&&3===c.nodeType?c.parentNode:c,n){if(s=p[u],!s)for(o=0,i=d.length;i>o;o++)if(d[o].reg.test(u)){p[u]=s=d[o].fix;break}for(l=s(e,this,u),o=l.length;o--;)!((a=l[o])in this)&&a in e&&(this[a]=e[a])}}};return m.prototype.preventDefault=function(){this.originalEvent.preventDefault?this.originalEvent.preventDefault():this.originalEvent.returnValue=!1},m.prototype.stopPropagation=function(){this.originalEvent.stopPropagation?this.originalEvent.stopPropagation():this.originalEvent.cancelBubble=!0},m.prototype.stop=function(){this.preventDefault(),this.stopPropagation(),this.stopped=!0},m.prototype.stopImmediatePropagation=function(){this.originalEvent.stopImmediatePropagation&&this.originalEvent.stopImmediatePropagation(),this.isImmediatePropagationStopped=function(){return!0}},m.prototype.isImmediatePropagationStopped=function(){return this.originalEvent.isImmediatePropagationStopped&&this.originalEvent.isImmediatePropagationStopped()},m.prototype.clone=function(e){var t=new m(this,this.element,this.isNative);return t.currentTarget=e,t},m}(),k=function(e,t){return f||t||e!==u&&e!==r?e:c},T=function(){var e=function(e,t,n,r){var o=function(n,o){return t.apply(e,r?m.call(o,n?0:1).concat(r):o)},i=function(n,r){return t.__beanDel?t.__beanDel.ft(n.target,e):r},a=n?function(e){var t=i(e,this);return n.apply(t,arguments)?(e&&(e.currentTarget=t),o(e,arguments)):void 0}:function(e){return t.__beanDel&&(e=e.clone(i(e))),o(e,arguments)};return a.__beanDel=t.__beanDel,a},t=function(t,n,r,o,i,a,l){var s,u=x[n];"unload"==n&&(r=O(P,t,n,r,o)),u&&(u.condition&&(r=e(t,r,u.condition,a)),n=u.base||n),this.isNative=s=w[n]&&!!t[d],this.customType=!f&&!s&&n,this.element=t,this.type=n,this.original=o,this.namespaces=i,this.eventType=f||s?n:"propertychange",this.target=k(t,s),this[d]=!!this.target[d],this.root=l,this.handler=e(t,r,null,a)};return t.prototype.inNamespaces=function(e){var t,n,r=0;if(!e)return!0;if(!this.namespaces)return!1;for(t=e.length;t--;)for(n=this.namespaces.length;n--;)e[t]==this.namespaces[n]&&r++;return e.length===r},t.prototype.matches=function(e,t,n){return!(this.element!==e||t&&this.original!==t||n&&this.handler!==n)},t}(),S=function(){var e={},t=function(n,r,o,i,a,l){var s=a?"r":"$";if(r&&"*"!=r){var u,c=0,f=e[s+r],d="*"==n;if(!f)return;for(u=f.length;u>c;c++)if((d||f[c].matches(n,o,i))&&!l(f[c],f,c,r))return}else for(var p in e)p.charAt(0)==s&&t(n,p.substr(1),o,i,a,l)},n=function(t,n,r,o){var i,a=e[(o?"r":"$")+n];if(a)for(i=a.length;i--;)if(!a[i].root&&a[i].matches(t,r,null))return!0;return!1},r=function(e,n,r,o){var i=[];return t(e,n,r,null,o,function(e){return i.push(e)}),i},o=function(t){var n=!t.root&&!this.has(t.element,t.type,null,!1),r=(t.root?"r":"$")+t.type;return(e[r]||(e[r]=[])).push(t),n},i=function(n){t(n.element,n.type,null,n.handler,n.root,function(t,n,r){return n.splice(r,1),t.removed=!0,0===n.length&&delete e[(t.root?"r":"$")+t.type],!1})},a=function(){var t,n=[];for(t in e)"$"==t.charAt(0)&&(n=n.concat(e[t]));return n};return{has:n,get:r,put:o,del:i,entries:a}}(),N=function(e){n=arguments.length?e:u.querySelectorAll?function(e,t){return t.querySelectorAll(e)}:function(){throw new Error("Bean: No selector engine installed")}},C=function(e,t){if(f||!t||!e||e.propertyName=="_on"+t){var n=S.get(this,t||e.type,null,!1),r=n.length,o=0;for(e=new E(e,this,!0),t&&(e.type=t);r>o&&!e.isImmediatePropagationStopped();o++)n[o].removed||n[o].handler.call(this,e)}},j=f?function(e,t,n){e[n?l:s](t,C,!1)}:function(e,t,n,r){var o;n?(S.put(o=new T(e,r||t,function(t){C.call(e,t,r)},C,null,null,!0)),r&&null==e["_on"+r]&&(e["_on"+r]=0),o.target.attachEvent("on"+o.eventType,o.handler)):(o=S.get(e,r||t,C,!0)[0],o&&(o.target.detachEvent("on"+o.eventType,o.handler),S.del(o)))},O=function(e,t,n,r,o){return function(){r.apply(this,arguments),e(t,n,o)}},P=function(e,t,n,r){var o,i,l=t&&t.replace(a,""),s=S.get(e,l,null,!1),u={};for(o=0,i=s.length;i>o;o++)n&&s[o].original!==n||!s[o].inNamespaces(r)||(S.del(s[o]),!u[s[o].eventType]&&s[o][d]&&(u[s[o].eventType]={t:s[o].eventType,c:s[o].type}));for(o in u)S.has(e,u[o].t,null,!1)||j(e,u[o].t,!1,u[o].c)},A=function(e,t){var r=function(t,r){for(var o,i=g(e)?n(e,r):e;t&&t!==r;t=t.parentNode)for(o=i.length;o--;)if(i[o]===t)return t},o=function(e){var n=r(e.target,this);n&&t.apply(n,arguments)};return o.__beanDel={ft:r,selector:e},o},_=f?function(e,t,n){var o=u.createEvent(e?"HTMLEvents":"UIEvents");o[e?"initEvent":"initUIEvent"](t,!0,!0,r,1),n.dispatchEvent(o)}:function(e,t,n){n=k(n,e),e?n.fireEvent("on"+t,u.createEventObject()):n["_on"+t]++},D=function(e,t,n){var r,o,l,s,u=g(t);if(u&&t.indexOf(" ")>0){for(t=v(t),s=t.length;s--;)D(e,t[s],n);return e}if(o=u&&t.replace(a,""),o&&x[o]&&(o=x[o].base),!t||u)(l=u&&t.replace(i,""))&&(l=v(l,".")),P(e,o,n,l);else if(h(t))P(e,null,t);else for(r in t)t.hasOwnProperty(r)&&D(e,r,t[r]);return e},M=function(e,t,r,o){var l,s,u,c,f,g,y;{if(void 0!==r||"object"!=typeof t){for(h(r)?(f=m.call(arguments,3),o=l=r):(l=o,f=m.call(arguments,4),o=A(r,l,n)),u=v(t),this===p&&(o=O(D,e,t,o,l)),c=u.length;c--;)y=S.put(g=new T(e,u[c].replace(a,""),o,l,v(u[c].replace(i,""),"."),f,!1)),g[d]&&y&&j(e,g.eventType,!0,g.customType);return e}for(s in t)t.hasOwnProperty(s)&&M.call(this,e,s,t[s])}},L=function(e,t,n,r){return M.apply(null,g(n)?[e,n,t,r].concat(arguments.length>3?m.call(arguments,5):[]):m.call(arguments))},I=function(){return M.apply(p,arguments)},F=function(e,t,n){var r,o,l,s,u,c=v(t);for(r=c.length;r--;)if(t=c[r].replace(a,""),(s=c[r].replace(i,""))&&(s=v(s,".")),s||n||!e[d])for(u=S.get(e,t,null,!1),n=[!1].concat(n),o=0,l=u.length;l>o;o++)u[o].inNamespaces(s)&&u[o].handler.apply(e,n);else _(w[t],t,e);return e},z=function(e,t,n){for(var r,o,i=S.get(t,n,null,!1),a=i.length,l=0;a>l;l++)i[l].original&&(r=[e,i[l].type],(o=i[l].handler.__beanDel)&&r.push(o.selector),r.push(i[l].original),M.apply(null,r));return e},R={on:M,add:L,one:I,off:D,remove:D,clone:z,fire:F,Event:E,setSelectorEngine:N,noConflict:function(){return t[e]=o,this}};if(r.attachEvent){var q=function(){var e,t=S.entries();for(e in t)t[e].type&&"unload"!==t[e].type&&D(t[e].element,t[e].type);r.detachEvent("onunload",q),r.CollectGarbage&&r.CollectGarbage()};r.attachEvent("onunload",q)}return N(),R})},{}],21:[function(e,t,n){function r(e){function t(e){var t=c();a(t,e)>-1||(t.push(e),f(t))}function n(e){var t=c(),n=a(t,e);-1!==n&&(t.splice(n,1),f(t))}function r(e){return a(c(),e)>-1}function l(e){return r(e)?(n(e),!1):(t(e),!0)}function s(){return e.className}function u(e){var t=c();return t[e]||null}function c(){var t=e.className;return o(t.split(" "),i)}function f(t){var n=t.length;e.className=t.join(" "),p.length=n;for(var r=0;r<t.length;r++)p[r]=t[r];delete t[n]}var d=e.classList;if(d)return d;var p={add:t,remove:n,contains:r,toggle:l,toString:s,length:0,item:u};return p}function o(e,t){for(var n=[],r=0;r<e.length;r++)t(e[r])&&n.push(e[r]);return n}function i(e){return!!e}var a=e("indexof");t.exports=r},{indexof:22}],22:[function(e,t,n){var r=[].indexOf;t.exports=function(e,t){if(r)return e.indexOf(t);for(var n=0;n<e.length;++n)if(e[n]===t)return n;return-1}},{}],23:[function(e,t,n){function r(e,t,n,r){return n=window.getComputedStyle,r=n?n(e):e.currentStyle,r?r[t.replace(/-(\w)/gi,function(e,t){return t.toUpperCase()})]:void 0}t.exports=r},{}],24:[function(t,n,r){!function(t,o){"use strict";"function"==typeof e&&e.amd?e(o):"object"==typeof r?n.exports=o():t.returnExports=o()}(this,function(){var e,t=Array.prototype,n=Object.prototype,r=Function.prototype,o=String.prototype,i=Number.prototype,a=t.slice,l=t.splice,s=t.push,u=t.unshift,c=t.concat,f=r.call,d=n.toString,p=Array.isArray||function(e){return"[object Array]"===d.call(e)},m="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag,v=Function.prototype.toString,g=function(e){try{return v.call(e),!0}catch(t){return!1}},h="[object Function]",y="[object GeneratorFunction]";e=function(e){if("function"!=typeof e)return!1;if(m)return g(e);var t=d.call(e);return t===h||t===y};var b,w=RegExp.prototype.exec,x=function(e){try{return w.call(e),!0}catch(t){return!1}},E="[object RegExp]";b=function(e){return"object"!=typeof e?!1:m?x(e):d.call(e)===E};var k,T=String.prototype.valueOf,S=function(e){try{return T.call(e),!0}catch(t){return!1}},N="[object String]";k=function(e){return"string"==typeof e?!0:"object"!=typeof e?!1:m?S(e):d.call(e)===N};var C=function(t){var n=d.call(t),r="[object Arguments]"===n;return r||(r=!p(t)&&null!==t&&"object"==typeof t&&"number"==typeof t.length&&t.length>=0&&e(t.callee)),r},j=function(e){var t,n=Object.defineProperty&&function(){try{var e={};Object.defineProperty(e,"x",{enumerable:!1,value:e});for(var t in e)return!1;return e.x===e}catch(n){return!1}}();return t=n?function(e,t,n,r){!r&&t in e||Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:!0,value:n})}:function(e,t,n,r){!r&&t in e||(e[t]=n)},function(n,r,o){for(var i in r)e.call(r,i)&&t(n,i,r[i],o)}}(n.hasOwnProperty),O=function(e){var t=typeof e;return null===e||"object"!==t&&"function"!==t},P={ToInteger:function(e){var t=+e;return t!==t?t=0:0!==t&&t!==1/0&&t!==-(1/0)&&(t=(t>0||-1)*Math.floor(Math.abs(t))),t},ToPrimitive:function(t){var n,r,o;if(O(t))return t;if(r=t.valueOf,e(r)&&(n=r.call(t),O(n)))return n;if(o=t.toString,e(o)&&(n=o.call(t),O(n)))return n;throw new TypeError},ToObject:function(e){if(null==e)throw new TypeError("can't convert "+e+" to object");return Object(e)},ToUint32:function(e){return e>>>0}},A=function(){};j(r,{bind:function(t){var n=this;if(!e(n))throw new TypeError("Function.prototype.bind called on incompatible "+n);for(var r,o=a.call(arguments,1),i=function(){if(this instanceof r){var e=n.apply(this,c.call(o,a.call(arguments)));return Object(e)===e?e:this}return n.apply(t,c.call(o,a.call(arguments)))},l=Math.max(0,n.length-o.length),s=[],u=0;l>u;u++)s.push("$"+u);return r=Function("binder","return function ("+s.join(",")+"){ return binder.apply(this, arguments); }")(i),n.prototype&&(A.prototype=n.prototype,r.prototype=new A,A.prototype=null),r}});var _=f.bind(n.hasOwnProperty),D=function(){var e=[1,2],t=e.splice();return 2===e.length&&p(t)&&0===t.length}();j(t,{splice:function(e,t){return 0===arguments.length?[]:l.apply(this,arguments)}},!D);var M=function(){var e={};return t.splice.call(e,0,0,1),1===e.length}();j(t,{splice:function(e,t){if(0===arguments.length)return[];var n=arguments;return this.length=Math.max(P.ToInteger(this.length),0),arguments.length>0&&"number"!=typeof t&&(n=a.call(arguments),n.length<2?n.push(this.length-e):n[1]=P.ToInteger(t)),l.apply(this,n)}},!M);var L=1!==[].unshift(0);j(t,{unshift:function(){return u.apply(this,arguments),this.length}},L),j(Array,{isArray:p});var I=Object("a"),F="a"!==I[0]||!(0 in I),z=function(e){var t=!0,n=!0;return e&&(e.call("foo",function(e,n,r){"object"!=typeof r&&(t=!1)}),e.call([1],function(){"use strict";n="string"==typeof this},"x")),!!e&&t&&n};j(t,{forEach:function(t){var n,r=P.ToObject(this),o=F&&k(this)?this.split(""):r,i=-1,a=o.length>>>0;if(arguments.length>1&&(n=arguments[1]),!e(t))throw new TypeError("Array.prototype.forEach callback must be a function");for(;++i<a;)i in o&&("undefined"!=typeof n?t.call(n,o[i],i,r):t(o[i],i,r))}},!z(t.forEach)),j(t,{map:function(t){var n,r=P.ToObject(this),o=F&&k(this)?this.split(""):r,i=o.length>>>0,a=Array(i);if(arguments.length>1&&(n=arguments[1]),!e(t))throw new TypeError("Array.prototype.map callback must be a function");for(var l=0;i>l;l++)l in o&&("undefined"!=typeof n?a[l]=t.call(n,o[l],l,r):a[l]=t(o[l],l,r));return a}},!z(t.map)),j(t,{filter:function(t){var n,r,o=P.ToObject(this),i=F&&k(this)?this.split(""):o,a=i.length>>>0,l=[];if(arguments.length>1&&(r=arguments[1]),!e(t))throw new TypeError("Array.prototype.filter callback must be a function");for(var s=0;a>s;s++)s in i&&(n=i[s],("undefined"==typeof r?t(n,s,o):t.call(r,n,s,o))&&l.push(n));return l}},!z(t.filter)),j(t,{every:function(t){var n,r=P.ToObject(this),o=F&&k(this)?this.split(""):r,i=o.length>>>0;if(arguments.length>1&&(n=arguments[1]),!e(t))throw new TypeError("Array.prototype.every callback must be a function");for(var a=0;i>a;a++)if(a in o&&!("undefined"==typeof n?t(o[a],a,r):t.call(n,o[a],a,r)))return!1;return!0}},!z(t.every)),j(t,{some:function(t){var n,r=P.ToObject(this),o=F&&k(this)?this.split(""):r,i=o.length>>>0;if(arguments.length>1&&(n=arguments[1]),!e(t))throw new TypeError("Array.prototype.some callback must be a function");for(var a=0;i>a;a++)if(a in o&&("undefined"==typeof n?t(o[a],a,r):t.call(n,o[a],a,r)))return!0;return!1}},!z(t.some));var R=!1;t.reduce&&(R="object"==typeof t.reduce.call("es5",function(e,t,n,r){return r})),j(t,{reduce:function(t){var n=P.ToObject(this),r=F&&k(this)?this.split(""):n,o=r.length>>>0;if(!e(t))throw new TypeError("Array.prototype.reduce callback must be a function");if(0===o&&1===arguments.length)throw new TypeError("reduce of empty array with no initial value");var i,a=0;if(arguments.length>=2)i=arguments[1];else for(;;){if(a in r){i=r[a++];break}if(++a>=o)throw new TypeError("reduce of empty array with no initial value")}for(;o>a;a++)a in r&&(i=t(i,r[a],a,n));return i}},!R);var q=!1;t.reduceRight&&(q="object"==typeof t.reduceRight.call("es5",function(e,t,n,r){return r})),j(t,{reduceRight:function(t){var n=P.ToObject(this),r=F&&k(this)?this.split(""):n,o=r.length>>>0;if(!e(t))throw new TypeError("Array.prototype.reduceRight callback must be a function");if(0===o&&1===arguments.length)throw new TypeError("reduceRight of empty array with no initial value");var i,a=o-1;if(arguments.length>=2)i=arguments[1];else for(;;){if(a in r){i=r[a--];break}if(--a<0)throw new TypeError("reduceRight of empty array with no initial value")}if(0>a)return i;do a in r&&(i=t(i,r[a],a,n));while(a--);return i}},!q);var V=Array.prototype.indexOf&&-1!==[0,1].indexOf(1,2);j(t,{indexOf:function(e){var t=F&&k(this)?this.split(""):P.ToObject(this),n=t.length>>>0;if(0===n)return-1;var r=0;for(arguments.length>1&&(r=P.ToInteger(arguments[1])),r=r>=0?r:Math.max(0,n+r);n>r;r++)if(r in t&&t[r]===e)return r;return-1}},V);var H=Array.prototype.lastIndexOf&&-1!==[0,1].lastIndexOf(0,-3);j(t,{lastIndexOf:function(e){var t=F&&k(this)?this.split(""):P.ToObject(this),n=t.length>>>0;if(0===n)return-1;var r=n-1;for(arguments.length>1&&(r=Math.min(r,P.ToInteger(arguments[1]))),r=r>=0?r:n-Math.abs(r);r>=0;r--)if(r in t&&e===t[r])return r;return-1}},H);var U=!{toString:null}.propertyIsEnumerable("toString"),$=function(){}.propertyIsEnumerable("prototype"),X=!_("x","0"),Y=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],B=Y.length;j(Object,{keys:function(t){var n=e(t),r=C(t),o=null!==t&&"object"==typeof t,i=o&&k(t);if(!o&&!n&&!r)throw new TypeError("Object.keys called on a non-object");var a=[],l=$&&n;if(i&&X||r)for(var s=0;s<t.length;++s)a.push(String(s));if(!r)for(var u in t)l&&"prototype"===u||!_(t,u)||a.push(String(u));if(U)for(var c=t.constructor,f=c&&c.prototype===t,d=0;B>d;d++){var p=Y[d];f&&"constructor"===p||!_(t,p)||a.push(p)}return a}});var W=Object.keys&&function(){return 2===Object.keys(arguments).length}(1,2),K=Object.keys;j(Object,{keys:function(e){return K(C(e)?t.slice.call(e):e)}},!W);var G=-621987552e5,Z="-000001",J=Date.prototype.toISOString&&-1===new Date(G).toISOString().indexOf(Z);j(Date.prototype,{toISOString:function(){var e,t,n,r,o;if(!isFinite(this))throw new RangeError("Date.prototype.toISOString called on non-finite value.");for(r=this.getUTCFullYear(),o=this.getUTCMonth(),r+=Math.floor(o/12),o=(o%12+12)%12,e=[o+1,this.getUTCDate(),this.getUTCHours(),this.getUTCMinutes(),this.getUTCSeconds()],r=(0>r?"-":r>9999?"+":"")+("00000"+Math.abs(r)).slice(r>=0&&9999>=r?-4:-6),t=e.length;t--;)n=e[t],10>n&&(e[t]="0"+n);return r+"-"+e.slice(0,2).join("-")+"T"+e.slice(2).join(":")+"."+("000"+this.getUTCMilliseconds()).slice(-3)+"Z"}},J);var Q=function(){try{return Date.prototype.toJSON&&null===new Date(NaN).toJSON()&&-1!==new Date(G).toJSON().indexOf(Z)&&Date.prototype.toJSON.call({toISOString:function(){return!0}})}catch(e){return!1}}();Q||(Date.prototype.toJSON=function(t){var n=Object(this),r=P.ToPrimitive(n);if("number"==typeof r&&!isFinite(r))return null;var o=n.toISOString;if(!e(o))throw new TypeError("toISOString property is not callable");return o.call(n)});var ee=1e15===Date.parse("+033658-09-27T01:46:40.000Z"),te=!isNaN(Date.parse("2012-04-04T24:00:00.500Z"))||!isNaN(Date.parse("2012-11-31T23:59:59.000Z"))||!isNaN(Date.parse("2012-12-31T23:59:60.000Z")),ne=isNaN(Date.parse("2000-01-01T00:00:00.000Z"));(!Date.parse||ne||te||!ee)&&(Date=function(e){var t=function(n,r,o,i,a,l,s){var u,c=arguments.length;return u=this instanceof e?1===c&&String(n)===n?new e(t.parse(n)):c>=7?new e(n,r,o,i,a,l,s):c>=6?new e(n,r,o,i,a,l):c>=5?new e(n,r,o,i,a):c>=4?new e(n,r,o,i):c>=3?new e(n,r,o):c>=2?new e(n,r):c>=1?new e(n):new e:e.apply(this,arguments),j(u,{constructor:t},!0),u},n=new RegExp("^(\\d{4}|[+-]\\d{6})(?:-(\\d{2})(?:-(\\d{2})(?:T(\\d{2}):(\\d{2})(?::(\\d{2})(?:(\\.\\d{1,}))?)?(Z|(?:([-+])(\\d{2}):(\\d{2})))?)?)?)?$"),r=[0,31,59,90,120,151,181,212,243,273,304,334,365],o=function(e,t){var n=t>1?1:0;return r[t]+Math.floor((e-1969+n)/4)-Math.floor((e-1901+n)/100)+Math.floor((e-1601+n)/400)+365*(e-1970)},i=function(t){return Number(new e(1970,0,1,0,0,0,t))};for(var a in e)_(e,a)&&(t[a]=e[a]);return j(t,{now:e.now,UTC:e.UTC},!0),t.prototype=e.prototype,j(t.prototype,{constructor:t},!0),t.parse=function(t){var r=n.exec(t);if(r){var a,l=Number(r[1]),s=Number(r[2]||1)-1,u=Number(r[3]||1)-1,c=Number(r[4]||0),f=Number(r[5]||0),d=Number(r[6]||0),p=Math.floor(1e3*Number(r[7]||0)),m=Boolean(r[4]&&!r[8]),v="-"===r[9]?1:-1,g=Number(r[10]||0),h=Number(r[11]||0);return(f>0||d>0||p>0?24:25)>c&&60>f&&60>d&&1e3>p&&s>-1&&12>s&&24>g&&60>h&&u>-1&&u<o(l,s+1)-o(l,s)&&(a=60*(24*(o(l,s)+u)+c+g*v),a=1e3*(60*(a+f+h*v)+d)+p,m&&(a=i(a)),a>=-864e13&&864e13>=a)?a:NaN}return e.parse.apply(this,arguments)},t}(Date)),Date.now||(Date.now=function(){return(new Date).getTime()});var re=i.toFixed&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==0xde0b6b3a7640080.toFixed(0)),oe={base:1e7,size:6,data:[0,0,0,0,0,0],multiply:function(e,t){for(var n=-1,r=t;++n<oe.size;)r+=e*oe.data[n],oe.data[n]=r%oe.base,r=Math.floor(r/oe.base)},divide:function(e){for(var t=oe.size,n=0;--t>=0;)n+=oe.data[t],oe.data[t]=Math.floor(n/e),n=n%e*oe.base},numToString:function(){for(var e=oe.size,t="";--e>=0;)if(""!==t||0===e||0!==oe.data[e]){var n=String(oe.data[e]);""===t?t=n:t+="0000000".slice(0,7-n.length)+n}return t},pow:function ge(e,t,n){return 0===t?n:t%2===1?ge(e,t-1,n*e):ge(e*e,t/2,n)},log:function(e){for(var t=0,n=e;n>=4096;)t+=12,n/=4096;for(;n>=2;)t+=1,n/=2;return t}};j(i,{toFixed:function(e){var t,n,r,o,i,a,l,s;if(t=Number(e),t=t!==t?0:Math.floor(t),0>t||t>20)throw new RangeError("Number.toFixed called with invalid number of decimals");if(n=Number(this),n!==n)return"NaN";if(-1e21>=n||n>=1e21)return String(n);if(r="",0>n&&(r="-",n=-n),o="0",n>1e-21)if(i=oe.log(n*oe.pow(2,69,1))-69,a=0>i?n*oe.pow(2,-i,1):n/oe.pow(2,i,1),a*=4503599627370496,i=52-i,i>0){for(oe.multiply(0,a),l=t;l>=7;)oe.multiply(1e7,0),l-=7;for(oe.multiply(oe.pow(10,l,1),0),l=i-1;l>=23;)oe.divide(1<<23),l-=23;oe.divide(1<<l),oe.multiply(1,1),oe.divide(2),o=oe.numToString()}else oe.multiply(0,a),oe.multiply(1<<-i,0),o=oe.numToString()+"0.00000000000000000000".slice(2,2+t);return t>0?(s=o.length,o=t>=s?r+"0.0000000000000000000".slice(0,t-s+2)+o:r+o.slice(0,s-t)+"."+o.slice(s-t)):o=r+o,o}},re);var ie=o.split;2!=="ab".split(/(?:ab)*/).length||4!==".".split(/(.?)(.?)/).length||"t"==="tesst".split(/(s)*/)[1]||4!=="test".split(/(?:)/,-1).length||"".split(/.?/).length||".".split(/()()/).length>1?!function(){var e="undefined"==typeof/()??/.exec("")[1];o.split=function(t,n){var r=this;if("undefined"==typeof t&&0===n)return[];if(!b(t))return ie.call(this,t,n);var o,i,a,l,u=[],c=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.extended?"x":"")+(t.sticky?"y":""),f=0,d=new RegExp(t.source,c+"g");r+="",e||(o=new RegExp("^"+d.source+"$(?!\\s)",c));var p="undefined"==typeof n?-1>>>0:P.ToUint32(n);for(i=d.exec(r);i&&(a=i.index+i[0].length,!(a>f&&(u.push(r.slice(f,i.index)),!e&&i.length>1&&i[0].replace(o,function(){for(var e=1;e<arguments.length-2;e++)"undefined"==typeof arguments[e]&&(i[e]=void 0)}),i.length>1&&i.index<r.length&&s.apply(u,i.slice(1)),l=i[0].length,f=a,u.length>=p)));)d.lastIndex===i.index&&d.lastIndex++,i=d.exec(r);return f===r.length?(l||!d.test(""))&&u.push(""):u.push(r.slice(f)),u.length>p?u.slice(0,p):u}}():"0".split(void 0,0).length&&(o.split=function(e,t){return"undefined"==typeof e&&0===t?[]:ie.call(this,e,t)});var ae=o.replace,le=function(){var e=[];return"x".replace(/x(.)?/g,function(t,n){e.push(n)}),1===e.length&&"undefined"==typeof e[0]}();le||(o.replace=function(t,n){var r=e(n),o=b(t)&&/\)[*?]/.test(t.source);if(r&&o){var i=function(e){var r=arguments.length,o=t.lastIndex;t.lastIndex=0;var i=t.exec(e)||[];return t.lastIndex=o,i.push(arguments[r-2],arguments[r-1]),n.apply(this,i)};return ae.call(this,t,i)}return ae.call(this,t,n)});var se=o.substr,ue="".substr&&"b"!=="0b".substr(-1);j(o,{substr:function(e,t){var n=e;return 0>e&&(n=Math.max(this.length+e,0)),se.call(this,n,t)}},ue);var ce="	\n\f\r   ᠎             　\u2028\u2029\ufeff",fe="​",de="["+ce+"]",pe=new RegExp("^"+de+de+"*"),me=new RegExp(de+de+"*$"),ve=o.trim&&(ce.trim()||!fe.trim());j(o,{trim:function(){if("undefined"==typeof this||null===this)throw new TypeError("can't convert "+this+" to object");return String(this).replace(pe,"").replace(me,"")}},ve),(8!==parseInt(ce+"08")||22!==parseInt(ce+"0x16"))&&(parseInt=function(e){var t=/^0[xX]/;return function(n,r){var o=String(n).trim(),i=Number(r)||(t.test(o)?16:10);return e(o,i)}}(parseInt))})},{}],25:[function(e,t,n){var r=[],o=r.forEach,i=r.slice;t.exports=function(e){return o.call(i.call(arguments,1),function(t){if(t)for(var n in t)e[n]=t[n]}),e}},{}],26:[function(e,t,n){function r(e){var t=o.call(e);return"[object Function]"===t||"function"==typeof e&&"[object RegExp]"!==t||"undefined"!=typeof window&&(e===window.setTimeout||e===window.alert||e===window.confirm||e===window.prompt)}t.exports=r;var o=Object.prototype.toString},{}],27:[function(e,t,n){"use strict";t.exports=function(e){return"object"==typeof e&&null!==e}},{}],28:[function(t,n,r){!function(t,r){"undefined"!=typeof n&&n.exports?n.exports=r():"function"==typeof e&&e.amd?e(r):this[t]=r()}("$script",function(){function e(e,t){for(var n=0,r=e.length;r>n;++n)if(!t(e[n]))return s;return 1}function t(t,n){e(t,function(e){return!n(e)})}function n(i,a,l){function s(e){return e.call?e():d[e]}function c(){if(!--y){d[h]=1,g&&g();for(var n in m)e(n.split("|"),s)&&!t(m[n],s)&&(m[n]=[])}}i=i[u]?i:[i];var f=a&&a.call,g=f?a:l,h=f?i.join(""):a,y=i.length;return setTimeout(function(){t(i,function e(t,n){return null===t?c():(t=n||-1!==t.indexOf(".js")||/^https?:\/\//.test(t)||!o?t:o+t+".js",v[t]?(h&&(p[h]=1),2==v[t]?c():setTimeout(function(){e(t,!0)},0)):(v[t]=1,h&&(p[h]=1),void r(t,c)))})},0),n}function r(e,t){var n,r=a.createElement("script");r.onload=r.onerror=r[f]=function(){r[c]&&!/^c|loade/.test(r[c])||n||(r.onload=r[f]=null,n=1,v[e]=2,t())},r.async=1,r.src=i?e+(-1===e.indexOf("?")?"?":"&")+i:e,l.insertBefore(r,l.lastChild)}var o,i,a=document,l=a.getElementsByTagName("head")[0],s=!1,u="push",c="readyState",f="onreadystatechange",d={},p={},m={},v={};return n.get=r,n.order=function(e,t,r){!function o(i){i=e.shift(),e.length?n(i,o):n(i,t,r)}()},n.path=function(e){o=e},n.urlArgs=function(e){i=e},n.ready=function(r,o,i){r=r[u]?r:[r];var a=[];return!t(r,function(e){d[e]||a[u](e)})&&e(r,function(e){return d[e]})?o():!function(e){m[e]=m[e]||[],m[e][u](o),i&&i(a)}(r.join("|")),n},n.done=function(e){n([null],e)},n})},{}],29:[function(t,n,r){(function(t){!function(o){function i(e){throw RangeError(M[e])}function a(e,t){for(var n=e.length;n--;)e[n]=t(e[n]);return e}function l(e,t){return a(e.split(D),t).join(".")}function s(e){for(var t,n,r=[],o=0,i=e.length;i>o;)t=e.charCodeAt(o++),t>=55296&&56319>=t&&i>o?(n=e.charCodeAt(o++),56320==(64512&n)?r.push(((1023&t)<<10)+(1023&n)+65536):(r.push(t),o--)):r.push(t);return r}function u(e){return a(e,function(e){var t="";return e>65535&&(e-=65536,t+=F(e>>>10&1023|55296),e=56320|1023&e),t+=F(e)}).join("")}function c(e){return 10>e-48?e-22:26>e-65?e-65:26>e-97?e-97:k}function f(e,t){return e+22+75*(26>e)-((0!=t)<<5)}function d(e,t,n){var r=0;for(e=n?I(e/C):e>>1,e+=I(e/t);e>L*S>>1;r+=k)e=I(e/L);return I(r+(L+1)*e/(e+N))}function p(e){var t,n,r,o,a,l,s,f,p,m,v=[],g=e.length,h=0,y=O,b=j;for(n=e.lastIndexOf(P),0>n&&(n=0),r=0;n>r;++r)e.charCodeAt(r)>=128&&i("not-basic"),v.push(e.charCodeAt(r));for(o=n>0?n+1:0;g>o;){for(a=h,l=1,s=k;o>=g&&i("invalid-input"),f=c(e.charCodeAt(o++)),(f>=k||f>I((E-h)/l))&&i("overflow"),h+=f*l,p=b>=s?T:s>=b+S?S:s-b,!(p>f);s+=k)m=k-p,l>I(E/m)&&i("overflow"),l*=m;t=v.length+1,b=d(h-a,t,0==a),I(h/t)>E-y&&i("overflow"),y+=I(h/t),h%=t,v.splice(h++,0,y)}return u(v)}function m(e){var t,n,r,o,a,l,u,c,p,m,v,g,h,y,b,w=[];for(e=s(e),g=e.length,t=O,n=0,a=j,l=0;g>l;++l)v=e[l],128>v&&w.push(F(v));for(r=o=w.length,o&&w.push(P);g>r;){for(u=E,l=0;g>l;++l)v=e[l],v>=t&&u>v&&(u=v);for(h=r+1,u-t>I((E-n)/h)&&i("overflow"),n+=(u-t)*h,t=u,l=0;g>l;++l)if(v=e[l],t>v&&++n>E&&i("overflow"),v==t){for(c=n,p=k;m=a>=p?T:p>=a+S?S:p-a,!(m>c);p+=k)b=c-m,y=k-m,w.push(F(f(m+b%y,0))),c=I(b/y);w.push(F(f(c,0))),a=d(n,h,r==o),n=0,++r}++n,++t}return w.join("")}function v(e){return l(e,function(e){
return A.test(e)?p(e.slice(4).toLowerCase()):e})}function g(e){return l(e,function(e){return _.test(e)?"xn--"+m(e):e})}var h="object"==typeof r&&r,y="object"==typeof n&&n&&n.exports==h&&n,b="object"==typeof t&&t;(b.global===b||b.window===b)&&(o=b);var w,x,E=2147483647,k=36,T=1,S=26,N=38,C=700,j=72,O=128,P="-",A=/^xn--/,_=/[^ -~]/,D=/\x2E|\u3002|\uFF0E|\uFF61/g,M={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},L=k-T,I=Math.floor,F=String.fromCharCode;if(w={version:"1.2.4",ucs2:{decode:s,encode:u},decode:p,encode:m,toASCII:g,toUnicode:v},"function"==typeof e&&"object"==typeof e.amd&&e.amd)e("punycode",function(){return w});else if(h&&!h.nodeType)if(y)y.exports=w;else for(x in w)w.hasOwnProperty(x)&&(h[x]=w[x]);else o.punycode=w}(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[19])(19)});



/*!

   hlsjs engine plugin for Flowplayer HTML5

   Copyright (c) 2015-2017, Flowplayer Drive Oy

   Released under the MIT License:
   http://www.opensource.org/licenses/mit-license.php

   Includes hls.js
   Copyright (c) 2015 Dailymotion (http://www.dailymotion.com)
   https://github.com/dailymotion/hls.js/blob/master/LICENSE

   Requires Flowplayer HTML5 version 6.x
   v1.0.5-12-g35c027a

*/
/*@cc_on @*/
/*@
  @if (@_jscript_version > 10)
  @*/
!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.Hls=e()}}(function(){var e;return function e(t,r,i){function a(s,o){if(!r[s]){if(!t[s]){var l="function"==typeof require&&require;if(!o&&l)return l(s,!0);if(n)return n(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var d=r[s]={exports:{}};t[s][0].call(d.exports,function(e){var r=t[s][1][e];return a(r?r:e)},d,d.exports,e,t,r,i)}return r[s].exports}for(var n="function"==typeof require&&require,s=0;s<i.length;s++)a(i[s]);return a}({1:[function(e,t,r){function i(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function a(e){return"function"==typeof e}function n(e){return"number"==typeof e}function s(e){return"object"==typeof e&&null!==e}function o(e){return void 0===e}t.exports=i,i.EventEmitter=i,i.prototype._events=void 0,i.prototype._maxListeners=void 0,i.defaultMaxListeners=10,i.prototype.setMaxListeners=function(e){if(!n(e)||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},i.prototype.emit=function(e){var t,r,i,n,l,u;if(this._events||(this._events={}),"error"===e&&(!this._events.error||s(this._events.error)&&!this._events.error.length)){if(t=arguments[1],t instanceof Error)throw t;var d=new Error('Uncaught, unspecified "error" event. ('+t+")");throw d.context=t,d}if(r=this._events[e],o(r))return!1;if(a(r))switch(arguments.length){case 1:r.call(this);break;case 2:r.call(this,arguments[1]);break;case 3:r.call(this,arguments[1],arguments[2]);break;default:n=Array.prototype.slice.call(arguments,1),r.apply(this,n)}else if(s(r))for(n=Array.prototype.slice.call(arguments,1),u=r.slice(),i=u.length,l=0;l<i;l++)u[l].apply(this,n);return!0},i.prototype.addListener=function(e,t){var r;if(!a(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,a(t.listener)?t.listener:t),this._events[e]?s(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,s(this._events[e])&&!this._events[e].warned&&(r=o(this._maxListeners)?i.defaultMaxListeners:this._maxListeners,r&&r>0&&this._events[e].length>r&&(this._events[e].warned=!0,console.trace)),this},i.prototype.on=i.prototype.addListener,i.prototype.once=function(e,t){function r(){this.removeListener(e,r),i||(i=!0,t.apply(this,arguments))}if(!a(t))throw TypeError("listener must be a function");var i=!1;return r.listener=t,this.on(e,r),this},i.prototype.removeListener=function(e,t){var r,i,n,o;if(!a(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(r=this._events[e],n=r.length,i=-1,r===t||a(r.listener)&&r.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(s(r)){for(o=n;o-- >0;)if(r[o]===t||r[o].listener&&r[o].listener===t){i=o;break}if(i<0)return this;1===r.length?(r.length=0,delete this._events[e]):r.splice(i,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},i.prototype.removeAllListeners=function(e){var t,r;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(r=this._events[e],a(r))this.removeListener(e,r);else if(r)for(;r.length;)this.removeListener(e,r[r.length-1]);return delete this._events[e],this},i.prototype.listeners=function(e){return this._events&&this._events[e]?a(this._events[e])?[this._events[e]]:this._events[e].slice():[]},i.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(a(t))return 1;if(t)return t.length}return 0},i.listenerCount=function(e,t){return e.listenerCount(t)}},{}],2:[function(t,r,i){!function(t){var a=/^([^#]*)(.*)$/,n=/^([^\?]*)(.*)$/,s=/^(([a-z]+:\/\/)?[^:\/]+(?::[0-9]+)?)?(\/?.*)$/i,o={buildAbsoluteURL:function(e,t){if(t=t.trim(),/^[a-z]+:/i.test(t))return t;var r=null,i=null,l=a.exec(t);l&&(i=l[2],t=l[1]);var u=n.exec(t);u&&(r=u[2],t=u[1]);var d=a.exec(e);d&&(e=d[1]);var f=n.exec(e);f&&(e=f[1]);var c=s.exec(e);if(!c)throw new Error("Error trying to parse base URL.");var h=c[2]||"",g=c[1]||"",v=c[3];0!==v.indexOf("/")&&""!==g&&(v="/"+v);var p=null;return p=/^\/\//.test(t)?h+o.buildAbsolutePath("",t.substring(2)):/^\//.test(t)?g+"/"+o.buildAbsolutePath("",t.substring(1)):o.buildAbsolutePath(g+v,t),r&&(p+=r),i&&(p+=i),p},buildAbsolutePath:function(e,t){for(var r,i,a=t,n="",s=e.replace(/[^\/]*$/,a.replace(/(\/|^)(?:\.?\/+)+/g,"$1")),o=0;i=s.indexOf("/../",o),i>-1;o=i+r)r=/^\/(?:\.\.\/)*/.exec(s.slice(i))[0].length,n=(n+s.substring(o,i)).replace(new RegExp("(?:\\/+[^\\/]*){0,"+(r-1)/3+"}$"),"/");return n+s.substr(o)}};"object"==typeof i&&"object"==typeof r?r.exports=o:"function"==typeof e&&e.amd?e([],function(){return o}):"object"==typeof i?i.URLToolkit=o:t.URLToolkit=o}(this)},{}],3:[function(e,t,r){var i=arguments[3],a=arguments[4],n=arguments[5],s=JSON.stringify;t.exports=function(e,t){function r(e){p[e]=!0;for(var t in a[e][1]){var i=a[e][1][t];p[i]||r(i)}}for(var o,l=Object.keys(n),u=0,d=l.length;u<d;u++){var f=l[u],c=n[f].exports;if(c===e||c&&c.default===e){o=f;break}}if(!o){o=Math.floor(Math.pow(16,8)*Math.random()).toString(16);for(var h={},u=0,d=l.length;u<d;u++){var f=l[u];h[f]=f}a[o]=[Function(["require","module","exports"],"("+e+")(self)"),h]}var g=Math.floor(Math.pow(16,8)*Math.random()).toString(16),v={};v[o]=o,a[g]=[Function(["require"],"var f = require("+s(o)+");(f.default ? f.default : f)(self);"),v];var p={};r(g);var y="("+i+")({"+Object.keys(p).map(function(e){return s(e)+":["+a[e][0]+","+s(a[e][1])+"]"}).join(",")+"},{},["+s(g)+"])",m=window.URL||window.webkitURL||window.mozURL||window.msURL,E=new Blob([y],{type:"text/javascript"});if(t&&t.bare)return E;var b=m.createObjectURL(E),T=new Worker(b);return T.objectURL=b,T}},{}],4:[function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(r,"__esModule",{value:!0}),r.hlsDefaultConfig=void 0;var a=e(5),n=i(a),s=e(8),o=i(s),l=e(9),u=i(l),d=e(11),f=i(d),c=e(55),h=i(c),g=e(7),v=i(g),p=e(6),y=i(p),m=e(48),E=i(m),b=e(16),T=i(b),_=e(15),k=i(_),R=e(14),A=i(R);r.hlsDefaultConfig={autoStartLoad:!0,startPosition:-1,defaultAudioCodec:void 0,debug:!1,capLevelOnFPSDrop:!1,capLevelToPlayerSize:!1,initialLiveManifestSize:1,maxBufferLength:30,maxBufferSize:6e7,maxBufferHole:.5,maxSeekHole:2,lowBufferWatchdogPeriod:.5,highBufferWatchdogPeriod:3,nudgeOffset:.1,nudgeMaxRetry:3,maxFragLookUpTolerance:.2,liveSyncDurationCount:3,liveMaxLatencyDurationCount:1/0,liveSyncDuration:void 0,liveMaxLatencyDuration:void 0,maxMaxBufferLength:600,enableWorker:!0,enableSoftwareAES:!0,manifestLoadingTimeOut:1e4,manifestLoadingMaxRetry:1,manifestLoadingRetryDelay:1e3,manifestLoadingMaxRetryTimeout:64e3,startLevel:void 0,levelLoadingTimeOut:1e4,levelLoadingMaxRetry:4,levelLoadingRetryDelay:1e3,levelLoadingMaxRetryTimeout:64e3,fragLoadingTimeOut:2e4,fragLoadingMaxRetry:6,fragLoadingRetryDelay:1e3,fragLoadingMaxRetryTimeout:64e3,fragLoadingLoopThreshold:3,startFragPrefetch:!1,fpsDroppedMonitoringPeriod:5e3,fpsDroppedMonitoringThreshold:.2,appendErrorMaxRetry:3,loader:h.default,fLoader:void 0,pLoader:void 0,xhrSetup:void 0,fetchSetup:void 0,abrController:n.default,bufferController:o.default,capLevelController:u.default,fpsController:f.default,audioStreamController:y.default,audioTrackController:v.default,subtitleStreamController:A.default,subtitleTrackController:k.default,timelineController:T.default,cueHandler:E.default,enableCEA708Captions:!0,enableWebVTT:!0,stretchShortVideoTrack:!1,forceKeyFrameOnDiscontinuity:!0,abrEwmaFastLive:3,abrEwmaSlowLive:9,abrEwmaFastVoD:3,abrEwmaSlowVoD:9,abrEwmaDefaultEstimate:5e5,abrBandWidthFactor:.95,abrBandWidthUpFactor:.7,abrMaxWithRealBitrate:!1,maxStarvationDelay:4,maxLoadingDelay:4,minAutoBitrate:0}},{11:11,14:14,15:15,16:16,48:48,5:5,55:55,6:6,7:7,8:8,9:9}],5:[function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}(),l=e(33),u=i(l),d=e(32),f=i(d),c=e(35),h=i(c),g=e(31),v=e(50),p=e(10),y=i(p),m=function(e){function t(e){a(this,t);var r=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,u.default.FRAG_LOADING,u.default.FRAG_LOADED,u.default.FRAG_BUFFERED,u.default.ERROR));return r.lastLoadedFragLevel=0,r._nextAutoLevel=-1,r.hls=e,r.onCheck=r._abandonRulesCheck.bind(r),r}return s(t,e),o(t,[{key:"destroy",value:function(){this.clearTimer(),f.default.prototype.destroy.call(this)}},{key:"onFragLoading",value:function(e){var t=e.frag;if("main"===t.type){if(this.timer||(this.timer=setInterval(this.onCheck,100)),!this._bwEstimator){var r=this.hls,i=e.frag.level,a=r.levels[i].details.live,n=r.config,s=void 0,o=void 0;a?(s=n.abrEwmaFastLive,o=n.abrEwmaSlowLive):(s=n.abrEwmaFastVoD,o=n.abrEwmaSlowVoD),this._bwEstimator=new y.default(r,o,s,n.abrEwmaDefaultEstimate)}this.fragCurrent=t}}},{key:"_abandonRulesCheck",value:function(){var e=this.hls,t=e.media,r=this.fragCurrent,i=r.loader,a=e.minAutoLevel;if(!i||i.stats&&i.stats.aborted)return v.logger.warn("frag loader destroy or aborted, disarm abandonRules"),void this.clearTimer();var n=i.stats;if(t&&(!t.paused&&0!==t.playbackRate||!t.readyState)&&r.autoLevel&&r.level){var s=performance.now()-n.trequest,o=Math.abs(t.playbackRate);if(s>500*r.duration/o){var l=e.levels,d=Math.max(1,n.bw?n.bw/8:1e3*n.loaded/s),f=l[r.level],c=f.realBitrate?Math.max(f.realBitrate,f.bitrate):f.bitrate,g=n.total?n.total:Math.max(n.loaded,Math.round(r.duration*c/8)),p=t.currentTime,y=(g-n.loaded)/d,m=(h.default.bufferInfo(t,p,e.config.maxBufferHole).end-p)/o;if(m<2*r.duration/o&&y>m){var E=void 0,b=void 0;for(b=r.level-1;b>a;b--){var T=l[b].realBitrate?Math.max(l[b].realBitrate,l[b].bitrate):l[b].bitrate;if(E=r.duration*T/(6.4*d),E<m)break}E<y&&(v.logger.warn("loading too slow, abort fragment loading and switch to level "+b+":fragLoadedDelay["+b+"]<fragLoadedDelay["+(r.level-1)+"];bufferStarvationDelay:"+E.toFixed(1)+"<"+y.toFixed(1)+":"+m.toFixed(1)),e.nextLoadLevel=b,this._bwEstimator.sample(s,n.loaded),i.abort(),this.clearTimer(),e.trigger(u.default.FRAG_LOAD_EMERGENCY_ABORTED,{frag:r,stats:n}))}}}}},{key:"onFragLoaded",value:function(e){var t=e.frag;if("main"===t.type&&!isNaN(t.sn)){if(this.clearTimer(),this.lastLoadedFragLevel=t.level,this._nextAutoLevel=-1,this.hls.config.abrMaxWithRealBitrate){var r=this.hls.levels[t.level],i=(r.loaded?r.loaded.bytes:0)+e.stats.loaded,a=(r.loaded?r.loaded.duration:0)+e.frag.duration;r.loaded={bytes:i,duration:a},r.realBitrate=Math.round(8*i/a)}if(e.frag.bitrateTest){var n=e.stats;n.tparsed=n.tbuffered=n.tload,this.onFragBuffered(e)}}}},{key:"onFragBuffered",value:function(e){var t=e.stats,r=e.frag;if(!(t.aborted===!0||1!==r.loadCounter||"main"!==r.type||isNaN(r.sn)||r.bitrateTest&&t.tload!==t.tbuffered)){var i=t.tparsed-t.trequest;v.logger.log("latency/loading/parsing/append/kbps:"+Math.round(t.tfirst-t.trequest)+"/"+Math.round(t.tload-t.tfirst)+"/"+Math.round(t.tparsed-t.tload)+"/"+Math.round(t.tbuffered-t.tparsed)+"/"+Math.round(8*t.loaded/(t.tbuffered-t.trequest))),this._bwEstimator.sample(i,t.loaded),r.bitrateTest?this.bitrateTestDelay=i/1e3:this.bitrateTestDelay=0}}},{key:"onError",value:function(e){switch(e.details){case g.ErrorDetails.FRAG_LOAD_ERROR:case g.ErrorDetails.FRAG_LOAD_TIMEOUT:this.clearTimer()}}},{key:"clearTimer",value:function(){this.timer&&(clearInterval(this.timer),this.timer=null)}},{key:"_findBestLevel",value:function(e,t,r,i,a,n,s,o,l){for(var u=a;u>=i;u--){var d=l[u],f=d.details,c=f?f.totalduration/f.fragments.length:t,h=!!f&&f.live,g=void 0;g=u<=e?s*r:o*r;var p=l[u].realBitrate?Math.max(l[u].realBitrate,l[u].bitrate):l[u].bitrate,y=p*c/g;if(v.logger.trace("level/adjustedbw/bitrate/avgDuration/maxFetchDuration/fetchDuration: "+u+"/"+Math.round(g)+"/"+p+"/"+c+"/"+n+"/"+y),g>p&&(!y||h||y<n))return u}return-1}},{key:"nextAutoLevel",get:function(){var e=this._nextAutoLevel,t=this._bwEstimator;if(!(e===-1||t&&t.canEstimate()))return e;var r=this._nextABRAutoLevel;return e!==-1&&(r=Math.min(e,r)),r},set:function(e){this._nextAutoLevel=e}},{key:"_nextABRAutoLevel",get:function(){var e=this.hls,t=e.maxAutoLevel,r=e.levels,i=e.config,a=e.minAutoLevel,n=e.media,s=this.lastLoadedFragLevel,o=this.fragCurrent?this.fragCurrent.duration:0,l=n?n.currentTime:0,u=n&&0!==n.playbackRate?Math.abs(n.playbackRate):1,d=this._bwEstimator?this._bwEstimator.getEstimate():i.abrEwmaDefaultEstimate,f=(h.default.bufferInfo(n,l,i.maxBufferHole).end-l)/u,c=this._findBestLevel(s,o,d,a,t,f,i.abrBandWidthFactor,i.abrBandWidthUpFactor,r);if(c>=0)return c;v.logger.trace("rebuffering expected to happen, lets try to find a quality level minimizing the rebuffering");var g=o?Math.min(o,i.maxStarvationDelay):i.maxStarvationDelay,p=i.abrBandWidthFactor,y=i.abrBandWidthUpFactor;if(0===f){var m=this.bitrateTestDelay;if(m){g=(o?Math.min(o,i.maxLoadingDelay):i.maxLoadingDelay)-m,v.logger.trace("bitrate test took "+Math.round(1e3*m)+"ms, set first fragment max fetchDuration to "+Math.round(1e3*g)+" ms"),p=y=1}}return c=this._findBestLevel(s,o,d,a,t,f+g,p,y,r),Math.max(c,0)}}]),t}(f.default);r.default=m},{10:10,31:31,32:32,33:33,35:35,50:50}],6:[function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(r,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}(),u=e(46),d=i(u),f=e(35),c=i(f),h=e(25),g=i(h),v=e(33),p=i(v),y=e(32),m=i(y),E=e(36),b=i(E),T=e(51),_=i(T),k=e(31),R=e(50),A={STOPPED:"STOPPED",STARTING:"STARTING",IDLE:"IDLE",PAUSED:"PAUSED",KEY_LOADING:"KEY_LOADING",FRAG_LOADING:"FRAG_LOADING",FRAG_LOADING_WAITING_RETRY:"FRAG_LOADING_WAITING_RETRY",WAITING_TRACK:"WAITING_TRACK",PARSING:"PARSING",PARSED:"PARSED",BUFFER_FLUSHING:"BUFFER_FLUSHING",ENDED:"ENDED",ERROR:"ERROR",WAITING_INIT_PTS:"WAITING_INIT_PTS"},S=function(e){function t(e){a(this,t);var r=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,p.default.MEDIA_ATTACHED,p.default.MEDIA_DETACHING,p.default.AUDIO_TRACKS_UPDATED,p.default.AUDIO_TRACK_SWITCHING,p.default.AUDIO_TRACK_LOADED,p.default.KEY_LOADED,p.default.FRAG_LOADED,p.default.FRAG_PARSING_INIT_SEGMENT,p.default.FRAG_PARSING_DATA,p.default.FRAG_PARSED,p.default.ERROR,p.default.BUFFER_CREATED,p.default.BUFFER_APPENDED,p.default.BUFFER_FLUSHED,p.default.INIT_PTS_FOUND));return r.config=e.config,r.audioCodecSwap=!1,r.ticks=0,r._state=A.STOPPED,r.ontick=r.tick.bind(r),r.initPTS=[],r.waitingFragment=null,r}return s(t,e),l(t,[{key:"destroy",value:function(){this.stopLoad(),this.timer&&(clearInterval(this.timer),this.timer=null),m.default.prototype.destroy.call(this),this.state=A.STOPPED}},{key:"onInitPtsFound",value:function(e){var t=e.id,r=e.frag.cc,i=e.initPTS;"main"===t&&(this.initPTS[r]=i,R.logger.log("InitPTS for cc:"+r+" found from video track:"+i),this.state===A.WAITING_INIT_PTS&&(R.logger.log("sending pending audio frag to demuxer"),this.state=A.FRAG_LOADING,this.onFragLoaded(this.waitingFragment),this.waitingFragment=null))}},{key:"startLoad",value:function(e){if(this.tracks){var t=this.lastCurrentTime;this.stopLoad(),this.timer||(this.timer=setInterval(this.ontick,100)),this.fragLoadError=0,t>0&&e===-1?(R.logger.log("audio:override startPosition with lastCurrentTime @"+t.toFixed(3)),this.state=A.IDLE):(this.lastCurrentTime=this.startPosition?this.startPosition:e,this.state=A.STARTING),this.nextLoadPosition=this.startPosition=this.lastCurrentTime,this.tick()}else this.startPosition=e,this.state=A.STOPPED}},{key:"stopLoad",value:function(){var e=this.fragCurrent;e&&(e.loader&&e.loader.abort(),this.fragCurrent=null),this.fragPrevious=null,this.demuxer&&(this.demuxer.destroy(),this.demuxer=null),this.state=A.STOPPED}},{key:"tick",value:function(){this.ticks++,1===this.ticks&&(this.doTick(),this.ticks>1&&setTimeout(this.tick,1),this.ticks=0)}},{key:"doTick",value:function(){var e,t,r,i,a,n,s=this,l=this.hls,u=l.config,f=function(){switch(s.state){case A.ERROR:case A.PAUSED:case A.BUFFER_FLUSHING:break;case A.STARTING:s.state=A.WAITING_TRACK,s.loadedmetadata=!1;break;case A.IDLE:var o=s.tracks;if(!o)break;if(!s.media&&(s.startFragRequested||!u.startFragPrefetch))break;e=s.loadedmetadata?s.media.currentTime:s.nextLoadPosition;var f=s.mediaBuffer?s.mediaBuffer:s.media,h=c.default.bufferInfo(f,e,u.maxBufferHole),g=h.len,v=h.end,y=s.fragPrevious,m=u.maxMaxBufferLength,E=s.audioSwitch,b=s.trackId;if(g<m&&b<o.length){if(r=o[b].details,void 0===r){s.state=A.WAITING_TRACK;break}if(!E&&!r.live&&y&&y.sn===r.endSN&&(!s.media.seeking||s.media.duration-v<y.duration/2)){s.hls.trigger(p.default.BUFFER_EOS,{type:"audio"}),s.state=A.ENDED;break}var T=r.fragments,_=T.length,S=T[0].start,L=T[_-1].start+T[_-1].duration,w=void 0;if(E)if(r.live&&!r.PTSKnown)R.logger.log("switching audiotrack, live stream, unknown PTS,load first fragment"),v=0;else if(v=e,r.PTSKnown&&e<S){if(!(h.end>S||h.nextStart))return{v:void 0};R.logger.log("alt audio track ahead of main track, seek to start of alt audio track"),s.media.currentTime=S+.05}if(r.initSegment&&!r.initSegment.data)w=r.initSegment;else if(v<=S){if(w=T[0],r.live&&w.loadIdx&&w.loadIdx===s.fragLoadIdx){var D=h.nextStart?h.nextStart:S;return R.logger.log("no alt audio available @currentTime:"+s.media.currentTime+", seeking @"+(D+.05)),s.media.currentTime=D+.05,{v:void 0}}}else!function(){var e=void 0,t=u.maxFragLookUpTolerance,i=y?T[y.sn-T[0].sn+1]:void 0,a=function(e){var r=Math.min(t,e.duration);return e.start+e.duration-r<=v?1:e.start-r>v&&e.start?-1:0};v<L?(v>L-t&&(t=0),e=i&&!a(i)?i:d.default.search(T,a)):e=T[_-1],e&&(w=e,S=e.start,y&&w.level===y.level&&w.sn===y.sn&&(w.sn<r.endSN?(w=T[w.sn+1-r.startSN],R.logger.log("SN just loaded, load next one: "+w.sn)):w=null))}();if(w)if(w.decryptdata&&null!=w.decryptdata.uri&&null==w.decryptdata.key)R.logger.log("Loading key for "+w.sn+" of ["+r.startSN+" ,"+r.endSN+"],track "+b),s.state=A.KEY_LOADING,l.trigger(p.default.KEY_LOADING,{frag:w});else{if(R.logger.log("Loading "+w.sn+" of ["+r.startSN+" ,"+r.endSN+"],track "+b+", currentTime:"+e+",bufferEnd:"+v.toFixed(3)),void 0!==s.fragLoadIdx?s.fragLoadIdx++:s.fragLoadIdx=0,w.loadCounter){w.loadCounter++;var O=u.fragLoadingLoopThreshold;if(w.loadCounter>O&&Math.abs(s.fragLoadIdx-w.loadIdx)<O)return l.trigger(p.default.ERROR,{type:k.ErrorTypes.MEDIA_ERROR,details:k.ErrorDetails.FRAG_LOOP_LOADING_ERROR,fatal:!1,frag:w}),{v:void 0}}else w.loadCounter=1;w.loadIdx=s.fragLoadIdx,s.fragCurrent=w,s.startFragRequested=!0,isNaN(w.sn)||(s.nextLoadPosition=w.start+w.duration),l.trigger(p.default.FRAG_LOADING,{frag:w}),s.state=A.FRAG_LOADING}}break;case A.WAITING_TRACK:t=s.tracks[s.trackId],t&&t.details&&(s.state=A.IDLE);break;case A.FRAG_LOADING_WAITING_RETRY:i=performance.now(),a=s.retryDate,f=s.media,n=f&&f.seeking,(!a||i>=a||n)&&(R.logger.log("audioStreamController: retryDate reached, switch back to IDLE state"),s.state=A.IDLE);break;case A.WAITING_INIT_PTS:case A.STOPPED:case A.FRAG_LOADING:case A.PARSING:case A.PARSED:case A.ENDED:}}();if("object"===(void 0===f?"undefined":o(f)))return f.v}},{key:"onMediaAttached",value:function(e){var t=this.media=this.mediaBuffer=e.media;this.onvseeking=this.onMediaSeeking.bind(this),this.onvended=this.onMediaEnded.bind(this),t.addEventListener("seeking",this.onvseeking),t.addEventListener("ended",this.onvended);var r=this.config;this.tracks&&r.autoStartLoad&&this.startLoad(r.startPosition)}},{key:"onMediaDetaching",value:function(){var e=this.media;e&&e.ended&&(R.logger.log("MSE detaching and video ended, reset startPosition"),this.startPosition=this.lastCurrentTime=0);var t=this.tracks;t&&t.forEach(function(e){e.details&&e.details.fragments.forEach(function(e){e.loadCounter=void 0})}),e&&(e.removeEventListener("seeking",this.onvseeking),e.removeEventListener("ended",this.onvended),this.onvseeking=this.onvseeked=this.onvended=null),this.media=this.mediaBuffer=null,this.loadedmetadata=!1,this.stopLoad()}},{key:"onMediaSeeking",value:function(){this.state===A.ENDED&&(this.state=A.IDLE),this.media&&(this.lastCurrentTime=this.media.currentTime),void 0!==this.fragLoadIdx&&(this.fragLoadIdx+=2*this.config.fragLoadingLoopThreshold),this.tick()}},{key:"onMediaEnded",value:function(){this.startPosition=this.lastCurrentTime=0}},{key:"onAudioTracksUpdated",value:function(e){R.logger.log("audio tracks updated"),this.tracks=e.audioTracks}},{key:"onAudioTrackSwitching",value:function(e){var t=!!e.url;this.trackId=e.id,this.state=A.IDLE,this.fragCurrent=null,this.state=A.PAUSED,this.waitingFragment=null,t?this.timer||(this.timer=setInterval(this.ontick,100)):this.demuxer&&(this.demuxer.destroy(),this.demuxer=null),t&&(this.audioSwitch=!0,this.state=A.IDLE,void 0!==this.fragLoadIdx&&(this.fragLoadIdx+=2*this.config.fragLoadingLoopThreshold)),this.tick()}},{key:"onAudioTrackLoaded",value:function(e){var t=e.details,r=e.id,i=this.tracks[r],a=t.totalduration,n=0;if(R.logger.log("track "+r+" loaded ["+t.startSN+","+t.endSN+"],duration:"+a),t.live){var s=i.details;s&&t.fragments.length>0?(b.default.mergeDetails(s,t),n=t.fragments[0].start,t.PTSKnown?R.logger.log("live audio playlist sliding:"+n.toFixed(3)):R.logger.log("live audio playlist - outdated PTS, unknown sliding")):(t.PTSKnown=!1,R.logger.log("live audio playlist - first load, unknown sliding"))}else t.PTSKnown=!1;if(i.details=t,!this.startFragRequested){if(this.startPosition===-1){var o=t.startTimeOffset;isNaN(o)?this.startPosition=0:(R.logger.log("start time offset found in playlist, adjust startPosition to "+o),this.startPosition=o)}this.nextLoadPosition=this.startPosition}this.state===A.WAITING_TRACK&&(this.state=A.IDLE),this.tick()}},{key:"onKeyLoaded",value:function(){this.state===A.KEY_LOADING&&(this.state=A.IDLE,this.tick())}},{key:"onFragLoaded",value:function(e){var t=this.fragCurrent,r=e.frag;if(this.state===A.FRAG_LOADING&&t&&"audio"===r.type&&r.level===t.level&&r.sn===t.sn){var i=this.tracks[this.trackId],a=i.details,n=a.totalduration,s=t.level,o=t.sn,l=t.cc,u=this.config.defaultAudioCodec||i.audioCodec||"mp4a.40.2",d=this.stats=e.stats;if("initSegment"===o)this.state=A.IDLE,d.tparsed=d.tbuffered=performance.now(),a.initSegment.data=e.payload,this.hls.trigger(p.default.FRAG_BUFFERED,{stats:d,frag:t,id:"audio"}),this.tick();else{this.state=A.PARSING,this.appended=!1,this.demuxer||(this.demuxer=new g.default(this.hls,"audio"));var f=this.initPTS[l],c=a.initSegment?a.initSegment.data:[];if(c||void 0!==f){this.pendingBuffering=!0,R.logger.log("Demuxing "+o+" of ["+a.startSN+" ,"+a.endSN+"],track "+s);this.demuxer.push(e.payload,c,u,null,t,n,!1,f)}else R.logger.log("unknown video PTS for continuity counter "+l+", waiting for video PTS before demuxing audio frag "+o+" of ["+a.startSN+" ,"+a.endSN+"],track "+s),this.waitingFragment=e,this.state=A.WAITING_INIT_PTS}}this.fragLoadError=0}},{key:"onFragParsingInitSegment",value:function(e){var t=this.fragCurrent,r=e.frag;if(t&&"audio"===e.id&&r.sn===t.sn&&r.level===t.level&&this.state===A.PARSING){var i=e.tracks,a=void 0;if(i.video&&delete i.video,a=i.audio){a.levelCodec="mp4a.40.2",a.id=e.id,this.hls.trigger(p.default.BUFFER_CODECS,i),R.logger.log("audio track:audio,container:"+a.container+",codecs[level/parsed]=["+a.levelCodec+"/"+a.codec+"]");var n=a.initSegment;if(n){var s={type:"audio",data:n,parent:"audio",content:"initSegment"};this.audioSwitch?this.pendingData=[s]:(this.appended=!0,this.pendingBuffering=!0,this.hls.trigger(p.default.BUFFER_APPENDING,s))}this.tick()}}}},{key:"onFragParsingData",value:function(e){var t=this,r=this.fragCurrent,i=e.frag;r&&"audio"===e.id&&"audio"===e.type&&i.sn===r.sn&&i.level===r.level&&this.state===A.PARSING&&function(){var i=t.trackId,a=t.tracks[i],n=t.hls;isNaN(e.endPTS)&&(e.endPTS=e.startPTS+r.duration,e.endDTS=e.startDTS+r.duration),R.logger.log("parsed "+e.type+",PTS:["+e.startPTS.toFixed(3)+","+e.endPTS.toFixed(3)+"],DTS:["+e.startDTS.toFixed(3)+"/"+e.endDTS.toFixed(3)+"],nb:"+e.nb),b.default.updateFragPTSDTS(a.details,r.sn,e.startPTS,e.endPTS);var s=t.audioSwitch,o=t.media,l=!1;if(s&&o)if(o.readyState){var u=o.currentTime;R.logger.log("switching audio track : currentTime:"+u),u>=e.startPTS&&(R.logger.log("switching audio track : flushing all audio"),t.state=A.BUFFER_FLUSHING,n.trigger(p.default.BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY,type:"audio"}),l=!0,t.audioSwitch=!1,n.trigger(p.default.AUDIO_TRACK_SWITCHED,{id:i}))}else t.audioSwitch=!1,n.trigger(p.default.AUDIO_TRACK_SWITCHED,{id:i});var d=t.pendingData;t.audioSwitch||([e.data1,e.data2].forEach(function(t){t&&t.length&&d.push({type:e.type,data:t,parent:"audio",content:"data"})}),!l&&d.length&&(d.forEach(function(e){t.state===A.PARSING&&(t.pendingBuffering=!0,t.hls.trigger(p.default.BUFFER_APPENDING,e))}),t.pendingData=[],t.appended=!0)),t.tick()}()}},{key:"onFragParsed",value:function(e){var t=this.fragCurrent,r=e.frag;t&&"audio"===e.id&&r.sn===t.sn&&r.level===t.level&&this.state===A.PARSING&&(this.stats.tparsed=performance.now(),this.state=A.PARSED,this._checkAppendedParsed())}},{key:"onBufferCreated",value:function(e){var t=e.tracks.audio;t&&(this.mediaBuffer=t.buffer,this.loadedmetadata=!0)}},{key:"onBufferAppended",value:function(e){if("audio"===e.parent){var t=this.state;t!==A.PARSING&&t!==A.PARSED||(this.pendingBuffering=e.pending>0,this._checkAppendedParsed())}}},{key:"_checkAppendedParsed",value:function(){if(!(this.state!==A.PARSED||this.appended&&this.pendingBuffering)){var e=this.fragCurrent,t=this.stats,r=this.hls;if(e){this.fragPrevious=e,t.tbuffered=performance.now(),r.trigger(p.default.FRAG_BUFFERED,{stats:t,frag:e,id:"audio"});var i=this.mediaBuffer?this.mediaBuffer:this.media;R.logger.log("audio buffered : "+_.default.toString(i.buffered)),this.audioSwitch&&this.appended&&(this.audioSwitch=!1,r.trigger(p.default.AUDIO_TRACK_SWITCHED,{id:this.trackId})),this.state=A.IDLE}this.tick()}}},{key:"onError",value:function(e){var t=e.frag;if(!t||"audio"===t.type)switch(e.details){case k.ErrorDetails.FRAG_LOAD_ERROR:case k.ErrorDetails.FRAG_LOAD_TIMEOUT:if(!e.fatal){var r=this.fragLoadError;r?r++:r=1;var i=this.config;if(r<=i.fragLoadingMaxRetry){this.fragLoadError=r,t.loadCounter=0;var a=Math.min(Math.pow(2,r-1)*i.fragLoadingRetryDelay,i.fragLoadingMaxRetryTimeout);R.logger.warn("audioStreamController: frag loading failed, retry in "+a+" ms"),this.retryDate=performance.now()+a,this.state=A.FRAG_LOADING_WAITING_RETRY}else R.logger.error("audioStreamController: "+e.details+" reaches max retry, redispatch as fatal ..."),e.fatal=!0,this.state=A.ERROR}break;case k.ErrorDetails.FRAG_LOOP_LOADING_ERROR:case k.ErrorDetails.AUDIO_TRACK_LOAD_ERROR:case k.ErrorDetails.AUDIO_TRACK_LOAD_TIMEOUT:case k.ErrorDetails.KEY_LOAD_ERROR:case k.ErrorDetails.KEY_LOAD_TIMEOUT:this.state!==A.ERROR&&(this.state=e.fatal?A.ERROR:A.IDLE,R.logger.warn("audioStreamController: "+e.details+" while loading frag,switch to "+this.state+" state ..."));break;case k.ErrorDetails.BUFFER_FULL_ERROR:if("audio"===e.parent&&(this.state===A.PARSING||this.state===A.PARSED)){var n=this.mediaBuffer,s=this.media.currentTime;if(n&&c.default.isBuffered(n,s)&&c.default.isBuffered(n,s+.5)){var o=this.config;o.maxMaxBufferLength>=o.maxBufferLength&&(o.maxMaxBufferLength/=2,R.logger.warn("audio:reduce max buffer length to "+o.maxMaxBufferLength+"s"),this.fragLoadIdx+=2*o.fragLoadingLoopThreshold),this.state=A.IDLE}else R.logger.warn("buffer full error also media.currentTime is not buffered, flush audio buffer"),this.fragCurrent=null,this.state=A.BUFFER_FLUSHING,this.hls.trigger(p.default.BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY,type:"audio"})}}}},{key:"onBufferFlushed",value:function(){var e=this,t=this.pendingData;t&&t.length?(R.logger.log("appending pending audio data on Buffer Flushed"),t.forEach(function(t){e.hls.trigger(p.default.BUFFER_APPENDING,t)}),this.appended=!0,this.pendingData=[],this.state=A.PARSED):(this.state=A.IDLE,this.fragPrevious=null,this.tick())}},{key:"state",set:function(e){if(this.state!==e){var t=this.state;this._state=e,R.logger.log("audio stream:"+t+"->"+e)}},get:function(){return this._state}}]),t}(m.default);r.default=S},{25:25,31:31,32:32,33:33,35:35,36:36,46:46,50:50,51:51}],7:[function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}(),l=e(33),u=i(l),d=e(32),f=i(d),c=e(50),h=function(e){function t(e){a(this,t);var r=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,u.default.MANIFEST_LOADING,u.default.MANIFEST_LOADED,u.default.AUDIO_TRACK_LOADED));return r.ticks=0,r.ontick=r.tick.bind(r),r}return s(t,e),o(t,[{key:"destroy",value:function(){f.default.prototype.destroy.call(this)}},{key:"tick",value:function(){this.ticks++,1===this.ticks&&(this.doTick(),this.ticks>1&&setTimeout(this.tick,1),this.ticks=0)}},{key:"doTick",value:function(){this.updateTrack(this.trackId)}},{key:"onManifestLoading",value:function(){this.tracks=[],this.trackId=-1}},{key:"onManifestLoaded",value:function(e){
var t=this,r=e.audioTracks||[],i=!1;this.tracks=r,this.hls.trigger(u.default.AUDIO_TRACKS_UPDATED,{audioTracks:r});var a=0;r.forEach(function(e){if(e.default)return t.audioTrack=a,void(i=!0);a++}),i===!1&&r.length&&(c.logger.log("no default audio track defined, use first audio track as default"),this.audioTrack=0)}},{key:"onAudioTrackLoaded",value:function(e){e.id<this.tracks.length&&(c.logger.log("audioTrack "+e.id+" loaded"),this.tracks[e.id].details=e.details,e.details.live&&!this.timer&&(this.timer=setInterval(this.ontick,1e3*e.details.targetduration)),!e.details.live&&this.timer&&(clearInterval(this.timer),this.timer=null))}},{key:"setAudioTrackInternal",value:function(e){if(e>=0&&e<this.tracks.length){this.timer&&(clearInterval(this.timer),this.timer=null),this.trackId=e,c.logger.log("switching to audioTrack "+e);var t=this.tracks[e],r=this.hls,i=t.type,a=t.url,n={id:e,type:i,url:a};r.trigger(u.default.AUDIO_TRACK_SWITCH,n),r.trigger(u.default.AUDIO_TRACK_SWITCHING,n);var s=t.details;!a||void 0!==s&&s.live!==!0||(c.logger.log("(re)loading playlist for audioTrack "+e),r.trigger(u.default.AUDIO_TRACK_LOADING,{url:a,id:e}))}}},{key:"updateTrack",value:function(e){if(e>=0&&e<this.tracks.length){this.timer&&(clearInterval(this.timer),this.timer=null),this.trackId=e,c.logger.log("updating audioTrack "+e);var t=this.tracks[e],r=t.url,i=t.details;!r||void 0!==i&&i.live!==!0||(c.logger.log("(re)loading playlist for audioTrack "+e),this.hls.trigger(u.default.AUDIO_TRACK_LOADING,{url:r,id:e}))}}},{key:"audioTracks",get:function(){return this.tracks}},{key:"audioTrack",get:function(){return this.trackId},set:function(e){this.trackId===e&&void 0!==this.tracks[e].details||this.setAudioTrackInternal(e)}}]),t}(f.default);r.default=h},{32:32,33:33,50:50}],8:[function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}(),l=e(33),u=i(l),d=e(32),f=i(d),c=e(50),h=e(31),g=function(e){function t(e){a(this,t);var r=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,u.default.MEDIA_ATTACHING,u.default.MEDIA_DETACHING,u.default.MANIFEST_PARSED,u.default.BUFFER_RESET,u.default.BUFFER_APPENDING,u.default.BUFFER_CODECS,u.default.BUFFER_EOS,u.default.BUFFER_FLUSHING,u.default.LEVEL_PTS_UPDATED,u.default.LEVEL_UPDATED));return r._msDuration=null,r._levelDuration=null,r.onsbue=r.onSBUpdateEnd.bind(r),r.onsbe=r.onSBUpdateError.bind(r),r.pendingTracks={},r.tracks={},r}return s(t,e),o(t,[{key:"destroy",value:function(){f.default.prototype.destroy.call(this)}},{key:"onLevelPtsUpdated",value:function(e){var t=e.type,r=this.tracks.audio;if("audio"===t&&r&&"audio/mpeg"===r.container){var i=this.sourceBuffer.audio;if(Math.abs(i.timestampOffset-e.start)>.1){var a=i.updating;try{i.abort()}catch(e){a=!0,c.logger.warn("can not abort audio buffer: "+e)}a?this.audioTimestampOffset=e.start:(c.logger.warn("change mpeg audio timestamp offset from "+i.timestampOffset+" to "+e.start),i.timestampOffset=e.start)}}}},{key:"onManifestParsed",value:function(e){var t=e.audio,r=e.video,i=0;e.altAudio&&(t||r)&&(i=(t?1:0)+(r?1:0),c.logger.log(i+" sourceBuffer(s) expected")),this.sourceBufferNb=i}},{key:"onMediaAttaching",value:function(e){var t=this.media=e.media;if(t){var r=this.mediaSource=new MediaSource;this.onmso=this.onMediaSourceOpen.bind(this),this.onmse=this.onMediaSourceEnded.bind(this),this.onmsc=this.onMediaSourceClose.bind(this),r.addEventListener("sourceopen",this.onmso),r.addEventListener("sourceended",this.onmse),r.addEventListener("sourceclose",this.onmsc),t.src=URL.createObjectURL(r)}}},{key:"onMediaDetaching",value:function(){c.logger.log("media source detaching");var e=this.mediaSource;if(e){if("open"===e.readyState)try{e.endOfStream()}catch(e){c.logger.warn("onMediaDetaching:"+e.message+" while calling endOfStream")}e.removeEventListener("sourceopen",this.onmso),e.removeEventListener("sourceended",this.onmse),e.removeEventListener("sourceclose",this.onmsc),this.media&&(URL.revokeObjectURL(this.media.src),this.media.removeAttribute("src"),this.media.load()),this.mediaSource=null,this.media=null,this.pendingTracks={},this.tracks={},this.sourceBuffer={},this.flushRange=[],this.segments=[],this.appended=0}this.onmso=this.onmse=this.onmsc=null,this.hls.trigger(u.default.MEDIA_DETACHED)}},{key:"onMediaSourceOpen",value:function(){c.logger.log("media source opened"),this.hls.trigger(u.default.MEDIA_ATTACHED,{media:this.media});var e=this.mediaSource;e&&e.removeEventListener("sourceopen",this.onmso),this.checkPendingTracks()}},{key:"checkPendingTracks",value:function(){var e=this.pendingTracks,t=Object.keys(e).length;t&&(this.sourceBufferNb<=t||0===this.sourceBufferNb)&&(this.createSourceBuffers(e),this.pendingTracks={},this.doAppending())}},{key:"onMediaSourceClose",value:function(){c.logger.log("media source closed")}},{key:"onMediaSourceEnded",value:function(){c.logger.log("media source ended")}},{key:"onSBUpdateEnd",value:function(){if(this.audioTimestampOffset){var e=this.sourceBuffer.audio;c.logger.warn("change mpeg audio timestamp offset from "+e.timestampOffset+" to "+this.audioTimestampOffset),e.timestampOffset=this.audioTimestampOffset,delete this.audioTimestampOffset}this._needsFlush&&this.doFlush(),this._needsEos&&this.checkEos(),this.appending=!1;var t=this.parent,r=this.segments.reduce(function(e,r){return r.parent===t?e+1:e},0);this.hls.trigger(u.default.BUFFER_APPENDED,{parent:t,pending:r}),this._needsFlush||this.doAppending(),this.updateMediaElementDuration()}},{key:"onSBUpdateError",value:function(e){c.logger.error("sourceBuffer error:"+e),this.hls.trigger(u.default.ERROR,{type:h.ErrorTypes.MEDIA_ERROR,details:h.ErrorDetails.BUFFER_APPENDING_ERROR,fatal:!1})}},{key:"onBufferReset",value:function(){var e=this.sourceBuffer;for(var t in e){var r=e[t];try{this.mediaSource.removeSourceBuffer(r),r.removeEventListener("updateend",this.onsbue),r.removeEventListener("error",this.onsbe)}catch(e){}}this.sourceBuffer={},this.flushRange=[],this.segments=[],this.appended=0}},{key:"onBufferCodecs",value:function(e){if(0===Object.keys(this.sourceBuffer).length){for(var t in e)this.pendingTracks[t]=e[t];var r=this.mediaSource;r&&"open"===r.readyState&&this.checkPendingTracks()}}},{key:"createSourceBuffers",value:function(e){var t=this.sourceBuffer,r=this.mediaSource;for(var i in e)if(!t[i]){var a=e[i],n=a.levelCodec||a.codec,s=a.container+";codecs="+n;c.logger.log("creating sourceBuffer("+s+")");try{var o=t[i]=r.addSourceBuffer(s);o.addEventListener("updateend",this.onsbue),o.addEventListener("error",this.onsbe),this.tracks[i]={codec:n,container:a.container},a.buffer=o}catch(e){c.logger.error("error while trying to add sourceBuffer:"+e.message),this.hls.trigger(u.default.ERROR,{type:h.ErrorTypes.MEDIA_ERROR,details:h.ErrorDetails.BUFFER_ADD_CODEC_ERROR,fatal:!1,err:e,mimeType:s})}}this.hls.trigger(u.default.BUFFER_CREATED,{tracks:e})}},{key:"onBufferAppending",value:function(e){this._needsFlush||(this.segments?this.segments.push(e):this.segments=[e],this.doAppending())}},{key:"onBufferAppendFail",value:function(e){c.logger.error("sourceBuffer error:",e.event),this.hls.trigger(u.default.ERROR,{type:h.ErrorTypes.MEDIA_ERROR,details:h.ErrorDetails.BUFFER_APPENDING_ERROR,fatal:!1})}},{key:"onBufferEos",value:function(e){var t=this.sourceBuffer,r=e.type;for(var i in t)r&&i!==r||t[i].ended||(t[i].ended=!0,c.logger.log(i+" sourceBuffer now EOS"));this.checkEos()}},{key:"checkEos",value:function(){var e=this.sourceBuffer,t=this.mediaSource;if(!t||"open"!==t.readyState)return void(this._needsEos=!1);for(var r in e){var i=e[r];if(!i.ended)return;if(i.updating)return void(this._needsEos=!0)}c.logger.log("all media data available, signal endOfStream() to MediaSource and stop loading fragment");try{t.endOfStream()}catch(e){c.logger.warn("exception while calling mediaSource.endOfStream()")}this._needsEos=!1}},{key:"onBufferFlushing",value:function(e){this.flushRange.push({start:e.startOffset,end:e.endOffset,type:e.type}),this.flushBufferCounter=0,this.doFlush()}},{key:"onLevelUpdated",value:function(e){var t=e.details;0!==t.fragments.length&&(this._levelDuration=t.totalduration+t.fragments[0].start,this.updateMediaElementDuration())}},{key:"updateMediaElementDuration",value:function(){var e=this.media,t=this.mediaSource,r=this.sourceBuffer,i=this._levelDuration;if(null!==i&&e&&t&&r&&0!==e.readyState&&"open"===t.readyState){for(var a in r)if(r[a].updating)return;null===this._msDuration&&(this._msDuration=t.duration);var n=e.duration;(i>this._msDuration&&i>n||n===1/0||isNaN(n))&&(c.logger.log("Updating mediasource duration to "+i.toFixed(3)),this._msDuration=t.duration=i)}}},{key:"doFlush",value:function(){for(;this.flushRange.length;){var e=this.flushRange[0];if(!this.flushBuffer(e.start,e.end,e.type))return void(this._needsFlush=!0);this.flushRange.shift(),this.flushBufferCounter=0}if(0===this.flushRange.length){this._needsFlush=!1;var t=0,r=this.sourceBuffer;try{for(var i in r)t+=r[i].buffered.length}catch(e){c.logger.error("error while accessing sourceBuffer.buffered")}this.appended=t,this.hls.trigger(u.default.BUFFER_FLUSHED)}}},{key:"doAppending",value:function(){var e=this.hls,t=this.sourceBuffer,r=this.segments;if(Object.keys(t).length){if(this.media.error)return this.segments=[],void c.logger.error("trying to append although a media error occured, flush segment and abort");if(this.appending)return;if(r&&r.length){var i=r.shift();try{var a=i.type,n=t[a];n?n.updating?r.unshift(i):(n.ended=!1,this.parent=i.parent,n.appendBuffer(i.data),this.appendError=0,this.appended++,this.appending=!0):this.onSBUpdateEnd()}catch(t){c.logger.error("error while trying to append buffer:"+t.message),r.unshift(i);var s={type:h.ErrorTypes.MEDIA_ERROR,parent:i.parent};if(22===t.code)return this.segments=[],s.details=h.ErrorDetails.BUFFER_FULL_ERROR,s.fatal=!1,void e.trigger(u.default.ERROR,s);if(this.appendError?this.appendError++:this.appendError=1,s.details=h.ErrorDetails.BUFFER_APPEND_ERROR,this.appendError>e.config.appendErrorMaxRetry)return c.logger.log("fail "+e.config.appendErrorMaxRetry+" times to append segment in sourceBuffer"),r=[],s.fatal=!0,void e.trigger(u.default.ERROR,s);s.fatal=!1,e.trigger(u.default.ERROR,s)}}}}},{key:"flushBuffer",value:function(e,t,r){var i,a,n,s,o,l,u=this.sourceBuffer;if(Object.keys(u).length){if(c.logger.log("flushBuffer,pos/start/end: "+this.media.currentTime.toFixed(3)+"/"+e+"/"+t),this.flushBufferCounter<this.appended){for(var d in u)if(!r||d===r){if(i=u[d],i.ended=!1,i.updating)return c.logger.warn("cannot flush, sb updating in progress"),!1;try{for(a=0;a<i.buffered.length;a++)if(n=i.buffered.start(a),s=i.buffered.end(a),navigator.userAgent.toLowerCase().indexOf("firefox")!==-1&&t===Number.POSITIVE_INFINITY?(o=e,l=t):(o=Math.max(n,e),l=Math.min(s,t)),Math.min(l,s)-o>.5)return this.flushBufferCounter++,c.logger.log("flush "+d+" ["+o+","+l+"], of ["+n+","+s+"], pos:"+this.media.currentTime),i.remove(o,l),!1}catch(e){c.logger.warn("exception while accessing sourcebuffer, it might have been removed from MediaSource")}}}else c.logger.warn("abort flushing too many retries");c.logger.log("buffer flushed")}return!0}}]),t}(f.default);r.default=g},{31:31,32:32,33:33,50:50}],9:[function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}(),l=e(33),u=i(l),d=e(32),f=i(d),c=function(e){function t(e){return a(this,t),n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,u.default.FPS_DROP_LEVEL_CAPPING,u.default.MEDIA_ATTACHING,u.default.MANIFEST_PARSED))}return s(t,e),o(t,[{key:"destroy",value:function(){this.hls.config.capLevelToPlayerSize&&(this.media=this.restrictedLevels=null,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.timer&&(this.timer=clearInterval(this.timer)))}},{key:"onFpsDropLevelCapping",value:function(e){this.restrictedLevels||(this.restrictedLevels=[]),this.isLevelRestricted(e.droppedLevel)||this.restrictedLevels.push(e.droppedLevel)}},{key:"onMediaAttaching",value:function(e){this.media=e.media instanceof HTMLVideoElement?e.media:null}},{key:"onManifestParsed",value:function(e){var t=this.hls;t.config.capLevelToPlayerSize&&(this.autoLevelCapping=Number.POSITIVE_INFINITY,this.levels=e.levels,t.firstLevel=this.getMaxLevel(e.firstLevel),clearInterval(this.timer),this.timer=setInterval(this.detectPlayerSize.bind(this),1e3),this.detectPlayerSize())}},{key:"detectPlayerSize",value:function(){if(this.media){var e=this.levels?this.levels.length:0;if(e){var t=this.hls;t.autoLevelCapping=this.getMaxLevel(e-1),t.autoLevelCapping>this.autoLevelCapping&&t.streamController.nextLevelSwitch(),this.autoLevelCapping=t.autoLevelCapping}}}},{key:"getMaxLevel",value:function(e){var t=0,r=void 0,i=void 0,a=this.mediaWidth,n=this.mediaHeight,s=0,o=0;for(r=0;r<=e&&(i=this.levels[r],!this.isLevelRestricted(r))&&(t=r,s=i.width,o=i.height,!(a<=s||n<=o));r++);return t}},{key:"isLevelRestricted",value:function(e){return!(!this.restrictedLevels||this.restrictedLevels.indexOf(e)===-1)}},{key:"contentScaleFactor",get:function(){var e=1;try{e=window.devicePixelRatio}catch(e){}return e}},{key:"mediaWidth",get:function(){var e=void 0,t=this.media;return t&&(e=t.width||t.clientWidth||t.offsetWidth,e*=this.contentScaleFactor),e}},{key:"mediaHeight",get:function(){var e=void 0,t=this.media;return t&&(e=t.height||t.clientHeight||t.offsetHeight,e*=this.contentScaleFactor),e}}]),t}(f.default);r.default=c},{32:32,33:33}],10:[function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(r,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}(),s=e(49),o=i(s),l=function(){function e(t,r,i,n){a(this,e),this.hls=t,this.defaultEstimate_=n,this.minWeight_=.001,this.minDelayMs_=50,this.slow_=new o.default(r),this.fast_=new o.default(i)}return n(e,[{key:"sample",value:function(e,t){e=Math.max(e,this.minDelayMs_);var r=8e3*t/e,i=e/1e3;this.fast_.sample(i,r),this.slow_.sample(i,r)}},{key:"canEstimate",value:function(){var e=this.fast_;return e&&e.getTotalWeight()>=this.minWeight_}},{key:"getEstimate",value:function(){return this.canEstimate()?Math.min(this.fast_.getEstimate(),this.slow_.getEstimate()):this.defaultEstimate_}},{key:"destroy",value:function(){}}]),e}();r.default=l},{49:49}],11:[function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}(),l=e(33),u=i(l),d=e(32),f=i(d),c=e(50),h=function(e){function t(e){return a(this,t),n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,u.default.MEDIA_ATTACHING))}return s(t,e),o(t,[{key:"destroy",value:function(){this.timer&&clearInterval(this.timer),this.isVideoPlaybackQualityAvailable=!1}},{key:"onMediaAttaching",value:function(e){var t=this.hls.config;if(t.capLevelOnFPSDrop){"function"==typeof(this.video=e.media instanceof HTMLVideoElement?e.media:null).getVideoPlaybackQuality&&(this.isVideoPlaybackQualityAvailable=!0),clearInterval(this.timer),this.timer=setInterval(this.checkFPSInterval.bind(this),t.fpsDroppedMonitoringPeriod)}}},{key:"checkFPS",value:function(e,t,r){var i=performance.now();if(t){if(this.lastTime){var a=i-this.lastTime,n=r-this.lastDroppedFrames,s=t-this.lastDecodedFrames,o=1e3*n/a,l=this.hls;if(l.trigger(u.default.FPS_DROP,{currentDropped:n,currentDecoded:s,totalDroppedFrames:r}),o>0&&n>l.config.fpsDroppedMonitoringThreshold*s){var d=l.currentLevel;c.logger.warn("drop FPS ratio greater than max allowed value for currentLevel: "+d),d>0&&(l.autoLevelCapping===-1||l.autoLevelCapping>=d)&&(d-=1,l.trigger(u.default.FPS_DROP_LEVEL_CAPPING,{level:d,droppedLevel:l.currentLevel}),l.autoLevelCapping=d,l.streamController.nextLevelSwitch())}}this.lastTime=i,this.lastDroppedFrames=r,this.lastDecodedFrames=t}}},{key:"checkFPSInterval",value:function(){var e=this.video;if(e)if(this.isVideoPlaybackQualityAvailable){var t=e.getVideoPlaybackQuality();this.checkFPS(e,t.totalVideoFrames,t.droppedVideoFrames)}else this.checkFPS(e,e.webkitDecodedFrameCount,e.webkitDroppedFrameCount)}}]),t}(f.default);r.default=h},{32:32,33:33,50:50}],12:[function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}(),l=e(33),u=i(l),d=e(32),f=i(d),c=e(50),h=e(31),g=e(35),v=i(g),p=function(e){function t(e){a(this,t);var r=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,u.default.MANIFEST_LOADED,u.default.LEVEL_LOADED,u.default.FRAG_LOADED,u.default.ERROR));return r.ontick=r.tick.bind(r),r._manualLevel=-1,r}return s(t,e),o(t,[{key:"destroy",value:function(){this.timer&&(clearTimeout(this.timer),this.timer=null),this._manualLevel=-1}},{key:"startLoad",value:function(){this.canload=!0;var e=this._levels;e&&e.forEach(function(e){e.loadError=0;var t=e.details;t&&t.live&&(e.details=void 0)}),this.timer&&this.tick()}},{key:"stopLoad",value:function(){this.canload=!1}},{key:"onManifestLoaded",value:function(e){var t,r=[],i=[],a={},n=!1,s=!1,o=this.hls,l=/chrome|firefox/.test(navigator.userAgent.toLowerCase()),d=function(e,t){return MediaSource.isTypeSupported(e+"/mp4;codecs="+t)};if(e.levels.forEach(function(e){e.videoCodec&&(n=!0),l&&e.audioCodec&&e.audioCodec.indexOf("mp4a.40.34")!==-1&&(e.audioCodec=void 0),(e.audioCodec||e.attrs&&e.attrs.AUDIO)&&(s=!0);var t=a[e.bitrate];void 0===t?(a[e.bitrate]=r.length,e.url=[e.url],e.urlId=0,r.push(e)):r[t].url.push(e.url)}),n&&s?r.forEach(function(e){e.videoCodec&&i.push(e)}):i=r,i=i.filter(function(e){var t=e.audioCodec,r=e.videoCodec;return(!t||d("audio",t))&&(!r||d("video",r))}),i.length){t=i[0].bitrate,i.sort(function(e,t){return e.bitrate-t.bitrate}),this._levels=i;for(var f=0;f<i.length;f++)if(i[f].bitrate===t){this._firstLevel=f,c.logger.log("manifest loaded,"+i.length+" level(s) found, first bitrate:"+t);break}o.trigger(u.default.MANIFEST_PARSED,{levels:i,firstLevel:this._firstLevel,stats:e.stats,audio:s,video:n,altAudio:e.audioTracks.length>0})}else o.trigger(u.default.ERROR,{type:h.ErrorTypes.MEDIA_ERROR,details:h.ErrorDetails.MANIFEST_INCOMPATIBLE_CODECS_ERROR,fatal:!0,url:o.url,reason:"no level with compatible codecs found in manifest"})}},{key:"setLevelInternal",value:function(e){var t=this._levels,r=this.hls;if(e>=0&&e<t.length){if(this.timer&&(clearTimeout(this.timer),this.timer=null),this._level!==e){c.logger.log("switching to level "+e),this._level=e;var i=t[e];i.level=e,r.trigger(u.default.LEVEL_SWITCH,i),r.trigger(u.default.LEVEL_SWITCHING,i)}var a=t[e],n=a.details;if(!n||n.live===!0){var s=a.urlId;r.trigger(u.default.LEVEL_LOADING,{url:a.url[s],level:e,id:s})}}else r.trigger(u.default.ERROR,{type:h.ErrorTypes.OTHER_ERROR,details:h.ErrorDetails.LEVEL_SWITCH_ERROR,level:e,fatal:!1,reason:"invalid level idx"})}},{key:"onError",value:function(e){if(!e.fatal){var t=e.details,r=this.hls,i=void 0,a=void 0,n=!1;switch(t){case h.ErrorDetails.FRAG_LOAD_ERROR:case h.ErrorDetails.FRAG_LOAD_TIMEOUT:case h.ErrorDetails.FRAG_LOOP_LOADING_ERROR:case h.ErrorDetails.KEY_LOAD_ERROR:case h.ErrorDetails.KEY_LOAD_TIMEOUT:i=e.frag.level;break;case h.ErrorDetails.LEVEL_LOAD_ERROR:case h.ErrorDetails.LEVEL_LOAD_TIMEOUT:i=e.context.level,n=!0;break;case h.ErrorDetails.REMUX_ALLOC_ERROR:i=e.level}if(void 0!==i){a=this._levels[i],a.loadError?a.loadError++:a.loadError=1;var s=a.url.length;if(s>1&&a.loadError<s)a.urlId=(a.urlId+1)%s,a.details=void 0,c.logger.warn("level controller,"+t+" for level "+i+": switching to redundant stream id "+a.urlId);else{if(this._manualLevel===-1&&i)c.logger.warn("level controller,"+t+": switch-down for next fragment"),r.nextAutoLevel=Math.max(0,i-1);else if(a&&a.details&&a.details.live)c.logger.warn("level controller,"+t+" on live stream, discard"),n&&(this._level=void 0);else if(t===h.ErrorDetails.LEVEL_LOAD_ERROR||t===h.ErrorDetails.LEVEL_LOAD_TIMEOUT){var o=r.media,l=o&&v.default.isBuffered(o,o.currentTime)&&v.default.isBuffered(o,o.currentTime+.5);if(l){var u=r.config.levelLoadingRetryDelay;c.logger.warn("level controller,"+t+", but media buffered, retry in "+u+"ms"),this.timer=setTimeout(this.ontick,u)}else c.logger.error("cannot recover "+t+" error"),this._level=void 0,this.timer&&(clearTimeout(this.timer),this.timer=null),e.fatal=!0}}}}}},{key:"onFragLoaded",value:function(e){var t=e.frag;if(t&&"main"===t.type){var r=this._levels[t.level];r&&(r.loadError=0)}}},{key:"onLevelLoaded",value:function(e){var t=e.level;if(t===this._level){var r=this._levels[t];r.loadError=0;var i=e.details;if(i.live){var a=1e3*(i.averagetargetduration?i.averagetargetduration:i.targetduration),n=r.details;n&&i.endSN===n.endSN&&(a/=2,c.logger.log("same live playlist, reload twice faster")),a-=performance.now()-e.stats.trequest,a=Math.max(1e3,Math.round(a)),c.logger.log("live playlist, reload in "+a+" ms"),this.timer=setTimeout(this.ontick,a)}else this.timer=null}}},{key:"tick",value:function(){var e=this._level;if(void 0!==e&&this.canload){var t=this._levels[e],r=t.urlId;this.hls.trigger(u.default.LEVEL_LOADING,{url:t.url[r],level:e,id:r})}}},{key:"levels",get:function(){return this._levels}},{key:"level",get:function(){return this._level},set:function(e){var t=this._levels;t&&t.length>e&&(this._level===e&&void 0!==t[e].details||this.setLevelInternal(e))}},{key:"manualLevel",get:function(){return this._manualLevel},set:function(e){this._manualLevel=e,void 0===this._startLevel&&(this._startLevel=e),e!==-1&&(this.level=e)}},{key:"firstLevel",get:function(){return this._firstLevel},set:function(e){this._firstLevel=e}},{key:"startLevel",get:function(){if(void 0===this._startLevel){var e=this.hls.config.startLevel;return void 0!==e?e:this._firstLevel}return this._startLevel},set:function(e){this._startLevel=e}},{key:"nextLoadLevel",get:function(){return this._manualLevel!==-1?this._manualLevel:this.hls.nextAutoLevel},set:function(e){this.level=e,this._manualLevel===-1&&(this.hls.nextAutoLevel=e)}}]),t}(f.default);r.default=p},{31:31,32:32,33:33,35:35,50:50}],13:[function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}(),l=e(46),u=i(l),d=e(35),f=i(d),c=e(25),h=i(c),g=e(33),v=i(g),p=e(32),y=i(p),m=e(36),E=i(m),b=e(51),T=i(b),_=e(31),k=e(50),R={STOPPED:"STOPPED",IDLE:"IDLE",KEY_LOADING:"KEY_LOADING",FRAG_LOADING:"FRAG_LOADING",FRAG_LOADING_WAITING_RETRY:"FRAG_LOADING_WAITING_RETRY",WAITING_LEVEL:"WAITING_LEVEL",PARSING:"PARSING",PARSED:"PARSED",BUFFER_FLUSHING:"BUFFER_FLUSHING",ENDED:"ENDED",ERROR:"ERROR"},A=function(e){function t(e){a(this,t);var r=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,v.default.MEDIA_ATTACHED,v.default.MEDIA_DETACHING,v.default.MANIFEST_LOADING,v.default.MANIFEST_PARSED,v.default.LEVEL_LOADED,v.default.KEY_LOADED,v.default.FRAG_LOADED,v.default.FRAG_LOAD_EMERGENCY_ABORTED,v.default.FRAG_PARSING_INIT_SEGMENT,v.default.FRAG_PARSING_DATA,v.default.FRAG_PARSED,v.default.ERROR,v.default.AUDIO_TRACK_SWITCHING,v.default.AUDIO_TRACK_SWITCHED,v.default.BUFFER_CREATED,v.default.BUFFER_APPENDED,v.default.BUFFER_FLUSHED));return r.config=e.config,r.audioCodecSwap=!1,r.ticks=0,r._state=R.STOPPED,r.ontick=r.tick.bind(r),r}return s(t,e),o(t,[{key:"destroy",value:function(){this.stopLoad(),this.timer&&(clearInterval(this.timer),this.timer=null),y.default.prototype.destroy.call(this),this.state=R.STOPPED}},{key:"startLoad",value:function(e){if(this.levels){var t=this.lastCurrentTime,r=this.hls;if(this.stopLoad(),this.timer||(this.timer=setInterval(this.ontick,100)),this.level=-1,this.fragLoadError=0,!this.startFragRequested){var i=r.startLevel;i===-1&&(i=0,this.bitrateTest=!0),this.level=r.nextLoadLevel=i,this.loadedmetadata=!1}t>0&&e===-1&&(k.logger.log("override startPosition with lastCurrentTime @"+t.toFixed(3)),e=t),this.state=R.IDLE,this.nextLoadPosition=this.startPosition=this.lastCurrentTime=e,this.tick()}else k.logger.warn("cannot start loading as manifest not parsed yet"),this.state=R.STOPPED}},{key:"stopLoad",value:function(){var e=this.fragCurrent;e&&(e.loader&&e.loader.abort(),this.fragCurrent=null),this.fragPrevious=null,this.demuxer&&(this.demuxer.destroy(),this.demuxer=null),this.state=R.STOPPED}},{key:"tick",value:function(){this.ticks++,1===this.ticks&&(this.doTick(),this.ticks>1&&setTimeout(this.tick,1),this.ticks=0)}},{key:"doTick",value:function(){switch(this.state){case R.ERROR:break;case R.BUFFER_FLUSHING:this.fragLoadError=0;break;case R.IDLE:if(!this._doTickIdle())return;break;case R.WAITING_LEVEL:var e=this.levels[this.level];e&&e.details&&(this.state=R.IDLE);break;case R.FRAG_LOADING_WAITING_RETRY:var t=performance.now(),r=this.retryDate;(!r||t>=r||this.media&&this.media.seeking)&&(k.logger.log("mediaController: retryDate reached, switch back to IDLE state"),this.state=R.IDLE);break;case R.ERROR:case R.STOPPED:case R.FRAG_LOADING:case R.PARSING:case R.PARSED:case R.ENDED:}this._checkBuffer(),this._checkFragmentChanged()}},{key:"_doTickIdle",value:function(){var e=this.hls,t=e.config,r=this.media;if(void 0!==this.levelLastLoaded&&!r&&(this.startFragRequested||!t.startFragPrefetch))return!0;var i=void 0;i=this.loadedmetadata?r.currentTime:this.nextLoadPosition;var a=e.nextLoadLevel,n=this.levels[a],s=n.bitrate,o=void 0;o=s?Math.max(8*t.maxBufferSize/s,t.maxBufferLength):t.maxBufferLength,o=Math.min(o,t.maxMaxBufferLength);var l=f.default.bufferInfo(this.mediaBuffer?this.mediaBuffer:r,i,t.maxBufferHole),u=l.len;if(u>=o)return!0;k.logger.trace("buffer length of "+u.toFixed(3)+" is below max of "+o.toFixed(3)+". checking for more payload ..."),this.level=e.nextLoadLevel=a;var d=n.details;if(void 0===d||d.live&&this.levelLastLoaded!==a)return this.state=R.WAITING_LEVEL,!0;var c=this.fragPrevious;if(!d.live&&c&&c.sn===d.endSN&&r.duration-Math.max(l.end,c.start)<=Math.max(.2,c.duration/2)){var h={};return this.altAudio&&(h.type="video"),this.hls.trigger(v.default.BUFFER_EOS,h),this.state=R.ENDED,!0}return this._fetchPayloadOrEos(i,l,d)}},{key:"_fetchPayloadOrEos",value:function(e,t,r){var i=this.fragPrevious,a=this.level,n=r.fragments,s=n.length;if(0===s)return!1;var o=n[0].start,l=n[s-1].start+n[s-1].duration,u=t.end,d=void 0;if(r.initSegment&&!r.initSegment.data)d=r.initSegment;else if(r.live){var f=this.config.initialLiveManifestSize;if(s<f)return k.logger.warn("Can not start playback of a level, reason: not enough fragments "+s+" < "+f),!1;if(d=this._ensureFragmentAtLivePoint(r,u,o,l,i,n,s),null===d)return!1}else u<o&&(d=n[0]);return d||(d=this._findFragment(o,i,s,n,u,l,r)),!d||this._loadFragmentOrKey(d,a,r,e,u)}},{key:"_ensureFragmentAtLivePoint",value:function(e,t,r,i,a,n,s){var o=this.hls.config,l=this.media,u=void 0,d=void 0!==o.liveMaxLatencyDuration?o.liveMaxLatencyDuration:o.liveMaxLatencyDurationCount*e.targetduration;if(t<Math.max(r-o.maxFragLookUpTolerance,i-d)){var f=this.liveSyncPosition=this.computeLivePosition(r,e);k.logger.log("buffer end: "+t.toFixed(3)+" is located too far from the end of live sliding playlist, reset currentTime to : "+f.toFixed(3)),t=f,l&&l.readyState&&l.duration>f&&(l.currentTime=f)}if(e.PTSKnown&&t>i&&l&&l.readyState)return null;if(this.startFragRequested&&!e.PTSKnown){if(a){var c=a.sn+1;c>=e.startSN&&c<=e.endSN&&(u=n[c-e.startSN],k.logger.log("live playlist, switching playlist, load frag with next SN: "+u.sn))}u||(u=n[Math.min(s-1,Math.round(s/2))],k.logger.log("live playlist, switching playlist, unknown, load middle frag : "+u.sn))}return u}},{key:"_findFragment",value:function(e,t,r,i,a,n,s){var o=this.hls.config,l=void 0,d=void 0,f=o.maxFragLookUpTolerance,c=t?i[t.sn-i[0].sn+1]:void 0,h=function(e){var t=Math.min(f,e.duration)
;return e.start+e.duration-t<=a?1:e.start-t>a&&e.start?-1:0};if(a<n?(a>n-f&&(f=0),d=c&&!h(c)?c:u.default.search(i,h)):d=i[r-1],d){l=d;var g=l.sn-s.startSN,v=t&&l.level===t.level,p=i[g-1],y=i[g+1];if(v&&l.sn===t.sn)if(l.sn<s.endSN){var m=t.deltaPTS;m&&m>o.maxBufferHole&&t.dropped&&g?(l=p,k.logger.warn("SN just loaded, with large PTS gap between audio and video, maybe frag is not starting with a keyframe ? load previous one to try to overcome this"),t.loadCounter--):(l=y,k.logger.log("SN just loaded, load next one: "+l.sn))}else l=null;else l.dropped&&!v&&(y&&y.backtracked?(k.logger.warn("Already backtracked from fragment "+(g+1)+", will not backtrack to fragment "+g+". Loading fragment "+(g+1)),l=y):(k.logger.warn("Loaded fragment with dropped frames, backtracking 1 segment to find a keyframe"),l.dropped=0,p&&p.loadCounter?(p.loadCounter--,l=p):l=null))}return l}},{key:"_loadFragmentOrKey",value:function(e,t,r,i,a){var n=this.hls,s=n.config;if(!e.decryptdata||null==e.decryptdata.uri||null!=e.decryptdata.key){if(k.logger.log("Loading "+e.sn+" of ["+r.startSN+" ,"+r.endSN+"],level "+t+", currentTime:"+i.toFixed(3)+",bufferEnd:"+a.toFixed(3)),void 0!==this.fragLoadIdx?this.fragLoadIdx++:this.fragLoadIdx=0,e.loadCounter){e.loadCounter++;var o=s.fragLoadingLoopThreshold;if(e.loadCounter>o&&Math.abs(this.fragLoadIdx-e.loadIdx)<o)return n.trigger(v.default.ERROR,{type:_.ErrorTypes.MEDIA_ERROR,details:_.ErrorDetails.FRAG_LOOP_LOADING_ERROR,fatal:!1,frag:e}),!1}else e.loadCounter=1;return e.loadIdx=this.fragLoadIdx,this.fragCurrent=e,this.startFragRequested=!0,isNaN(e.sn)||(this.nextLoadPosition=e.start+e.duration),e.autoLevel=n.autoLevelEnabled,e.bitrateTest=this.bitrateTest,n.trigger(v.default.FRAG_LOADING,{frag:e}),this.demuxer||(this.demuxer=new h.default(n,"main")),this.state=R.FRAG_LOADING,!0}k.logger.log("Loading key for "+e.sn+" of ["+r.startSN+" ,"+r.endSN+"],level "+t),this.state=R.KEY_LOADING,n.trigger(v.default.KEY_LOADING,{frag:e})}},{key:"getBufferedFrag",value:function(e){return u.default.search(this._bufferedFrags,function(t){return e<t.startPTS?-1:e>t.endPTS?1:0})}},{key:"followingBufferedFrag",value:function(e){return e?this.getBufferedFrag(e.endPTS+.5):null}},{key:"_checkFragmentChanged",value:function(){var e,t,r=this.media;if(r&&r.readyState&&r.seeking===!1&&(t=r.currentTime,t>r.playbackRate*this.lastCurrentTime&&(this.lastCurrentTime=t),f.default.isBuffered(r,t)?e=this.getBufferedFrag(t):f.default.isBuffered(r,t+.1)&&(e=this.getBufferedFrag(t+.1)),e)){var i=e;if(i!==this.fragPlaying){this.hls.trigger(v.default.FRAG_CHANGED,{frag:i});var a=i.level;this.fragPlaying&&this.fragPlaying.level===a||this.hls.trigger(v.default.LEVEL_SWITCHED,{level:a}),this.fragPlaying=i}}}},{key:"immediateLevelSwitch",value:function(){if(k.logger.log("immediateLevelSwitch"),!this.immediateSwitch){this.immediateSwitch=!0;var e=this.media,t=void 0;e?(t=e.paused,e.pause()):t=!0,this.previouslyPaused=t}var r=this.fragCurrent;r&&r.loader&&r.loader.abort(),this.fragCurrent=null,this.fragLoadIdx+=2*this.config.fragLoadingLoopThreshold,this.flushMainBuffer(0,Number.POSITIVE_INFINITY)}},{key:"immediateLevelSwitchEnd",value:function(){var e=this.media;e&&e.buffered.length&&(this.immediateSwitch=!1,f.default.isBuffered(e,e.currentTime)&&(e.currentTime-=1e-4),this.previouslyPaused||e.play())}},{key:"nextLevelSwitch",value:function(){var e=this.media;if(e&&e.readyState){var t=void 0,r=void 0,i=void 0;if(this.fragLoadIdx+=2*this.config.fragLoadingLoopThreshold,r=this.getBufferedFrag(e.currentTime),r&&r.startPTS>1&&this.flushMainBuffer(0,r.startPTS-1),e.paused)t=0;else{var a=this.hls.nextLoadLevel,n=this.levels[a],s=this.fragLastKbps;t=s&&this.fragCurrent?this.fragCurrent.duration*n.bitrate/(1e3*s)+1:0}if(i=this.getBufferedFrag(e.currentTime+t),i&&(i=this.followingBufferedFrag(i))){var o=this.fragCurrent;o&&o.loader&&o.loader.abort(),this.fragCurrent=null,this.flushMainBuffer(i.startPTS,Number.POSITIVE_INFINITY)}}}},{key:"flushMainBuffer",value:function(e,t){this.state=R.BUFFER_FLUSHING;var r={startOffset:e,endOffset:t};this.altAudio&&(r.type="video"),this.hls.trigger(v.default.BUFFER_FLUSHING,r)}},{key:"onMediaAttached",value:function(e){var t=this.media=this.mediaBuffer=e.media;this.onvseeking=this.onMediaSeeking.bind(this),this.onvseeked=this.onMediaSeeked.bind(this),this.onvended=this.onMediaEnded.bind(this),t.addEventListener("seeking",this.onvseeking),t.addEventListener("seeked",this.onvseeked),t.addEventListener("ended",this.onvended);var r=this.config;this.levels&&r.autoStartLoad&&this.hls.startLoad(r.startPosition)}},{key:"onMediaDetaching",value:function(){var e=this.media;e&&e.ended&&(k.logger.log("MSE detaching and video ended, reset startPosition"),this.startPosition=this.lastCurrentTime=0);var t=this.levels;t&&t.forEach(function(e){e.details&&e.details.fragments.forEach(function(e){e.loadCounter=void 0,e.backtracked=void 0})}),e&&(e.removeEventListener("seeking",this.onvseeking),e.removeEventListener("seeked",this.onvseeked),e.removeEventListener("ended",this.onvended),this.onvseeking=this.onvseeked=this.onvended=null),this.media=this.mediaBuffer=null,this.loadedmetadata=!1,this.stopLoad()}},{key:"onMediaSeeking",value:function(){var e=this.media,t=e?e.currentTime:void 0,r=this.config;if(k.logger.log("media seeking to "+t.toFixed(3)),this.state===R.FRAG_LOADING){var i=this.mediaBuffer?this.mediaBuffer:e,a=f.default.bufferInfo(i,t,this.config.maxBufferHole),n=this.fragCurrent;if(0===a.len&&n){var s=r.maxFragLookUpTolerance,o=n.start-s,l=n.start+n.duration+s;t<o||t>l?(n.loader&&(k.logger.log("seeking outside of buffer while fragment load in progress, cancel fragment load"),n.loader.abort()),this.fragCurrent=null,this.fragPrevious=null,this.state=R.IDLE):k.logger.log("seeking outside of buffer but within currently loaded fragment range")}}else this.state===R.ENDED&&(this.state=R.IDLE);e&&(this.lastCurrentTime=t),this.state!==R.FRAG_LOADING&&void 0!==this.fragLoadIdx&&(this.fragLoadIdx+=2*r.fragLoadingLoopThreshold),this.loadedmetadata||(this.nextLoadPosition=this.startPosition=t),this.tick()}},{key:"onMediaSeeked",value:function(){k.logger.log("media seeked to "+this.media.currentTime.toFixed(3)),this.tick()}},{key:"onMediaEnded",value:function(){k.logger.log("media ended"),this.startPosition=this.lastCurrentTime=0}},{key:"onManifestLoading",value:function(){k.logger.log("trigger BUFFER_RESET"),this.hls.trigger(v.default.BUFFER_RESET),this._bufferedFrags=[],this.stalled=!1,this.startPosition=this.lastCurrentTime=0}},{key:"onManifestParsed",value:function(e){var t,r=!1,i=!1;e.levels.forEach(function(e){t=e.audioCodec,t&&(t.indexOf("mp4a.40.2")!==-1&&(r=!0),t.indexOf("mp4a.40.5")!==-1&&(i=!0))}),this.audioCodecSwitch=r&&i,this.audioCodecSwitch&&k.logger.log("both AAC/HE-AAC audio found in levels; declaring level codec as HE-AAC"),this.levels=e.levels,this.startLevelLoaded=!1,this.startFragRequested=!1;var a=this.config;a.autoStartLoad&&this.hls.startLoad(a.startPosition)}},{key:"onLevelLoaded",value:function(e){var t=e.details,r=e.level,i=this.levels[r],a=t.totalduration,n=0;if(k.logger.log("level "+r+" loaded ["+t.startSN+","+t.endSN+"],duration:"+a),this.levelLastLoaded=r,t.live){var s=i.details;s&&t.fragments.length>0?(E.default.mergeDetails(s,t),n=t.fragments[0].start,this.liveSyncPosition=this.computeLivePosition(n,s),t.PTSKnown?k.logger.log("live playlist sliding:"+n.toFixed(3)):k.logger.log("live playlist - outdated PTS, unknown sliding")):(t.PTSKnown=!1,k.logger.log("live playlist - first load, unknown sliding"))}else t.PTSKnown=!1;if(i.details=t,this.hls.trigger(v.default.LEVEL_UPDATED,{details:t,level:r}),this.startFragRequested===!1){if(this.startPosition===-1||this.lastCurrentTime===-1){var o=t.startTimeOffset;isNaN(o)?t.live?(this.startPosition=this.computeLivePosition(n,t),k.logger.log("configure startPosition to "+this.startPosition)):this.startPosition=0:(o<0&&(k.logger.log("negative start time offset "+o+", count from end of last fragment"),o=n+a+o),k.logger.log("start time offset found in playlist, adjust startPosition to "+o),this.startPosition=o),this.lastCurrentTime=this.startPosition}this.nextLoadPosition=this.startPosition}this.state===R.WAITING_LEVEL&&(this.state=R.IDLE),this.tick()}},{key:"onKeyLoaded",value:function(){this.state===R.KEY_LOADING&&(this.state=R.IDLE,this.tick())}},{key:"onFragLoaded",value:function(e){var t=this.fragCurrent,r=e.frag;if(this.state===R.FRAG_LOADING&&t&&"main"===r.type&&r.level===t.level&&r.sn===t.sn){var i=e.stats,a=this.levels[t.level],n=a.details;if(k.logger.log("Loaded  "+t.sn+" of ["+n.startSN+" ,"+n.endSN+"],level "+t.level),this.bitrateTest=!1,this.stats=i,r.bitrateTest===!0&&this.hls.nextLoadLevel)this.state=R.IDLE,this.startFragRequested=!1,i.tparsed=i.tbuffered=performance.now(),this.hls.trigger(v.default.FRAG_BUFFERED,{stats:i,frag:t,id:"main"}),this.tick();else if("initSegment"===r.sn)this.state=R.IDLE,i.tparsed=i.tbuffered=performance.now(),n.initSegment.data=e.payload,this.hls.trigger(v.default.FRAG_BUFFERED,{stats:i,frag:t,id:"main"}),this.tick();else{this.state=R.PARSING;var s=n.totalduration,o=t.level,l=t.sn,u=this.config.defaultAudioCodec||a.audioCodec;this.audioCodecSwap&&(k.logger.log("swapping playlist audio codec"),void 0===u&&(u=this.lastAudioCodec),u&&(u=u.indexOf("mp4a.40.5")!==-1?"mp4a.40.2":"mp4a.40.5")),this.pendingBuffering=!0,this.appended=!1,k.logger.log("Parsing "+l+" of ["+n.startSN+" ,"+n.endSN+"],level "+o+", cc "+t.cc);var d=this.demuxer;d||(d=this.demuxer=new h.default(this.hls,"main"));var f=this.media,c=f&&f.seeking,g=!c&&(n.PTSKnown||!n.live),p=n.initSegment?n.initSegment.data:[];d.push(e.payload,p,u,a.videoCodec,t,s,g,void 0)}}this.fragLoadError=0}},{key:"onFragParsingInitSegment",value:function(e){var t=this.fragCurrent,r=e.frag;if(t&&"main"===e.id&&r.sn===t.sn&&r.level===t.level&&this.state===R.PARSING){var i,a,n=e.tracks;if(n.audio&&this.altAudio&&delete n.audio,a=n.audio){var s=this.levels[this.level].audioCodec,o=navigator.userAgent.toLowerCase();s&&this.audioCodecSwap&&(k.logger.log("swapping playlist audio codec"),s=s.indexOf("mp4a.40.5")!==-1?"mp4a.40.2":"mp4a.40.5"),this.audioCodecSwitch&&1!==a.metadata.channelCount&&o.indexOf("firefox")===-1&&(s="mp4a.40.5"),o.indexOf("android")!==-1&&"audio/mpeg"!==a.container&&(s="mp4a.40.2",k.logger.log("Android: force audio codec to "+s)),a.levelCodec=s,a.id=e.id}a=n.video,a&&(a.levelCodec=this.levels[this.level].videoCodec,a.id=e.id),this.hls.trigger(v.default.BUFFER_CODECS,n);for(i in n){a=n[i],k.logger.log("main track:"+i+",container:"+a.container+",codecs[level/parsed]=["+a.levelCodec+"/"+a.codec+"]");var l=a.initSegment;l&&(this.appended=!0,this.pendingBuffering=!0,this.hls.trigger(v.default.BUFFER_APPENDING,{type:i,data:l,parent:"main",content:"initSegment"}))}this.tick()}}},{key:"onFragParsingData",value:function(e){var t=this,r=this.fragCurrent,i=e.frag;if(r&&"main"===e.id&&i.sn===r.sn&&i.level===r.level&&("audio"!==e.type||!this.altAudio)&&this.state===R.PARSING){var a=this.levels[this.level],n=r;if(isNaN(e.endPTS)&&(e.endPTS=e.startPTS+r.duration,e.endDTS=e.startDTS+r.duration),k.logger.log("Parsed "+e.type+",PTS:["+e.startPTS.toFixed(3)+","+e.endPTS.toFixed(3)+"],DTS:["+e.startDTS.toFixed(3)+"/"+e.endDTS.toFixed(3)+"],nb:"+e.nb+",dropped:"+(e.dropped||0)),"video"===e.type)if(n.dropped=e.dropped,n.dropped){if(!n.backtracked)return n.backtracked=!0,this.nextLoadPosition=e.startPTS,this.state=R.IDLE,void this.tick();k.logger.warn("Already backtracked on this fragment, appending with the gap")}else n.backtracked=!1;var s=E.default.updateFragPTSDTS(a.details,n.sn,e.startPTS,e.endPTS,e.startDTS,e.endDTS),o=this.hls;o.trigger(v.default.LEVEL_PTS_UPDATED,{details:a.details,level:this.level,drift:s,type:e.type,start:e.startPTS,end:e.endPTS}),[e.data1,e.data2].forEach(function(r){r&&r.length&&t.state===R.PARSING&&(t.appended=!0,t.pendingBuffering=!0,o.trigger(v.default.BUFFER_APPENDING,{type:e.type,data:r,parent:"main",content:"data"}))}),this.tick()}}},{key:"onFragParsed",value:function(e){var t=this.fragCurrent,r=e.frag;t&&"main"===e.id&&r.sn===t.sn&&r.level===t.level&&this.state===R.PARSING&&(this.stats.tparsed=performance.now(),this.state=R.PARSED,this._checkAppendedParsed())}},{key:"onAudioTrackSwitching",value:function(e){var t=!!e.url,r=e.id;if(!t){if(this.mediaBuffer!==this.media){k.logger.log("switching on main audio, use media.buffered to schedule main fragment loading"),this.mediaBuffer=this.media;var i=this.fragCurrent;i.loader&&(k.logger.log("switching to main audio track, cancel main fragment load"),i.loader.abort()),this.fragCurrent=null,this.fragPrevious=null,this.demuxer&&(this.demuxer.destroy(),this.demuxer=null),this.state=R.IDLE}var a=this.hls;a.trigger(v.default.BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY,type:"audio"}),a.trigger(v.default.AUDIO_TRACK_SWITCHED,{id:r}),this.altAudio=!1}}},{key:"onAudioTrackSwitched",value:function(e){var t=e.id,r=!!this.hls.audioTracks[t].url;if(r){var i=this.videoBuffer;i&&this.mediaBuffer!==i&&(k.logger.log("switching on alternate audio, use video.buffered to schedule main fragment loading"),this.mediaBuffer=i)}this.altAudio=r,this.tick()}},{key:"onBufferCreated",value:function(e){var t=e.tracks,r=void 0,i=void 0,a=!1;for(var n in t){var s=t[n];"main"===s.id?(i=n,r=s,"video"===n&&(this.videoBuffer=t[n].buffer)):a=!0}a&&r?(k.logger.log("alternate track found, use "+i+".buffered to schedule main fragment loading"),this.mediaBuffer=r.buffer):this.mediaBuffer=this.media}},{key:"onBufferAppended",value:function(e){if("main"===e.parent){var t=this.state;t!==R.PARSING&&t!==R.PARSED||(this.pendingBuffering=e.pending>0,this._checkAppendedParsed())}}},{key:"_checkAppendedParsed",value:function(){var e=this;if(!(this.state!==R.PARSED||this.appended&&this.pendingBuffering)){var t=this.fragCurrent;t&&function(){var r=e.mediaBuffer?e.mediaBuffer:e.media;k.logger.log("main buffered : "+T.default.toString(r.buffered));var i=e._bufferedFrags.filter(function(e){return f.default.isBuffered(r,(e.startPTS+e.endPTS)/2)});i.push(t),e._bufferedFrags=i.sort(function(e,t){return e.startPTS-t.startPTS}),e.fragPrevious=t;var a=e.stats;a.tbuffered=performance.now(),e.fragLastKbps=Math.round(8*a.total/(a.tbuffered-a.tfirst)),e.hls.trigger(v.default.FRAG_BUFFERED,{stats:a,frag:t,id:"main"}),e.state=R.IDLE}(),this.tick()}}},{key:"onError",value:function(e){var t=e.frag||this.fragCurrent;if(!t||"main"===t.type){var r=this.media,i=r&&f.default.isBuffered(r,r.currentTime)&&f.default.isBuffered(r,r.currentTime+.5);switch(e.details){case _.ErrorDetails.FRAG_LOAD_ERROR:case _.ErrorDetails.FRAG_LOAD_TIMEOUT:case _.ErrorDetails.KEY_LOAD_ERROR:case _.ErrorDetails.KEY_LOAD_TIMEOUT:if(!e.fatal){var a=this.fragLoadError;a?a++:a=1;var n=this.config;if(a<=n.fragLoadingMaxRetry||i||t.autoLevel&&t.level){this.fragLoadError=a,t.loadCounter=0;var s=Math.min(Math.pow(2,a-1)*n.fragLoadingRetryDelay,n.fragLoadingMaxRetryTimeout);k.logger.warn("mediaController: frag loading failed, retry in "+s+" ms"),this.retryDate=performance.now()+s,this.loadedmetadata||(this.startFragRequested=!1,this.nextLoadPosition=this.startPosition),this.state=R.FRAG_LOADING_WAITING_RETRY}else k.logger.error("mediaController: "+e.details+" reaches max retry, redispatch as fatal ..."),e.fatal=!0,this.state=R.ERROR}break;case _.ErrorDetails.FRAG_LOOP_LOADING_ERROR:e.fatal||(i?(this._reduceMaxBufferLength(t.duration),this.state=R.IDLE):t.autoLevel&&0!==t.level||(e.fatal=!0,this.state=R.ERROR));break;case _.ErrorDetails.LEVEL_LOAD_ERROR:case _.ErrorDetails.LEVEL_LOAD_TIMEOUT:this.state!==R.ERROR&&(e.fatal?(this.state=R.ERROR,k.logger.warn("streamController: "+e.details+",switch to "+this.state+" state ...")):this.state===R.WAITING_LEVEL&&(this.state=R.IDLE));break;case _.ErrorDetails.BUFFER_FULL_ERROR:"main"!==e.parent||this.state!==R.PARSING&&this.state!==R.PARSED||(i?(this._reduceMaxBufferLength(this.config.maxBufferLength),this.state=R.IDLE):(k.logger.warn("buffer full error also media.currentTime is not buffered, flush everything"),this.fragCurrent=null,this.flushMainBuffer(0,Number.POSITIVE_INFINITY)))}}}},{key:"_reduceMaxBufferLength",value:function(e){var t=this.config;t.maxMaxBufferLength>=e&&(t.maxMaxBufferLength/=2,k.logger.warn("main:reduce max buffer length to "+t.maxMaxBufferLength+"s"),this.fragLoadIdx+=2*t.fragLoadingLoopThreshold)}},{key:"_checkBuffer",value:function(){var e=this.media;if(e&&e.readyState){var t=e.currentTime,r=this.mediaBuffer?this.mediaBuffer:e,i=r.buffered;if(!this.loadedmetadata&&i.length){this.loadedmetadata=!0;var a=e.seeking?t:this.startPosition,n=f.default.isBuffered(r,a);t===a&&n||(k.logger.log("target start position:"+a),n||(a=i.start(0),k.logger.log("target start position not buffered, seek to buffered.start(0) "+a)),k.logger.log("adjust currentTime from "+t+" to "+a),e.currentTime=a)}else if(this.immediateSwitch)this.immediateLevelSwitchEnd();else{var s=f.default.bufferInfo(e,t,0),o=!(e.paused||e.ended||0===e.buffered.length),l=t!==this.lastCurrentTime,u=this.config;if(l)this.stallReported&&(k.logger.warn("playback not stuck anymore @"+t+", after "+Math.round(performance.now()-this.stalled)+"ms"),this.stallReported=!1),this.stalled=void 0,this.nudgeRetry=0;else if(o){var d=performance.now(),c=this.hls;if(this.stalled){var h=d-this.stalled,g=s.len,p=this.nudgeRetry||0;if(g<=.5&&h>1e3*u.lowBufferWatchdogPeriod){this.stallReported||(this.stallReported=!0,k.logger.warn("playback stalling in low buffer @"+t),c.trigger(v.default.ERROR,{type:_.ErrorTypes.MEDIA_ERROR,details:_.ErrorDetails.BUFFER_STALLED_ERROR,fatal:!1,buffer:g}));var y=s.nextStart,m=y-t;if(y&&m<u.maxSeekHole&&m>0){this.nudgeRetry=++p;var E=p*u.nudgeOffset;k.logger.log("adjust currentTime from "+e.currentTime+" to next buffered @ "+y+" + nudge "+E),e.currentTime=y+E,this.stalled=void 0,c.trigger(v.default.ERROR,{type:_.ErrorTypes.MEDIA_ERROR,details:_.ErrorDetails.BUFFER_SEEK_OVER_HOLE,fatal:!1,hole:y+E-t})}}else if(g>.5&&h>1e3*u.highBufferWatchdogPeriod)if(this.stallReported||(this.stallReported=!0,k.logger.warn("playback stalling in high buffer @"+t),c.trigger(v.default.ERROR,{type:_.ErrorTypes.MEDIA_ERROR,details:_.ErrorDetails.BUFFER_STALLED_ERROR,fatal:!1,buffer:g})),this.stalled=void 0,this.nudgeRetry=++p,p<u.nudgeMaxRetry){var b=e.currentTime,T=b+p*u.nudgeOffset;k.logger.log("adjust currentTime from "+b+" to "+T),e.currentTime=T,c.trigger(v.default.ERROR,{type:_.ErrorTypes.MEDIA_ERROR,details:_.ErrorDetails.BUFFER_NUDGE_ON_STALL,fatal:!1})}else k.logger.error("still stuck in high buffer @"+t+" after "+u.nudgeMaxRetry+", raise fatal error"),c.trigger(v.default.ERROR,{type:_.ErrorTypes.MEDIA_ERROR,details:_.ErrorDetails.BUFFER_STALLED_ERROR,fatal:!0})}else this.stalled=d,this.stallReported=!1}}}}},{key:"onFragLoadEmergencyAborted",value:function(){this.state=R.IDLE,this.loadedmetadata||(this.startFragRequested=!1,this.nextLoadPosition=this.startPosition),this.tick()}},{key:"onBufferFlushed",value:function(){var e=this.mediaBuffer?this.mediaBuffer:this.media;this._bufferedFrags=this._bufferedFrags.filter(function(t){return f.default.isBuffered(e,(t.startPTS+t.endPTS)/2)}),this.fragLoadIdx+=2*this.config.fragLoadingLoopThreshold,this.state=R.IDLE,this.fragPrevious=null}},{key:"swapAudioCodec",value:function(){this.audioCodecSwap=!this.audioCodecSwap}},{key:"computeLivePosition",value:function(e,t){var r=void 0!==this.config.liveSyncDuration?this.config.liveSyncDuration:this.config.liveSyncDurationCount*t.targetduration;return e+Math.max(0,t.totalduration-r)}},{key:"state",set:function(e){if(this.state!==e){var t=this.state;this._state=e,k.logger.log("main stream:"+t+"->"+e),this.hls.trigger(v.default.STREAM_STATE_TRANSITION,{previousState:t,nextState:e})}},get:function(){return this._state}},{key:"currentLevel",get:function(){var e=this.media;if(e){var t=this.getBufferedFrag(e.currentTime);if(t)return t.level}return-1}},{key:"nextBufferedFrag",get:function(){var e=this.media;return e?this.followingBufferedFrag(this.getBufferedFrag(e.currentTime)):null}},{key:"nextLevel",get:function(){var e=this.nextBufferedFrag;return e?e.level:-1}},{key:"liveSyncPosition",get:function(){return this._liveSyncPosition},set:function(e){this._liveSyncPosition=e}}]),t}(y.default);r.default=A},{25:25,31:31,32:32,33:33,35:35,36:36,46:46,50:50,51:51}],14:[function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}(),l=e(33),u=i(l),d=e(32),f=i(d),c=e(50),h=function(e){function t(e){a(this,t);var r=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,u.default.ERROR,u.default.SUBTITLE_TRACKS_UPDATED,u.default.SUBTITLE_TRACK_SWITCH,u.default.SUBTITLE_TRACK_LOADED,u.default.SUBTITLE_FRAG_PROCESSED));return r.config=e.config,r.vttFragSNsProcessed={},r.vttFragQueues=void 0,r.currentlyProcessing=null,r.currentTrackId=-1,r}return s(t,e),o(t,[{key:"destroy",value:function(){f.default.prototype.destroy.call(this)}},{key:"clearVttFragQueues",value:function(){var e=this;this.vttFragQueues={},this.tracks.forEach(function(t){e.vttFragQueues[t.id]=[]})}},{key:"nextFrag",value:function(){if(null===this.currentlyProcessing&&this.currentTrackId>-1&&this.vttFragQueues[this.currentTrackId].length){var e=this.currentlyProcessing=this.vttFragQueues[this.currentTrackId].shift();this.hls.trigger(u.default.FRAG_LOADING,{frag:e})}}},{key:"onSubtitleFragProcessed",value:function(e){e.success&&this.vttFragSNsProcessed[e.frag.trackId].push(e.frag.sn),this.currentlyProcessing=null,this.nextFrag()}},{key:"onError",value:function(e){var t=e.frag;t&&"subtitle"!==t.type||this.currentlyProcessing&&(this.currentlyProcessing=null,this.nextFrag())}},{key:"onSubtitleTracksUpdated",value:function(e){var t=this;c.logger.log("subtitle tracks updated"),this.tracks=e.subtitleTracks,this.clearVttFragQueues(),this.vttFragSNsProcessed={},this.tracks.forEach(function(e){t.vttFragSNsProcessed[e.id]=[]})}},{key:"onSubtitleTrackSwitch",value:function(e){this.currentTrackId=e.id,this.clearVttFragQueues()}},{key:"onSubtitleTrackLoaded",value:function(e){var t=this.vttFragSNsProcessed[e.id],r=this.vttFragQueues[e.id],i=this.currentlyProcessing?this.currentlyProcessing.sn:-1,a=function(e){return t.indexOf(e.sn)>-1},n=function(e){return r.some(function(t){return t.sn===e.sn})};e.details.fragments.forEach(function(t){a(t)||t.sn===i||n(t)||(t.trackId=e.id,r.push(t))}),this.nextFrag()}}]),t}(f.default);r.default=h},{32:32,33:33,50:50}],15:[function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}(),l=e(33),u=i(l),d=e(32),f=i(d),c=e(50),h=function(e){function t(e){a(this,t);var r=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,u.default.MEDIA_ATTACHED,u.default.MEDIA_DETACHING,u.default.MANIFEST_LOADING,u.default.MANIFEST_LOADED,u.default.SUBTITLE_TRACK_LOADED));return r.tracks=[],r.trackId=-1,r.media=void 0,r}return s(t,e),o(t,[{key:"destroy",value:function(){f.default.prototype.destroy.call(this)}},{key:"onMediaAttached",value:function(e){var t=this;this.media=e.media,this.media&&this.media.textTracks.addEventListener("change",function(){if(t.media){for(var e=-1,r=t.media.textTracks,i=0;i<r.length;i++)"showing"===r[i].mode&&(e=i);t.subtitleTrack=e}})}},{key:"onMediaDetaching",value:function(){this.media=void 0}},{key:"onManifestLoading",value:function(){this.tracks=[],this.trackId=-1}},{key:"onManifestLoaded",value:function(e){var t=this,r=e.subtitles||[],i=!1;this.tracks=r,this.trackId=-1,this.hls.trigger(u.default.SUBTITLE_TRACKS_UPDATED,{subtitleTracks:r}),r.forEach(function(e){e.default&&(t.subtitleTrack=e.id,i=!0)})}},{key:"onTick",value:function(){var e=this.trackId,t=this.tracks[e];if(t){var r=t.details;void 0!==r&&r.live!==!0||(c.logger.log("(re)loading playlist for subtitle track "+e),this.hls.trigger(u.default.SUBTITLE_TRACK_LOADING,{url:t.url,id:e}))}}},{key:"onSubtitleTrackLoaded",value:function(e){var t=this;e.id<this.tracks.length&&(c.logger.log("subtitle track "+e.id+" loaded"),this.tracks[e.id].details=e.details,e.details.live&&!this.timer&&(this.timer=setInterval(function(){t.onTick()},1e3*e.details.targetduration,this)),!e.details.live&&this.timer&&(clearInterval(this.timer),this.timer=null))}},{key:"setSubtitleTrackInternal",value:function(e){if(e>=0&&e<this.tracks.length){this.timer&&(clearInterval(this.timer),this.timer=null),this.trackId=e,c.logger.log("switching to subtitle track "+e);var t=this.tracks[e];this.hls.trigger(u.default.SUBTITLE_TRACK_SWITCH,{id:e});var r=t.details;void 0!==r&&r.live!==!0||(c.logger.log("(re)loading playlist for subtitle track "+e),this.hls.trigger(u.default.SUBTITLE_TRACK_LOADING,{url:t.url,id:e}))}}},{key:"subtitleTracks",get:function(){return this.tracks}},{key:"subtitleTrack",get:function(){return this.trackId},set:function(e){this.trackId!==e&&this.setSubtitleTrackInternal(e)}}]),t}(f.default);r.default=h},{32:32,33:33,50:50}],16:[function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function o(e){if(e&&e.cues)for(;e.cues.length>0;)e.removeCue(e.cues[0])}function l(e,t){return e&&e.label===t.name&&!(e.textTrack1||e.textTrack2)}function u(e,t,r,i){return Math.min(t,i)-Math.max(e,r)}Object.defineProperty(r,"__esModule",{value:!0});var d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}(),c=e(33),h=i(c),g=e(32),v=i(g),p=e(47),y=i(p),m=e(54),E=i(m),b=e(50),T=function(e){function t(e){a(this,t);var r=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,h.default.MEDIA_ATTACHING,h.default.MEDIA_DETACHING,h.default.FRAG_PARSING_USERDATA,h.default.MANIFEST_LOADING,h.default.MANIFEST_LOADED,h.default.FRAG_LOADED,h.default.LEVEL_SWITCHING,h.default.INIT_PTS_FOUND));if(r.hls=e,r.config=e.config,r.enabled=!0,r.Cues=e.config.cueHandler,r.textTracks=[],r.tracks=[],r.unparsedVttFrags=[],r.initPTS=void 0,r.cueRanges=[],r.config.enableCEA708Captions){var i=r,s=function(e,t){var r=null;try{r=new window.Event("addtrack")}catch(e){r=document.createEvent("Event"),r.initEvent("addtrack",!1,!1)}r.track=e,t.dispatchEvent(r)},o={newCue:function(e,t,r){if(!i.textTrack1){var a=i.getExistingTrack("1");if(a)i.textTrack1=a,i.clearCurrentCues(i.textTrack1),s(i.textTrack1,i.media);else{var n=i.createTextTrack("captions","English","en");n&&(n.textTrack1=!0,i.textTrack1=n)}}i.addCues("textTrack1",e,t,r)}},l={newCue:function(e,t,r){if(!i.textTrack2){var a=i.getExistingTrack("2");if(a)i.textTrack2=a,s(i.textTrack2,i.media);else{var n=i.createTextTrack("captions","Spanish","es");n&&(n.textTrack2=!0,i.textTrack2=n)}}i.addCues("textTrack2",e,t,r)}};r.cea608Parser=new y.default(0,o,l)}return r}return s(t,e),f(t,[{key:"addCues",value:function(e,t,r,i){for(var a=this.cueRanges,n=!1,s=a.length;s--;){var o=a[s],l=u(o[0],o[1],t,r);if(l>=0&&(o[0]=Math.min(o[0],t),o[1]=Math.max(o[1],r),n=!0,l/(r-t)>.5))return}n||a.push([t,r]),this.Cues.newCue(this[e],t,r,i)}},{key:"onInitPtsFound",value:function(e){var t=this;void 0===this.initPTS&&(this.initPTS=e.initPTS),this.unparsedVttFrags.length&&(this.unparsedVttFrags.forEach(function(e){t.onFragLoaded(e)}),this.unparsedVttFrags=[])}},{key:"getExistingTrack",value:function(e){var t=this.media;if(t)for(var r=0;r<t.textTracks.length;r++){var i=t.textTracks[r],a="textTrack"+e;if(i[a]===!0)return i}return null}},{key:"createTextTrack",value:function(e,t,r){var i=this.media;if(i)return i.addTextTrack(e,t,r)}},{key:"destroy",value:function(){v.default.prototype.destroy.call(this)}},{key:"onMediaAttaching",value:function(e){this.media=e.media}},{key:"onMediaDetaching",value:function(){o(this.textTrack1),o(this.textTrack2)}},{key:"onManifestLoading",value:function(){this.lastSn=-1,this.prevCC=-1,this.vttCCs={ccOffset:0,presentationOffset:0}}},{key:"onManifestLoaded",value:function(e){var t=this;this.textTracks=[],this.unparsedVttFrags=this.unparsedVttFrags||[],this.initPTS=void 0,this.cueRanges=[],this.config.enableWebVTT&&function(){t.tracks=e.subtitles||[];var r=t.media?t.media.textTracks:[];t.tracks.forEach(function(e,i){var a=void 0,n=r[i];a=l(n,e)?n:t.createTextTrack("subtitles",e.name,e.lang),a.mode=e.default?"showing":"hidden",t.textTracks.push(a)})}()}},{key:"onLevelSwitching",value:function(){this.enabled="NONE"!==this.hls.currentLevel.closedCaptions}},{key:"onFragLoaded",value:function(e){var t=this,r=e.frag,i=e.payload;if("main"===r.type){var a=r.sn;a!==this.lastSn+1&&this.cea608Parser.reset(),this.lastSn=a}else if("subtitle"===r.type)if(i.byteLength){var n=function(){if(void 0===t.initPTS)return t.unparsedVttFrags.push(e),{v:void 0};var a=t.vttCCs;a[r.cc]||(a[r.cc]={start:r.start,prevCC:t.prevCC,new:!0},t.prevCC=r.cc);var n=t.textTracks,s=t.hls;E.default.parse(i,t.initPTS,a,r.cc,function(e){e.forEach(function(e){n[r.trackId].addCue(e)}),s.trigger(h.default.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:r})},function(e){b.logger.log("Failed to parse VTT cue: "+e),s.trigger(h.default.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:r})})}();if("object"===(void 0===n?"undefined":d(n)))return n.v}else this.hls.trigger(h.default.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:r})}},{key:"onFragParsingUserdata",value:function(e){if(this.enabled&&this.config.enableCEA708Captions)for(var t=0;t<e.samples.length;t++){var r=this.extractCea608Data(e.samples[t].bytes);this.cea608Parser.addData(e.samples[t].pts,r)}}},{key:"extractCea608Data",value:function(e){
for(var t,r,i,a,n,s=31&e[0],o=2,l=[],u=0;u<s;u++)t=e[o++],r=127&e[o++],i=127&e[o++],a=0!==(4&t),n=3&t,0===r&&0===i||a&&0===n&&(l.push(r),l.push(i));return l}}]),t}(v.default);r.default=T},{32:32,33:33,47:47,50:50,54:54}],17:[function(e,t,r){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}(),n=function(){function e(t,r){i(this,e),this.subtle=t,this.aesIV=r}return a(e,[{key:"decrypt",value:function(e,t){return this.subtle.decrypt({name:"AES-CBC",iv:this.aesIV},t,e)}}]),e}();r.default=n},{}],18:[function(e,t,r){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}(),n=function(){function e(){i(this,e),this.rcon=[0,1,2,4,8,16,32,64,128,27,54],this.subMix=[],this.subMix[0]=new Uint32Array(256),this.subMix[1]=new Uint32Array(256),this.subMix[2]=new Uint32Array(256),this.subMix[3]=new Uint32Array(256),this.invSubMix=[],this.invSubMix[0]=new Uint32Array(256),this.invSubMix[1]=new Uint32Array(256),this.invSubMix[2]=new Uint32Array(256),this.invSubMix[3]=new Uint32Array(256),this.sBox=new Uint32Array(256),this.invSBox=new Uint32Array(256),this.key=new Uint32Array(0),this.initTable()}return a(e,[{key:"uint8ArrayToUint32Array_",value:function(e){for(var t=new DataView(e),r=new Uint32Array(4),i=0;i<r.length;i++)r[i]=t.getUint32(4*i);return r}},{key:"initTable",value:function(){var e=this.sBox,t=this.invSBox,r=this.subMix[0],i=this.subMix[1],a=this.subMix[2],n=this.subMix[3],s=this.invSubMix[0],o=this.invSubMix[1],l=this.invSubMix[2],u=this.invSubMix[3],d=new Uint32Array(256),f=0,c=0,h=0;for(h=0;h<256;h++)d[h]=h<128?h<<1:h<<1^283;for(h=0;h<256;h++){var g=c^c<<1^c<<2^c<<3^c<<4;g=g>>>8^255&g^99,e[f]=g,t[g]=f;var v=d[f],p=d[v],y=d[p],m=257*d[g]^16843008*g;r[f]=m<<24|m>>>8,i[f]=m<<16|m>>>16,a[f]=m<<8|m>>>24,n[f]=m,m=16843009*y^65537*p^257*v^16843008*f,s[g]=m<<24|m>>>8,o[g]=m<<16|m>>>16,l[g]=m<<8|m>>>24,u[g]=m,f?(f=v^d[d[d[y^v]]],c^=d[d[c]]):f=c=1}}},{key:"expandKey",value:function(e){for(var t=this.uint8ArrayToUint32Array_(e),r=!0,i=0;i<t.length&&r;)r=t[i]===this.key[i],i++;if(!r){this.key=t;var a=this.keySize=t.length;if(4!==a&&6!==a&&8!==a)throw new Error("Invalid aes key size="+a);var n=this.ksRows=4*(a+6+1),s=void 0,o=void 0,l=this.keySchedule=new Uint32Array(this.ksRows),u=this.invKeySchedule=new Uint32Array(this.ksRows),d=this.sBox,f=this.rcon,c=this.invSubMix[0],h=this.invSubMix[1],g=this.invSubMix[2],v=this.invSubMix[3],p=void 0,y=void 0;for(s=0;s<n;s++)s<a?p=l[s]=t[s]:(y=p,s%a===0?(y=y<<8|y>>>24,y=d[y>>>24]<<24|d[y>>>16&255]<<16|d[y>>>8&255]<<8|d[255&y],y^=f[s/a|0]<<24):a>6&&s%a===4&&(y=d[y>>>24]<<24|d[y>>>16&255]<<16|d[y>>>8&255]<<8|d[255&y]),l[s]=p=(l[s-a]^y)>>>0);for(o=0;o<n;o++)s=n-o,y=3&o?l[s]:l[s-4],u[o]=o<4||s<=4?y:c[d[y>>>24]]^h[d[y>>>16&255]]^g[d[y>>>8&255]]^v[d[255&y]],u[o]=u[o]>>>0}}},{key:"networkToHostOrderSwap",value:function(e){return e<<24|(65280&e)<<8|(16711680&e)>>8|e>>>24}},{key:"decrypt",value:function(e,t,r){for(var i,a,n=this.keySize+6,s=this.invKeySchedule,o=this.invSBox,l=this.invSubMix[0],u=this.invSubMix[1],d=this.invSubMix[2],f=this.invSubMix[3],c=this.uint8ArrayToUint32Array_(r),h=c[0],g=c[1],v=c[2],p=c[3],y=new Int32Array(e),m=new Int32Array(y.length),E=void 0,b=void 0,T=void 0,_=void 0,k=void 0,R=void 0,A=void 0,S=void 0,L=void 0,w=void 0,D=void 0,O=void 0;t<y.length;){for(L=this.networkToHostOrderSwap(y[t]),w=this.networkToHostOrderSwap(y[t+1]),D=this.networkToHostOrderSwap(y[t+2]),O=this.networkToHostOrderSwap(y[t+3]),k=L^s[0],R=O^s[1],A=D^s[2],S=w^s[3],i=4,a=1;a<n;a++)E=l[k>>>24]^u[R>>16&255]^d[A>>8&255]^f[255&S]^s[i],b=l[R>>>24]^u[A>>16&255]^d[S>>8&255]^f[255&k]^s[i+1],T=l[A>>>24]^u[S>>16&255]^d[k>>8&255]^f[255&R]^s[i+2],_=l[S>>>24]^u[k>>16&255]^d[R>>8&255]^f[255&A]^s[i+3],k=E,R=b,A=T,S=_,i+=4;E=o[k>>>24]<<24^o[R>>16&255]<<16^o[A>>8&255]<<8^o[255&S]^s[i],b=o[R>>>24]<<24^o[A>>16&255]<<16^o[S>>8&255]<<8^o[255&k]^s[i+1],T=o[A>>>24]<<24^o[S>>16&255]<<16^o[k>>8&255]<<8^o[255&R]^s[i+2],_=o[S>>>24]<<24^o[k>>16&255]<<16^o[R>>8&255]<<8^o[255&A]^s[i+3],i+=3,m[t]=this.networkToHostOrderSwap(E^h),m[t+1]=this.networkToHostOrderSwap(_^g),m[t+2]=this.networkToHostOrderSwap(T^v),m[t+3]=this.networkToHostOrderSwap(b^p),h=L,g=w,v=D,p=O,t+=4}return m.buffer}},{key:"destroy",value:function(){this.key=void 0,this.keySize=void 0,this.ksRows=void 0,this.sBox=void 0,this.invSBox=void 0,this.subMix=void 0,this.invSubMix=void 0,this.keySchedule=void 0,this.invKeySchedule=void 0,this.rcon=void 0}}]),e}();r.default=n},{}],19:[function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(r,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}(),s=e(17),o=i(s),l=e(20),u=i(l),d=e(18),f=i(d),c=e(31),h=e(50),g=function(){function e(t,r){a(this,e),this.observer=t,this.config=r,this.logEnabled=!0;try{var i=crypto?crypto:self.crypto;this.subtle=i.subtle||i.webkitSubtle}catch(e){}this.disableWebCrypto=!this.subtle}return n(e,[{key:"isSync",value:function(){return this.disableWebCrypto&&this.config.enableSoftwareAES}},{key:"decrypt",value:function(e,t,r,i){var a=this;if(this.disableWebCrypto&&this.config.enableSoftwareAES){this.logEnabled&&(h.logger.log("JS AES decrypt"),this.logEnabled=!1);var n=this.decryptor;n||(this.decryptor=n=new f.default),n.expandKey(t),i(n.decrypt(e,0,r))}else!function(){a.logEnabled&&(h.logger.log("WebCrypto AES decrypt"),a.logEnabled=!1);var n=a.subtle;a.key!==t&&(a.key=t,a.fastAesKey=new u.default(n,t)),a.fastAesKey.expandKey().then(function(s){new o.default(n,r).decrypt(e,s).catch(function(n){a.onWebCryptoError(n,e,t,r,i)}).then(function(e){i(e)})}).catch(function(n){a.onWebCryptoError(n,e,t,r,i)})}()}},{key:"onWebCryptoError",value:function(e,t,r,i,a){this.config.enableSoftwareAES?(h.logger.log("WebCrypto Error, disable WebCrypto API"),this.disableWebCrypto=!0,this.logEnabled=!0,this.decrypt(t,r,i,a)):(h.logger.error("decrypting error : "+e.message),this.observer.trigger(Event.ERROR,{type:c.ErrorTypes.MEDIA_ERROR,details:c.ErrorDetails.FRAG_DECRYPT_ERROR,fatal:!0,reason:e.message}))}},{key:"destroy",value:function(){var e=this.decryptor;e&&(e.destroy(),this.decryptor=void 0)}}]),e}();r.default=g},{17:17,18:18,20:20,31:31,50:50}],20:[function(e,t,r){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}(),n=function(){function e(t,r){i(this,e),this.subtle=t,this.key=r}return a(e,[{key:"expandKey",value:function(){return this.subtle.importKey("raw",this.key,{name:"AES-CBC"},!1,["encrypt","decrypt"])}}]),e}();r.default=n},{}],21:[function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(r,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}(),s=e(22),o=i(s),l=e(50),u=e(27),d=i(u),f=function(){function e(t,r,i){a(this,e),this.observer=t,this.config=i,this.remuxer=r}return n(e,[{key:"resetInitSegment",value:function(e,t,r,i){this._aacTrack={container:"audio/adts",type:"audio",id:-1,sequenceNumber:0,isAAC:!0,samples:[],len:0,manifestCodec:t,duration:i}}},{key:"resetTimeStamp",value:function(){}},{key:"append",value:function(e,t,r,i){var a,n,s,u,f,c,h,g,v,p,y=new d.default(e),m=90*y.timeStamp;for(a=this._aacTrack,c=y.length,v=e.length;c<v-1&&(255!==e[c]||240!==(240&e[c+1]));c++);for(a.audiosamplerate||(n=o.default.getAudioConfig(this.observer,e,c,a.manifestCodec),a.config=n.config,a.audiosamplerate=n.samplerate,a.channelCount=n.channelCount,a.codec=n.codec,l.logger.log("parsed codec:"+a.codec+",rate:"+n.samplerate+",nb channel:"+n.channelCount)),f=0,u=9216e4/a.audiosamplerate;c+5<v&&(h=1&e[c+1]?7:9,s=(3&e[c+3])<<11|e[c+4]<<3|(224&e[c+5])>>>5,s-=h,s>0&&c+h+s<=v);)for(g=m+f*u,p={unit:e.subarray(c+h,c+h+s),pts:g,dts:g},a.samples.push(p),a.len+=s,c+=s+h,f++;c<v-1&&(255!==e[c]||240!==(240&e[c+1]));c++);this.remuxer.remux(a,{samples:[]},{samples:[{pts:m,dts:m,unit:y.payload}]},{samples:[]},t,r,i)}},{key:"destroy",value:function(){}}],[{key:"probe",value:function(e){var t,r,i=new d.default(e);if(i.hasTimeStamp)for(t=i.length,r=e.length;t<r-1;t++)if(255===e[t]&&240===(240&e[t+1]))return!0;return!1}}]),e}();r.default=f},{22:22,27:27,50:50}],22:[function(e,t,r){"use strict";var i=e(50),a=e(31),n={getAudioConfig:function(e,t,r,n){var s,o,l,u,d,f=navigator.userAgent.toLowerCase(),c=n,h=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];return s=((192&t[r+2])>>>6)+1,o=(60&t[r+2])>>>2,o>h.length-1?void e.trigger(Event.ERROR,{type:a.ErrorTypes.MEDIA_ERROR,details:a.ErrorDetails.FRAG_PARSING_ERROR,fatal:!0,reason:"invalid ADTS sampling index:"+o}):(u=(1&t[r+2])<<2,u|=(192&t[r+3])>>>6,i.logger.log("manifest codec:"+n+",ADTS data:type:"+s+",sampleingIndex:"+o+"["+h[o]+"Hz],channelConfig:"+u),/firefox/i.test(f)?o>=6?(s=5,d=new Array(4),l=o-3):(s=2,d=new Array(2),l=o):f.indexOf("android")!==-1?(s=2,d=new Array(2),l=o):(s=5,d=new Array(4),n&&(n.indexOf("mp4a.40.29")!==-1||n.indexOf("mp4a.40.5")!==-1)||!n&&o>=6?l=o-3:((n&&n.indexOf("mp4a.40.2")!==-1&&o>=6&&1===u||!n&&1===u)&&(s=2,d=new Array(2)),l=o)),d[0]=s<<3,d[0]|=(14&o)>>1,d[1]|=(1&o)<<7,d[1]|=u<<3,5===s&&(d[1]|=(14&l)>>1,d[2]=(1&l)<<7,d[2]|=8,d[3]=0),{config:d,samplerate:h[o],channelCount:u,codec:"mp4a.40."+s,manifestCodec:c})}};t.exports=n},{31:31,50:50}],23:[function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(r,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}(),s=e(33),o=i(s),l=e(31),u=e(19),d=i(u),f=e(21),c=i(f),h=e(28),g=i(h),v=e(30),p=i(v),y=e(43),m=i(y),E=e(44),b=i(E),T=function(){function e(t,r,i){a(this,e),this.observer=t,this.typeSupported=r,this.config=i}return n(e,[{key:"destroy",value:function(){var e=this.demuxer;e&&e.destroy()}},{key:"push",value:function(e,t,r,i,a,n,s,l,u,f,c,h){if(e.byteLength>0&&null!=t&&null!=t.key&&"AES-128"===t.method){var g=this.decrypter;null==g&&(g=this.decrypter=new d.default(this.observer,this.config));var v,p=this;try{v=performance.now()}catch(e){v=Date.now()}g.decrypt(e,t.key.buffer,t.iv.buffer,function(e){var d;try{d=performance.now()}catch(e){d=Date.now()}p.observer.trigger(o.default.FRAG_DECRYPTED,{stats:{tstart:v,tdecrypt:d}}),p.pushDecrypted(new Uint8Array(e),t,new Uint8Array(r),i,a,n,s,l,u,f,c,h)})}else this.pushDecrypted(new Uint8Array(e),t,new Uint8Array(r),i,a,n,s,l,u,f,c,h)}},{key:"pushDecrypted",value:function(e,t,r,i,a,n,s,u,d,f,h,v){var y=this.demuxer;if(!y||s&&!this.probe(e)){var E=this.observer,T=this.typeSupported,_=this.config,k=[{demux:p.default,remux:m.default},{demux:c.default,remux:m.default},{demux:g.default,remux:b.default}];for(var R in k){var A=k[R],S=A.demux.probe;if(S(e)){var L=this.remuxer=new A.remux(E,_,T);y=new A.demux(E,L,_,T),this.probe=S;break}}if(!y)return void E.trigger(o.default.ERROR,{type:l.ErrorTypes.MEDIA_ERROR,details:l.ErrorDetails.FRAG_PARSING_ERROR,fatal:!0,reason:"no demux matching with content found"});this.demuxer=y}var w=this.remuxer;(s||u)&&(y.resetInitSegment(r,i,a,f),w.resetInitSegment()),s&&(y.resetTimeStamp(),w.resetTimeStamp(v)),"function"==typeof y.setDecryptData&&y.setDecryptData(t),y.append(e,n,d,h)}}]),e}();r.default=T},{19:19,21:21,28:28,30:30,31:31,33:33,43:43,44:44}],24:[function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(r,"__esModule",{value:!0});var a=e(23),n=i(a),s=e(33),o=i(s),l=e(50),u=e(1),d=i(u),f=function(e){var t=new d.default;t.trigger=function(e){for(var r=arguments.length,i=Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];t.emit.apply(t,[e,e].concat(i))},t.off=function(e){for(var r=arguments.length,i=Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];t.removeListener.apply(t,[e].concat(i))};var r=function(t,r){e.postMessage({event:t,data:r})};e.addEventListener("message",function(i){var a=i.data;switch(a.cmd){case"init":var s=JSON.parse(a.config);e.demuxer=new n.default(t,a.typeSupported,s);try{(0,l.enableLogs)(s.debug===!0)}catch(e){}r("init",null);break;case"demux":e.demuxer.push(a.data,a.decryptdata,a.initSegment,a.audioCodec,a.videoCodec,a.timeOffset,a.discontinuity,a.trackSwitch,a.contiguous,a.duration,a.accurateTimeOffset,a.defaultInitPTS)}}),t.on(o.default.FRAG_DECRYPTED,r),t.on(o.default.FRAG_PARSING_INIT_SEGMENT,r),t.on(o.default.FRAG_PARSED,r),t.on(o.default.ERROR,r),t.on(o.default.FRAG_PARSING_METADATA,r),t.on(o.default.FRAG_PARSING_USERDATA,r),t.on(o.default.INIT_PTS_FOUND,r),t.on(o.default.FRAG_PARSING_DATA,function(t,r){var i=[],a={event:t,data:r};r.data1&&(a.data1=r.data1.buffer,i.push(r.data1.buffer),delete r.data1),r.data2&&(a.data2=r.data2.buffer,i.push(r.data2.buffer),delete r.data2),e.postMessage(a,i)})};r.default=f},{1:1,23:23,33:33,50:50}],25:[function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(r,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}(),s=e(33),o=i(s),l=e(23),u=i(l),d=e(24),f=i(d),c=e(50),h=e(31),g=e(1),v=i(g),p=function(){function t(r,i){a(this,t),this.hls=r,this.id=i;var n=this.observer=new v.default,s=r.config;n.trigger=function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];n.emit.apply(n,[e,e].concat(r))},n.off=function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];n.removeListener.apply(n,[e].concat(r))};var l=function(e,t){t=t||{},t.frag=this.frag,t.id=this.id,r.trigger(e,t)}.bind(this);n.on(o.default.FRAG_DECRYPTED,l),n.on(o.default.FRAG_PARSING_INIT_SEGMENT,l),n.on(o.default.FRAG_PARSING_DATA,l),n.on(o.default.FRAG_PARSED,l),n.on(o.default.ERROR,l),n.on(o.default.FRAG_PARSING_METADATA,l),n.on(o.default.FRAG_PARSING_USERDATA,l),n.on(o.default.INIT_PTS_FOUND,l);var d={mp4:MediaSource.isTypeSupported("video/mp4"),mpeg:MediaSource.isTypeSupported("audio/mpeg"),mp3:MediaSource.isTypeSupported('audio/mp4; codecs="mp3"')};if(s.enableWorker&&"undefined"!=typeof Worker){c.logger.log("demuxing in webworker");var g=void 0;try{var p=e(3);g=this.w=p(f.default),this.onwmsg=this.onWorkerMessage.bind(this),g.addEventListener("message",this.onwmsg),g.onerror=function(e){r.trigger(o.default.ERROR,{type:h.ErrorTypes.OTHER_ERROR,details:h.ErrorDetails.INTERNAL_EXCEPTION,fatal:!0,event:"demuxerWorker",err:{message:e.message+" ("+e.filename+":"+e.lineno+")"}})},g.postMessage({cmd:"init",typeSupported:d,id:i,config:JSON.stringify(s)})}catch(e){c.logger.error("error while initializing DemuxerWorker, fallback on DemuxerInline"),g&&URL.revokeObjectURL(g.objectURL),this.demuxer=new u.default(n,i,d,s),this.w=void 0}}else this.demuxer=new u.default(n,i,d,s)}return n(t,[{key:"destroy",value:function(){var e=this.w;if(e)e.removeEventListener("message",this.onwmsg),e.terminate(),this.w=null;else{var t=this.demuxer;t&&(t.destroy(),this.demuxer=null)}var r=this.observer;r&&(r.removeAllListeners(),this.observer=null)}},{key:"push",value:function(e,t,r,i,a,n,s,o){var l=this.w,u=isNaN(a.startDTS)?a.start:a.startDTS,d=a.decryptdata,f=this.frag,h=!(f&&a.cc===f.cc),g=!(f&&a.level===f.level),v=f&&a.sn===f.sn+1,p=!h&&!g&&v;if(h&&c.logger.log(this.id+":discontinuity detected"),g&&c.logger.log(this.id+":switch detected"),this.frag=a,l)l.postMessage({cmd:"demux",data:e,decryptdata:d,initSegment:t,audioCodec:r,videoCodec:i,timeOffset:u,discontinuity:h,trackSwitch:g,contiguous:p,duration:n,accurateTimeOffset:s,defaultInitPTS:o},[e]);else{var y=this.demuxer;y&&y.push(e,d,t,r,i,u,h,g,p,n,s,o)}}},{key:"onWorkerMessage",value:function(e){var t=e.data,r=this.hls;switch(t.event){case"init":URL.revokeObjectURL(this.w.objectURL);break;case o.default.FRAG_PARSING_DATA:t.data.data1=new Uint8Array(t.data1),t.data2&&(t.data.data2=new Uint8Array(t.data2));default:t.data=t.data||{},t.data.frag=this.frag,t.data.id=this.id,r.trigger(t.event,t.data)}}}]),t}();r.default=p},{1:1,23:23,24:24,3:3,31:31,33:33,50:50}],26:[function(e,t,r){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}(),n=e(50),s=function(){function e(t){i(this,e),this.data=t,this.bytesAvailable=t.byteLength,this.word=0,this.bitsAvailable=0}return a(e,[{key:"loadWord",value:function(){var e=this.data,t=this.bytesAvailable,r=e.byteLength-t,i=new Uint8Array(4),a=Math.min(4,t);if(0===a)throw new Error("no bytes available");i.set(e.subarray(r,r+a)),this.word=new DataView(i.buffer).getUint32(0),this.bitsAvailable=8*a,this.bytesAvailable-=a}},{key:"skipBits",value:function(e){var t;this.bitsAvailable>e?(this.word<<=e,this.bitsAvailable-=e):(e-=this.bitsAvailable,t=e>>3,e-=t>>3,this.bytesAvailable-=t,this.loadWord(),this.word<<=e,this.bitsAvailable-=e)}},{key:"readBits",value:function(e){var t=Math.min(this.bitsAvailable,e),r=this.word>>>32-t;return e>32&&n.logger.error("Cannot read more than 32 bits at a time"),this.bitsAvailable-=t,this.bitsAvailable>0?this.word<<=t:this.bytesAvailable>0&&this.loadWord(),t=e-t,t>0&&this.bitsAvailable?r<<t|this.readBits(t):r}},{key:"skipLZ",value:function(){var e;for(e=0;e<this.bitsAvailable;++e)if(0!==(this.word&2147483648>>>e))return this.word<<=e,this.bitsAvailable-=e,e;return this.loadWord(),e+this.skipLZ()}},{key:"skipUEG",value:function(){this.skipBits(1+this.skipLZ())}},{key:"skipEG",value:function(){this.skipBits(1+this.skipLZ())}},{key:"readUEG",value:function(){var e=this.skipLZ();return this.readBits(e+1)-1}},{key:"readEG",value:function(){var e=this.readUEG();return 1&e?1+e>>>1:-1*(e>>>1)}},{key:"readBoolean",value:function(){return 1===this.readBits(1)}},{key:"readUByte",value:function(){return this.readBits(8)}},{key:"readUShort",value:function(){return this.readBits(16)}},{key:"readUInt",value:function(){return this.readBits(32)}},{key:"skipScalingList",value:function(e){var t,r,i=8,a=8;for(t=0;t<e;t++)0!==a&&(r=this.readEG(),a=(i+r+256)%256),i=0===a?i:a}},{key:"readSPS",value:function(){var e,t,r,i,a,n,s,o=0,l=0,u=0,d=0,f=this.readUByte.bind(this),c=this.readBits.bind(this),h=this.readUEG.bind(this),g=this.readBoolean.bind(this),v=this.skipBits.bind(this),p=this.skipEG.bind(this),y=this.skipUEG.bind(this),m=this.skipScalingList.bind(this);if(f(),e=f(),c(5),v(3),f(),y(),100===e||110===e||122===e||244===e||44===e||83===e||86===e||118===e||128===e){var E=h();if(3===E&&v(1),y(),y(),v(1),g())for(n=3!==E?8:12,s=0;s<n;s++)g()&&m(s<6?16:64)}y();var b=h();if(0===b)h();else if(1===b)for(v(1),p(),p(),t=h(),s=0;s<t;s++)p();y(),v(1),r=h(),i=h(),a=c(1),0===a&&v(1),v(1),g()&&(o=h(),l=h(),u=h(),d=h());var T=[1,1];if(g()&&g()){switch(f()){case 1:T=[1,1];break;case 2:T=[12,11];break;case 3:T=[10,11];break;case 4:T=[16,11];break;case 5:T=[40,33];break;case 6:T=[24,11];break;case 7:T=[20,11];break;case 8:T=[32,11];break;case 9:T=[80,33];break;case 10:T=[18,11];break;case 11:T=[15,11];break;case 12:T=[64,33];break;case 13:T=[160,99];break;case 14:T=[4,3];break;case 15:T=[3,2];break;case 16:T=[2,1];break;case 255:T=[f()<<8|f(),f()<<8|f()]}}return{width:Math.ceil(16*(r+1)-2*o-2*l),height:(2-a)*(i+1)*16-(a?2:4)*(u+d),pixelRatio:T}}},{key:"readSliceType",value:function(){return this.readUByte(),this.readUEG(),this.readUEG()}}]),e}();r.default=s},{50:50}],27:[function(e,t,r){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}(),n=e(50),s=function(){function e(t){i(this,e),this._hasTimeStamp=!1;for(var r,a,s,o,l,u,d,f,c=0;;)if(d=this.readUTF(t,c,3),c+=3,"ID3"===d)c+=3,r=127&t[c++],a=127&t[c++],s=127&t[c++],o=127&t[c++],l=(r<<21)+(a<<14)+(s<<7)+o,u=c+l,this._parseID3Frames(t,c,u),c=u;else{if("3DI"!==d)return c-=3,f=c,void(f&&(this.hasTimeStamp||n.logger.warn("ID3 tag found, but no timestamp"),this._length=f,this._payload=t.subarray(0,f)));c+=7,n.logger.log("3DI footer found, end: "+c)}}return a(e,[{key:"readUTF",value:function(e,t,r){var i="",a=t,n=t+r;do i+=String.fromCharCode(e[a++]);while(a<n);return i}},{key:"_parseID3Frames",value:function(e,t,r){for(var i,a;t+8<=r;)switch(i=this.readUTF(e,t,4),t+=4,e[t++]<<24+e[t++]<<16+e[t++]<<8+e[t++],e[t++]<<8+e[t++],t,i){case"PRIV":if("com.apple.streaming.transportStreamTimestamp"===this.readUTF(e,t,44)){t+=44,t+=4;var s=1&e[t++];this._hasTimeStamp=!0,a=((e[t++]<<23)+(e[t++]<<15)+(e[t++]<<7)+e[t++])/45,s&&(a+=47721858.84),a=Math.round(a),n.logger.trace("ID3 timestamp found: "+a),this._timeStamp=a}}}},{key:"hasTimeStamp",get:function(){return this._hasTimeStamp}},{key:"timeStamp",get:function(){return this._timeStamp}},{key:"length",get:function(){return this._length}},{key:"payload",get:function(){return this._payload}}]),e}();r.default=s},{50:50}],28:[function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(r,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}(),s=e(33),o=i(s),l=function(){function e(t,r){a(this,e),this.observer=t,this.remuxer=r}return n(e,[{key:"resetTimeStamp",value:function(){}},{key:"resetInitSegment",value:function(t,r,i,a){var n=this.initData=e.parseInitSegment(t),s={};n.audio&&(s.audio={container:"audio/mp4",codec:r,initSegment:t}),n.video&&(s.video={container:"video/mp4",codec:i,initSegment:t}),this.observer.trigger(o.default.FRAG_PARSING_INIT_SEGMENT,{tracks:s})}},{key:"append",value:function(t,r,i,a){var n=this.initData,s=e.startDTS(n,t);this.remuxer.remux(n.audio,n.video,null,null,s,i,a,t)}},{key:"destroy",value:function(){}}],[{key:"probe",value:function(t){if(t.length>=8){var r=e.bin2str(t.subarray(4,8));return["moof","ftyp","styp"].indexOf(r)>=0}return!1}},{key:"bin2str",value:function(e){return String.fromCharCode.apply(null,e)}},{key:"findBox",value:function(t,r){var i,a,n,s,o,l=[];if(!r.length)return null;for(i=0;i<t.byteLength;)a=t[i]<<24,a|=t[i+1]<<16,a|=t[i+2]<<8,a|=t[i+3],n=e.bin2str(t.subarray(i+4,i+8)),s=a>1?i+a:t.byteLength,n===r[0]&&(1===r.length?l.push(t.subarray(i+8,s)):(o=e.findBox(t.subarray(i+8,s),r.slice(1)),o.length&&(l=l.concat(o)))),i=s;return l}},{key:"parseInitSegment",value:function(t){var r=[];return e.findBox(t,["moov","trak"]).forEach(function(t){var i=e.findBox(t,["tkhd"])[0];if(i){var a=i[0],n=0===a?12:20,s=i[n]<<24|i[n+1]<<16|i[n+2]<<8|i[n+3];s=s<0?4294967296+s:s;var o=e.findBox(t,["mdia","mdhd"])[0];if(o){a=o[0],n=0===a?12:20;var l=o[n]<<24|o[n+1]<<16|o[n+2]<<8|o[n+3],u=e.findBox(t,["mdia","hdlr"])[0];if(u){var d=e.bin2str(u.subarray(8,12)),f={soun:"audio",vide:"video"}[d];f&&(r[s]={timescale:l,type:f},r[f]={timescale:l,id:s})}}}}),r}},{key:"startDTS",value:function(t,r){var i,a,n;return i=e.findBox(r,["moof","traf"]),a=[].concat.apply([],i.map(function(r){return e.findBox(r,["tfhd"]).map(function(i){var a,n,s;return a=i[4]<<24|i[5]<<16|i[6]<<8|i[7],n=t[a].timescale||9e4,s=e.findBox(r,["tfdt"]).map(function(e){var t,r;return t=e[0],r=e[4]<<24|e[5]<<16|e[6]<<8|e[7],1===t&&(r*=Math.pow(2,32),r+=e[8]<<24|e[9]<<16|e[10]<<8|e[11]),r})[0],s=s||1/0,s/n})})),n=Math.min.apply(null,a),isFinite(n)?n:0}}]),e}();r.default=l},{33:33}],29:[function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(r,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}(),s=e(19),o=i(s),l=function(){function e(t,r,i,n){a(this,e),this.decryptdata=i,this.discardEPB=n,this.decrypter=new o.default(t,r)}return n(e,[{key:"decryptBuffer",value:function(e,t){this.decrypter.decrypt(e,this.decryptdata.key.buffer,this.decryptdata.iv.buffer,t)}},{key:"decryptAacSample",value:function(e,t,r,i){var a=e[t].unit,n=a.subarray(16,a.length-a.length%16),s=n.buffer.slice(n.byteOffset,n.byteOffset+n.length),o=this;this.decryptBuffer(s,function(n){n=new Uint8Array(n),a.set(n,16),i||o.decryptAacSamples(e,t+1,r)})}},{key:"decryptAacSamples",value:function(e,t,r){for(;;t++){if(t>=e.length)return void r();if(!(e[t].unit.length<32)){var i=this.decrypter.isSync();if(this.decryptAacSample(e,t,r,i),!i)return}}}},{key:"getAvcEncryptedData",value:function(e){for(var t=16*Math.floor((e.length-48)/160)+16,r=new Int8Array(t),i=0,a=32;a<=e.length-16;a+=160,i+=16)r.set(e.subarray(a,a+16),i);return r}},{key:"getAvcDecryptedUnit",value:function(e,t){t=new Uint8Array(t);for(var r=0,i=32;i<=e.length-16;i+=160,r+=16)e.set(t.subarray(r,r+16),i);return e}},{key:"decryptAvcSample",value:function(e,t,r,i,a,n){var s=this.discardEPB(a.data),o=this.getAvcEncryptedData(s),l=this;this.decryptBuffer(o.buffer,function(o){a.data=l.getAvcDecryptedUnit(s,o),n||l.decryptAvcSamples(e,t,r+1,i)})}},{key:"decryptAvcSamples",value:function(e,t,r,i){for(;;t++,r=0){if(t>=e.length)return void i();for(var a=e[t].units;!(r>=a.length);r++){var n=a[r];if(!(n.length<=48||1!==n.type&&5!==n.type)){var s=this.decrypter.isSync();if(this.decryptAvcSample(e,t,r,i,n,s),!s)return}}}}}]),e}();r.default=l},{19:19}],30:[function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(r,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}(),s=e(22),o=i(s),l=e(33),u=i(l),d=e(26),f=i(d),c=e(29),h=i(c),g=e(50),v=e(31),p=function(){function e(t,r,i,n){a(this,e),this.observer=t,this.config=i,this.typeSupported=n,this.remuxer=r,this.sampleAes=null}return n(e,[{key:"setDecryptData",value:function(e){null!=e&&null!=e.key&&"SAMPLE-AES"===e.method?this.sampleAes=new h.default(this.observer,this.config,e,this.discardEPB):this.sampleAes=null}},{key:"resetInitSegment",value:function(e,t,r,i){this.pmtParsed=!1,this._pmtId=-1,this._avcTrack={container:"video/mp2t",type:"video",id:-1,sequenceNumber:0,samples:[],len:0,dropped:0},this._audioTrack={container:"video/mp2t",type:"audio",id:-1,sequenceNumber:0,samples:[],len:0,isAAC:!0},this._id3Track={type:"id3",id:-1,sequenceNumber:0,samples:[],len:0},this._txtTrack={type:"text",id:-1,sequenceNumber:0,samples:[],len:0},this.aacOverFlow=null,this.aacLastPTS=null,this.avcSample=null,this.audioCodec=t,this.videoCodec=r,this._duration=i}},{key:"resetTimeStamp",value:function(){}},{key:"append",value:function(e,t,r,i){var a,n,s,o,l,d,f=e.length,c=!1;this.contiguous=r;var h=this.pmtParsed,p=this._avcTrack,y=this._audioTrack,m=this._id3Track,E=p.id,b=y.id,T=m.id,_=this._pmtId,k=p.pesData,R=y.pesData,A=m.pesData,S=this._parsePAT,L=this._parsePMT,w=this._parsePES,D=this._parseAVCPES.bind(this),O=this._parseAACPES.bind(this),I=this._parseMPEGPES.bind(this),P=this._parseID3PES.bind(this);for(f-=f%188,a=0;a<f;a+=188)if(71===e[a]){if(n=!!(64&e[a+1]),s=((31&e[a+1])<<8)+e[a+2],o=(48&e[a+3])>>4,o>1){if(l=a+5+e[a+4],l===a+188)continue}else l=a+4;switch(s){case E:n&&(k&&(d=w(k))&&D(d,!1),k={data:[],size:0}),k&&(k.data.push(e.subarray(l,a+188)),k.size+=a+188-l);break;case b:n&&(R&&(d=w(R))&&(y.isAAC?O(d):I(d)),R={data:[],size:0}),R&&(R.data.push(e.subarray(l,a+188)),R.size+=a+188-l);break;case T:n&&(A&&(d=w(A))&&P(d),A={data:[],size:0}),A&&(A.data.push(e.subarray(l,a+188)),A.size+=a+188-l);break;case 0:n&&(l+=e[l]+1),_=this._pmtId=S(e,l);break;case _:n&&(l+=e[l]+1);var C=L(e,l,this.typeSupported.mpeg===!0||this.typeSupported.mp3===!0,null!=this.sampleAes);E=C.avc,E>0&&(p.id=E),b=C.audio,b>0&&(y.id=b,y.isAAC=C.isAAC),T=C.id3,T>0&&(m.id=T),c&&!h&&(g.logger.log("reparse from beginning"),c=!1,a=-188),h=this.pmtParsed=!0;break;case 17:case 8191:break;default:c=!0}}else this.observer.trigger(u.default.ERROR,{type:v.ErrorTypes.MEDIA_ERROR,details:v.ErrorDetails.FRAG_PARSING_ERROR,fatal:!1,reason:"TS packet did not start with 0x47"});k&&(d=w(k))?(D(d,!0),p.pesData=null):p.pesData=k,R&&(d=w(R))?(y.isAAC?O(d):I(d),y.pesData=null):(R&&R.size&&g.logger.log("last AAC PES packet truncated,might overlap between fragments"),y.pesData=R),A&&(d=w(A))?(P(d),m.pesData=null):m.pesData=A,null==this.sampleAes?this.remuxer.remux(y,p,m,this._txtTrack,t,r,i):this.decryptAndRemux(y,p,m,this._txtTrack,t,r,i)}},{key:"decryptAndRemux",value:function(e,t,r,i,a,n,s){var o=this;e.samples&&e.isAAC?function(){var l=o;o.sampleAes.decryptAacSamples(e.samples,0,function(){l.decryptAndRemuxAvc(e,t,r,i,a,n,s)})}():this.decryptAndRemuxAvc(e,t,r,i,a,n,s)}},{key:"decryptAndRemuxAvc",value:function(e,t,r,i,a,n,s){var o=this;t.samples?function(){var l=o;o.sampleAes.decryptAvcSamples(t.samples,0,0,function(){l.remuxer.remux(e,t,r,i,a,n,s)})}():this.remuxer.remux(e,t,r,i,a,n,s)}},{key:"destroy",value:function(){this._initPTS=this._initDTS=void 0,this._duration=0}},{key:"_parsePAT",value:function(e,t){return(31&e[t+10])<<8|e[t+11]}},{key:"_parsePMT",value:function(e,t,r,i){var a,n,s,o,l={audio:-1,avc:-1,id3:-1,isAAC:!0};for(a=(15&e[t+1])<<8|e[t+2],n=t+3+a-4,s=(15&e[t+10])<<8|e[t+11],t+=12+s;t<n;){switch(o=(31&e[t+1])<<8|e[t+2],e[t]){case 207:if(!i){g.logger.log("unkown stream type:"+e[t]);break}
case 15:l.audio===-1&&(l.audio=o);break;case 21:l.id3===-1&&(l.id3=o);break;case 219:if(!i){g.logger.log("unkown stream type:"+e[t]);break}case 27:l.avc===-1&&(l.avc=o);break;case 3:case 4:r?l.audio===-1&&(l.audio=o,l.isAAC=!1):g.logger.log("MPEG audio found, not supported in this browser for now");break;case 36:g.logger.warn("HEVC stream type found, not supported for now");break;default:g.logger.log("unkown stream type:"+e[t])}t+=((15&e[t+3])<<8|e[t+4])+5}return l}},{key:"_parsePES",value:function(e){var t,r,i,a,n,s,o,l,u,d=0,f=e.data;if(!e||0===e.size)return null;for(;f[0].length<19&&f.length>1;){var c=new Uint8Array(f[0].length+f[1].length);c.set(f[0]),c.set(f[1],f[0].length),f[0]=c,f.splice(1,1)}if(t=f[0],i=(t[0]<<16)+(t[1]<<8)+t[2],1===i){if(a=(t[4]<<8)+t[5],a&&a>e.size-6)return null;r=t[7],192&r&&(o=536870912*(14&t[9])+4194304*(255&t[10])+16384*(254&t[11])+128*(255&t[12])+(254&t[13])/2,o>4294967295&&(o-=8589934592),64&r?(l=536870912*(14&t[14])+4194304*(255&t[15])+16384*(254&t[16])+128*(255&t[17])+(254&t[18])/2,l>4294967295&&(l-=8589934592),o-l>54e5&&(g.logger.warn(Math.round((o-l)/9e4)+"s delta between PTS and DTS, align them"),o=l)):l=o),n=t[8],u=n+9,e.size-=u,s=new Uint8Array(e.size);for(var h=0,v=f.length;h<v;h++){t=f[h];var p=t.byteLength;if(u){if(u>p){u-=p;continue}t=t.subarray(u),p-=u,u=0}s.set(t,d),d+=p}return a&&(a-=n+3),{data:s,pts:o,dts:l,len:a}}return null}},{key:"pushAccesUnit",value:function(e,t){if(e.units.length&&e.frame){var r=t.samples,i=r.length;!this.config.forceKeyFrameOnDiscontinuity||e.key===!0||t.sps&&(i||this.contiguous)?(e.id=i,r.push(e)):t.dropped++}e.debug.length&&g.logger.log(e.pts+"/"+e.dts+":"+e.debug)}},{key:"_parseAVCPES",value:function(e,t){var r,i,a,n=this,s=this._avcTrack,o=this._parseAVCNALu(e.data),l=this.avcSample;e.data=null,o.forEach(function(t){switch(t.type){case 1:i=!0,l.frame=!0;var o=t.data;if(o.length>4){var u=new f.default(o).readSliceType();2!==u&&4!==u&&7!==u&&9!==u||(l.key=!0)}break;case 5:i=!0,l||(l=n.avcSample=n._createAVCSample(!0,e.pts,e.dts,"")),l.key=!0,l.frame=!0;break;case 6:i=!0,r=new f.default(n.discardEPB(t.data)),r.readUByte();for(var d=0,c=0,h=!1,g=0;!h&&r.bytesAvailable>1;){d=0;do g=r.readUByte(),d+=g;while(255===g);c=0;do g=r.readUByte(),c+=g;while(255===g);if(4===d&&0!==r.bytesAvailable){h=!0;if(181===r.readUByte()){if(49===r.readUShort()){if(1195456820===r.readUInt()){if(3===r.readUByte()){var v=r.readUByte(),p=r.readUByte(),y=31&v,m=[v,p];for(a=0;a<y;a++)m.push(r.readUByte()),m.push(r.readUByte()),m.push(r.readUByte());n._insertSampleInOrder(n._txtTrack.samples,{type:3,pts:e.pts,bytes:m})}}}}}else if(c<r.bytesAvailable)for(a=0;a<c;a++)r.readUByte()}break;case 7:if(i=!0,!s.sps){r=new f.default(t.data);var E=r.readSPS();s.width=E.width,s.height=E.height,s.pixelRatio=E.pixelRatio,s.sps=[t.data],s.duration=n._duration;var b=t.data.subarray(1,4),T="avc1.";for(a=0;a<3;a++){var _=b[a].toString(16);_.length<2&&(_="0"+_),T+=_}s.codec=T}break;case 8:i=!0,s.pps||(s.pps=[t.data]);break;case 9:i=!1,l&&n.pushAccesUnit(l,s),l=n.avcSample=n._createAVCSample(!1,e.pts,e.dts,"");break;case 12:i=!1;break;default:i=!1,l&&(l.debug+="unknown NAL "+t.type+" ")}if(l&&i){l.units.push(t)}}),t&&l&&(this.pushAccesUnit(l,s),this.avcSample=null)}},{key:"_createAVCSample",value:function(e,t,r,i){return{key:e,pts:t,dts:r,units:[],debug:i}}},{key:"_insertSampleInOrder",value:function(e,t){var r=e.length;if(r>0){if(t.pts>=e[r-1].pts)e.push(t);else for(var i=r-1;i>=0;i--)if(t.pts<e[i].pts){e.splice(i,0,t);break}}else e.push(t)}},{key:"_getLastNalUnit",value:function(){var e=this.avcSample,t=void 0;if(!e||0===e.units.length){var r=this._avcTrack,i=r.samples;e=i[i.length-1]}if(e){var a=e.units;t=a[a.length-1]}return t}},{key:"_parseAVCNALu",value:function(e){var t,r,i,a,n,s=0,o=e.byteLength,l=this._avcTrack,u=l.naluState||0,d=u,f=[],c=-1;for(u===-1&&(c=0,n=31&e[0],u=0,s=1);s<o;)if(t=e[s++],u)if(1!==u)if(t)if(1===t){if(c>=0)i={data:e.subarray(c,s-u-1),type:n},f.push(i);else{var h=this._getLastNalUnit();if(h&&(d&&s<=4-d&&h.state&&(h.data=h.data.subarray(0,h.data.byteLength-d)),r=s-u-1,r>0)){var g=new Uint8Array(h.data.byteLength+r);g.set(h.data,0),g.set(e.subarray(0,r),h.data.byteLength),h.data=g}}s<o?(a=31&e[s],c=s,n=a,u=0):u=-1}else u=0;else u=3;else u=t?0:2;else u=t?0:1;if(c>=0&&u>=0&&(i={data:e.subarray(c,o),type:n,state:u},f.push(i)),0===f.length){var v=this._getLastNalUnit();if(v){var p=new Uint8Array(v.data.byteLength+e.byteLength);p.set(v.data,0),p.set(e,v.data.byteLength),v.data=p}}return l.naluState=u,f}},{key:"discardEPB",value:function(e){for(var t,r,i=e.byteLength,a=[],n=1;n<i-2;)0===e[n]&&0===e[n+1]&&3===e[n+2]?(a.push(n+2),n+=2):n++;if(0===a.length)return e;t=i-a.length,r=new Uint8Array(t);var s=0;for(n=0;n<t;s++,n++)s===a[0]&&(s++,a.shift()),r[n]=e[s];return r}},{key:"_parseAACPES",value:function(e){var t,r,i,a,n,s,l,d,f,c=this._audioTrack,h=e.data,p=e.pts,y=this.aacOverFlow,m=this.aacLastPTS;if(y){var E=new Uint8Array(y.byteLength+h.byteLength);E.set(y,0),E.set(h,y.byteLength),h=E}for(n=0,d=h.length;n<d-1&&(255!==h[n]||240!==(240&h[n+1]));n++);if(n){var b,T;if(n<d-1?(b="AAC PES did not start with ADTS header,offset:"+n,T=!1):(b="no ADTS header found in AAC PES",T=!0),g.logger.warn("parsing error:"+b),this.observer.trigger(u.default.ERROR,{type:v.ErrorTypes.MEDIA_ERROR,details:v.ErrorDetails.FRAG_PARSING_ERROR,fatal:T,reason:b}),T)return}if(!c.audiosamplerate){var _=this.audioCodec;t=o.default.getAudioConfig(this.observer,h,n,_),c.config=t.config,c.audiosamplerate=t.samplerate,c.channelCount=t.channelCount,c.codec=t.codec,c.manifestCodec=t.manifestCodec,c.duration=this._duration,g.logger.log("parsed codec:"+c.codec+",rate:"+t.samplerate+",nb channel:"+t.channelCount)}if(a=0,i=9216e4/c.audiosamplerate,y&&m){var k=m+i;Math.abs(k-p)>1&&(g.logger.log("AAC: align PTS for overlapping frames by "+Math.round((k-p)/90)),p=k)}for(;n+5<d&&(s=1&h[n+1]?7:9,r=(3&h[n+3])<<11|h[n+4]<<3|(224&h[n+5])>>>5,r-=s,r>0&&n+s+r<=d);)for(l=p+a*i,f={unit:h.subarray(n+s,n+s+r),pts:l,dts:l},c.samples.push(f),c.len+=r,n+=r+s,a++;n<d-1&&(255!==h[n]||240!==(240&h[n+1]));n++);y=n<d?h.subarray(n,d):null,this.aacOverFlow=y,this.aacLastPTS=l}},{key:"_parseMPEGPES",value:function(e){for(var t,r=e.data,i=e.pts,a=r.length,n=0,s=0;s<a&&(t=this._parseMpeg(r,s,a,n++,i))>0;)s+=t}},{key:"_onMpegFrame",value:function(e,t,r,i,a,n){var s=1152/r*1e3,o=n+a*s,l=this._audioTrack;l.config=[],l.channelCount=i,l.audiosamplerate=r,l.duration=this._duration,l.samples.push({unit:e,pts:o,dts:o}),l.len+=e.length}},{key:"_onMpegNoise",value:function(e){g.logger.warn("mpeg audio has noise: "+e.length+" bytes")}},{key:"_parseMpeg",value:function(e,t,r,i,a){var n=[32,64,96,128,160,192,224,256,288,320,352,384,416,448,32,48,56,64,80,96,112,128,160,192,224,256,320,384,32,40,48,56,64,80,96,112,128,160,192,224,256,320,32,48,56,64,80,96,112,128,144,160,176,192,224,256,8,16,24,32,40,48,56,64,80,96,112,128,144,160],s=[44100,48e3,32e3,22050,24e3,16e3,11025,12e3,8e3];if(t+2>r)return-1;if(255===e[t]||224===(224&e[t+1])){if(t+24>r)return-1;var o=e[t+1]>>3&3,l=e[t+1]>>1&3,u=e[t+2]>>4&15,d=e[t+2]>>2&3,f=!!(2&e[t+2]);if(1!==o&&0!==u&&15!==u&&3!==d){var c=3===o?3-l:3===l?3:4,h=1e3*n[14*c+u-1],g=3===o?0:2===o?1:2,v=s[3*g+d],p=f?1:0,y=e[t+3]>>6===3?1:2,m=3===l?(3===o?12:6)*h/v+p<<2:(3===o?144:72)*h/v+p|0;return t+m>r?-1:(this._onMpegFrame&&this._onMpegFrame(e.subarray(t,t+m),h,v,y,i,a),m)}}for(var E=t+2;E<r;){if(255===e[E-1]&&224===(224&e[E]))return this._onMpegNoise&&this._onMpegNoise(e.subarray(t,E-1)),E-t-1;E++}return-1}},{key:"_parseID3PES",value:function(e){this._id3Track.samples.push(e)}}],[{key:"probe",value:function(e){return e.length>=564&&71===e[0]&&71===e[188]&&71===e[376]}}]),e}();r.default=p},{22:22,26:26,29:29,31:31,33:33,50:50}],31:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.ErrorTypes={NETWORK_ERROR:"networkError",MEDIA_ERROR:"mediaError",MUX_ERROR:"muxError",OTHER_ERROR:"otherError"},r.ErrorDetails={MANIFEST_LOAD_ERROR:"manifestLoadError",MANIFEST_LOAD_TIMEOUT:"manifestLoadTimeOut",MANIFEST_PARSING_ERROR:"manifestParsingError",MANIFEST_INCOMPATIBLE_CODECS_ERROR:"manifestIncompatibleCodecsError",LEVEL_LOAD_ERROR:"levelLoadError",LEVEL_LOAD_TIMEOUT:"levelLoadTimeOut",LEVEL_SWITCH_ERROR:"levelSwitchError",AUDIO_TRACK_LOAD_ERROR:"audioTrackLoadError",AUDIO_TRACK_LOAD_TIMEOUT:"audioTrackLoadTimeOut",FRAG_LOAD_ERROR:"fragLoadError",FRAG_LOOP_LOADING_ERROR:"fragLoopLoadingError",FRAG_LOAD_TIMEOUT:"fragLoadTimeOut",FRAG_DECRYPT_ERROR:"fragDecryptError",FRAG_PARSING_ERROR:"fragParsingError",REMUX_ALLOC_ERROR:"remuxAllocError",KEY_LOAD_ERROR:"keyLoadError",KEY_LOAD_TIMEOUT:"keyLoadTimeOut",BUFFER_ADD_CODEC_ERROR:"bufferAddCodecError",BUFFER_APPEND_ERROR:"bufferAppendError",BUFFER_APPENDING_ERROR:"bufferAppendingError",BUFFER_STALLED_ERROR:"bufferStalledError",BUFFER_FULL_ERROR:"bufferFullError",BUFFER_SEEK_OVER_HOLE:"bufferSeekOverHole",BUFFER_NUDGE_ON_STALL:"bufferNudgeOnStall",INTERNAL_EXCEPTION:"internalException",WEBVTT_EXCEPTION:"webVTTException"}},{}],32:[function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(r,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}(),o=e(50),l=e(31),u=e(33),d=i(u),f=function(){function e(t){a(this,e),this.hls=t,this.onEvent=this.onEvent.bind(this);for(var r=arguments.length,i=Array(r>1?r-1:0),n=1;n<r;n++)i[n-1]=arguments[n];this.handledEvents=i,this.useGenericHandler=!0,this.registerListeners()}return s(e,[{key:"destroy",value:function(){this.unregisterListeners()}},{key:"isEventHandler",value:function(){return"object"===n(this.handledEvents)&&this.handledEvents.length&&"function"==typeof this.onEvent}},{key:"registerListeners",value:function(){this.isEventHandler()&&this.handledEvents.forEach(function(e){if("hlsEventGeneric"===e)throw new Error("Forbidden event name: "+e);this.hls.on(e,this.onEvent)}.bind(this))}},{key:"unregisterListeners",value:function(){this.isEventHandler()&&this.handledEvents.forEach(function(e){this.hls.off(e,this.onEvent)}.bind(this))}},{key:"onEvent",value:function(e,t){this.onEventGeneric(e,t)}},{key:"onEventGeneric",value:function(e,t){var r=function(e,t){var r="on"+e.replace("hls","");if("function"!=typeof this[r])throw new Error("Event "+e+" has no generic handler in this "+this.constructor.name+" class (tried "+r+")");return this[r].bind(this,t)};try{r.call(this,e,t).call()}catch(t){o.logger.error("internal error happened while processing "+e+":"+t.message),this.hls.trigger(d.default.ERROR,{type:l.ErrorTypes.OTHER_ERROR,details:l.ErrorDetails.INTERNAL_EXCEPTION,fatal:!1,event:e,err:t})}}}]),e}();r.default=f},{31:31,33:33,50:50}],33:[function(e,t,r){"use strict";t.exports={MEDIA_ATTACHING:"hlsMediaAttaching",MEDIA_ATTACHED:"hlsMediaAttached",MEDIA_DETACHING:"hlsMediaDetaching",MEDIA_DETACHED:"hlsMediaDetached",BUFFER_RESET:"hlsBufferReset",BUFFER_CODECS:"hlsBufferCodecs",BUFFER_CREATED:"hlsBufferCreated",BUFFER_APPENDING:"hlsBufferAppending",BUFFER_APPENDED:"hlsBufferAppended",BUFFER_EOS:"hlsBufferEos",BUFFER_FLUSHING:"hlsBufferFlushing",BUFFER_FLUSHED:"hlsBufferFlushed",MANIFEST_LOADING:"hlsManifestLoading",MANIFEST_LOADED:"hlsManifestLoaded",MANIFEST_PARSED:"hlsManifestParsed",LEVEL_SWITCH:"hlsLevelSwitch",LEVEL_SWITCHING:"hlsLevelSwitching",LEVEL_SWITCHED:"hlsLevelSwitched",LEVEL_LOADING:"hlsLevelLoading",LEVEL_LOADED:"hlsLevelLoaded",LEVEL_UPDATED:"hlsLevelUpdated",LEVEL_PTS_UPDATED:"hlsLevelPtsUpdated",AUDIO_TRACKS_UPDATED:"hlsAudioTracksUpdated",AUDIO_TRACK_SWITCH:"hlsAudioTrackSwitch",AUDIO_TRACK_SWITCHING:"hlsAudioTrackSwitching",AUDIO_TRACK_SWITCHED:"hlsAudioTrackSwitched",AUDIO_TRACK_LOADING:"hlsAudioTrackLoading",AUDIO_TRACK_LOADED:"hlsAudioTrackLoaded",SUBTITLE_TRACKS_UPDATED:"hlsSubtitleTracksUpdated",SUBTITLE_TRACK_SWITCH:"hlsSubtitleTrackSwitch",SUBTITLE_TRACK_LOADING:"hlsSubtitleTrackLoading",SUBTITLE_TRACK_LOADED:"hlsSubtitleTrackLoaded",SUBTITLE_FRAG_PROCESSED:"hlsSubtitleFragProcessed",INIT_PTS_FOUND:"hlsInitPtsFound",FRAG_LOADING:"hlsFragLoading",FRAG_LOAD_PROGRESS:"hlsFragLoadProgress",FRAG_LOAD_EMERGENCY_ABORTED:"hlsFragLoadEmergencyAborted",FRAG_LOADED:"hlsFragLoaded",FRAG_DECRYPTED:"hlsFragDecrypted",FRAG_PARSING_INIT_SEGMENT:"hlsFragParsingInitSegment",FRAG_PARSING_USERDATA:"hlsFragParsingUserdata",FRAG_PARSING_METADATA:"hlsFragParsingMetadata",FRAG_PARSING_DATA:"hlsFragParsingData",FRAG_PARSED:"hlsFragParsed",FRAG_BUFFERED:"hlsFragBuffered",FRAG_CHANGED:"hlsFragChanged",FPS_DROP:"hlsFpsDrop",FPS_DROP_LEVEL_CAPPING:"hlsFpsDropLevelCapping",ERROR:"hlsError",DESTROYING:"hlsDestroying",KEY_LOADING:"hlsKeyLoading",KEY_LOADED:"hlsKeyLoaded",STREAM_STATE_TRANSITION:"hlsStreamStateTransition"}},{}],34:[function(e,t,r){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}(),n=function(){function e(){i(this,e)}return a(e,null,[{key:"getSilentFrame",value:function(e,t){switch(e){case"mp4a.40.2":if(1===t)return new Uint8Array([0,200,0,128,35,128]);if(2===t)return new Uint8Array([33,0,73,144,2,25,0,35,128]);if(3===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]);if(4===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);if(5===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);if(6===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224]);break;default:if(1===t)return new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(2===t)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(3===t)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94])}return null}}]),e}();r.default=n},{}],35:[function(e,t,r){"use strict";var i={isBuffered:function(e,t){if(e)for(var r=e.buffered,i=0;i<r.length;i++)if(t>=r.start(i)&&t<=r.end(i))return!0;return!1},bufferInfo:function(e,t,r){if(e){var i,a=e.buffered,n=[];for(i=0;i<a.length;i++)n.push({start:a.start(i),end:a.end(i)});return this.bufferedInfo(n,t,r)}return{len:0,start:t,end:t,nextStart:void 0}},bufferedInfo:function(e,t,r){var i,a,n,s,o,l=[];for(e.sort(function(e,t){var r=e.start-t.start;return r?r:t.end-e.end}),o=0;o<e.length;o++){var u=l.length;if(u){var d=l[u-1].end;e[o].start-d<r?e[o].end>d&&(l[u-1].end=e[o].end):l.push(e[o])}else l.push(e[o])}for(o=0,i=0,a=n=t;o<l.length;o++){var f=l[o].start,c=l[o].end;if(t+r>=f&&t<c)a=f,n=c,i=n-t;else if(t+r<f){s=f;break}}return{len:i,start:a,end:n,nextStart:s}}};t.exports=i},{}],36:[function(e,t,r){"use strict";var i=e(50),a={mergeDetails:function(e,t){var r,n=Math.max(e.startSN,t.startSN)-t.startSN,s=Math.min(e.endSN,t.endSN)-t.startSN,o=t.startSN-e.startSN,l=e.fragments,u=t.fragments,d=0;if(s<n)return void(t.PTSKnown=!1);for(var f=n;f<=s;f++){var c=l[o+f],h=u[f];h&&c&&(d=c.cc-h.cc,isNaN(c.startPTS)||(h.start=h.startPTS=c.startPTS,h.endPTS=c.endPTS,h.duration=c.duration,r=h))}if(d)for(i.logger.log("discontinuity sliding from playlist, take drift into account"),f=0;f<u.length;f++)u[f].cc+=d;if(r)a.updateFragPTSDTS(t,r.sn,r.startPTS,r.endPTS,r.startDTS,r.endDTS);else if(o>=0&&o<l.length){var g=l[o].start;for(f=0;f<u.length;f++)u[f].start+=g}t.PTSKnown=e.PTSKnown},updateFragPTSDTS:function(e,t,r,i,n,s){var o,l,u,d;if(!e||t<e.startSN||t>e.endSN)return 0;if(o=t-e.startSN,l=e.fragments,u=l[o],!isNaN(u.startPTS)){var f=Math.abs(u.startPTS-r);isNaN(u.deltaPTS)?u.deltaPTS=f:u.deltaPTS=Math.max(f,u.deltaPTS),r=Math.min(r,u.startPTS),i=Math.max(i,u.endPTS),n=Math.min(n,u.startDTS),s=Math.max(s,u.endDTS)}var c=r-u.start;for(u.start=u.startPTS=r,u.endPTS=i,u.startDTS=n,u.endDTS=s,u.duration=i-r,d=o;d>0;d--)a.updatePTS(l,d,d-1);for(d=o;d<l.length-1;d++)a.updatePTS(l,d,d+1);return e.PTSKnown=!0,c},updatePTS:function(e,t,r){var a=e[t],n=e[r],s=n.startPTS;isNaN(s)?n.start=r>t?a.start+a.duration:a.start-n.duration:r>t?(a.duration=s-a.start,a.duration<0&&i.logger.warn("negative duration computed for frag "+a.sn+",level "+a.level+", there should be some duration drift between playlist and fragment!")):(n.duration=a.start-s,n.duration<0&&i.logger.warn("negative duration computed for frag "+n.sn+",level "+n.level+", there should be some duration drift between playlist and fragment!"))}};t.exports=a},{50:50}],37:[function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(r,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}(),s=e(33),o=i(s),l=e(31),u=e(41),d=i(u),f=e(39),c=i(f),h=e(40),g=i(h),v=e(13),p=i(v),y=e(12),m=i(y),E=e(50),b=e(1),T=i(b),_=e(4),k=function(){function e(){var t=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};a(this,e);var i=e.DefaultConfig;if((r.liveSyncDurationCount||r.liveMaxLatencyDurationCount)&&(r.liveSyncDuration||r.liveMaxLatencyDuration))throw new Error("Illegal hls.js config: don't mix up liveSyncDurationCount/liveMaxLatencyDurationCount and liveSyncDuration/liveMaxLatencyDuration");for(var n in i)n in r||(r[n]=i[n]);if(void 0!==r.liveMaxLatencyDurationCount&&r.liveMaxLatencyDurationCount<=r.liveSyncDurationCount)throw new Error('Illegal hls.js config: "liveMaxLatencyDurationCount" must be gt "liveSyncDurationCount"');if(void 0!==r.liveMaxLatencyDuration&&(r.liveMaxLatencyDuration<=r.liveSyncDuration||void 0===r.liveSyncDuration))throw new Error('Illegal hls.js config: "liveMaxLatencyDuration" must be gt "liveSyncDuration"');(0,E.enableLogs)(r.debug),this.config=r,this._autoLevelCapping=-1;var s=this.observer=new T.default;s.trigger=function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];s.emit.apply(s,[e,e].concat(r))},s.off=function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];s.removeListener.apply(s,[e].concat(r))},this.on=s.on.bind(s),this.off=s.off.bind(s),this.trigger=s.trigger.bind(s);var o=this.abrController=new r.abrController(this),l=new r.bufferController(this),u=new r.capLevelController(this),f=new r.fpsController(this),h=new d.default(this),v=new c.default(this),y=new g.default(this),b=this.levelController=new m.default(this),_=this.streamController=new p.default(this),k=[b,_],R=r.audioStreamController;R&&k.push(new R(this)),this.networkControllers=k;var A=[h,v,y,o,l,u,f];if(R=r.audioTrackController){var S=new R(this);this.audioTrackController=S,A.push(S)}if(R=r.subtitleTrackController){var L=new R(this);this.subtitleTrackController=L,A.push(L)}[r.subtitleStreamController,r.timelineController].forEach(function(e){e&&A.push(new e(t))}),this.coreComponents=A}return n(e,null,[{key:"isSupported",value:function(){return window.MediaSource=window.MediaSource||window.WebKitMediaSource,window.MediaSource&&"function"==typeof window.MediaSource.isTypeSupported&&window.MediaSource.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"')}},{key:"version",get:function(){return"0.7.3"}},{key:"Events",get:function(){return o.default}},{key:"ErrorTypes",get:function(){return l.ErrorTypes}},{key:"ErrorDetails",get:function(){return l.ErrorDetails}},{key:"DefaultConfig",get:function(){return e.defaultConfig?e.defaultConfig:_.hlsDefaultConfig},set:function(t){e.defaultConfig=t}}]),n(e,[{key:"destroy",value:function(){E.logger.log("destroy"),this.trigger(o.default.DESTROYING),this.detachMedia(),this.coreComponents.concat(this.networkControllers).forEach(function(e){e.destroy()}),this.url=null,this.observer.removeAllListeners(),this._autoLevelCapping=-1}},{key:"attachMedia",value:function(e){E.logger.log("attachMedia"),this.media=e,this.trigger(o.default.MEDIA_ATTACHING,{media:e})}},{key:"detachMedia",value:function(){E.logger.log("detachMedia"),this.trigger(o.default.MEDIA_DETACHING),this.media=null}},{key:"loadSource",value:function(e){E.logger.log("loadSource:"+e),this.url=e,this.trigger(o.default.MANIFEST_LOADING,{url:e})}},{key:"startLoad",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;E.logger.log("startLoad("+e+")"),this.networkControllers.forEach(function(t){t.startLoad(e)})}},{key:"stopLoad",value:function(){E.logger.log("stopLoad"),this.networkControllers.forEach(function(e){e.stopLoad()})}},{key:"swapAudioCodec",value:function(){E.logger.log("swapAudioCodec"),this.streamController.swapAudioCodec()}},{key:"recoverMediaError",value:function(){E.logger.log("recoverMediaError");var e=this.media;this.detachMedia(),this.attachMedia(e)}},{key:"levels",get:function(){return this.levelController.levels}},{key:"currentLevel",get:function(){return this.streamController.currentLevel},set:function(e){E.logger.log("set currentLevel:"+e),this.loadLevel=e,this.streamController.immediateLevelSwitch()}},{key:"nextLevel",get:function(){return this.streamController.nextLevel},set:function(e){E.logger.log("set nextLevel:"+e),this.levelController.manualLevel=e,this.streamController.nextLevelSwitch()}},{key:"loadLevel",get:function(){return this.levelController.level},set:function(e){E.logger.log("set loadLevel:"+e),this.levelController.manualLevel=e}},{key:"nextLoadLevel",get:function(){return this.levelController.nextLoadLevel},set:function(e){this.levelController.nextLoadLevel=e}},{key:"firstLevel",get:function(){return Math.max(this.levelController.firstLevel,this.minAutoLevel)},set:function(e){E.logger.log("set firstLevel:"+e),this.levelController.firstLevel=e}},{key:"startLevel",get:function(){return this.levelController.startLevel},set:function(e){E.logger.log("set startLevel:"+e);var t=this;e!==-1&&(e=Math.max(e,t.minAutoLevel)),t.levelController.startLevel=e}},{key:"autoLevelCapping",get:function(){return this._autoLevelCapping},set:function(e){E.logger.log("set autoLevelCapping:"+e),this._autoLevelCapping=e}},{key:"autoLevelEnabled",get:function(){return this.levelController.manualLevel===-1}},{key:"manualLevel",get:function(){return this.levelController.manualLevel}},{key:"minAutoLevel",get:function(){for(var e=this,t=e.levels,r=e.config.minAutoBitrate,i=t?t.length:0,a=0;a<i;a++){if((t[a].realBitrate?Math.max(t[a].realBitrate,t[a].bitrate):t[a].bitrate)>r)return a}return 0}},{key:"maxAutoLevel",get:function(){var e=this,t=e.levels,r=e.autoLevelCapping;return r===-1&&t&&t.length?t.length-1:r}},{key:"nextAutoLevel",get:function(){var e=this;return Math.min(Math.max(e.abrController.nextAutoLevel,e.minAutoLevel),e.maxAutoLevel)},set:function(e){var t=this;t.abrController.nextAutoLevel=Math.max(t.minAutoLevel,e)}},{key:"audioTracks",get:function(){var e=this.audioTrackController;return e?e.audioTracks:[]}},{key:"audioTrack",get:function(){var e=this.audioTrackController;return e?e.audioTrack:-1},set:function(e){var t=this.audioTrackController;t&&(t.audioTrack=e)}},{key:"liveSyncPosition",get:function(){return this.streamController.liveSyncPosition}},{key:"subtitleTracks",get:function(){var e=this.subtitleTrackController;return e?e.subtitleTracks:[]}},{key:"subtitleTrack",get:function(){var e=this.subtitleTrackController;return e?e.subtitleTrack:-1},set:function(e){var t=this.subtitleTrackController;t&&(t.subtitleTrack=e)}}]),e}();r.default=k},{1:1,12:12,13:13,31:31,33:33,39:39,4:4,40:40,41:41,50:50}],38:[function(e,t,r){"use strict";t.exports=e(37).default},{37:37}],39:[function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}(),l=e(33),u=i(l),d=e(32),f=i(d),c=e(31),h=e(50),g=function(e){function t(e){a(this,t);var r=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,u.default.FRAG_LOADING));return r.loaders={},r}return s(t,e),o(t,[{key:"destroy",value:function(){var e=this.loaders;for(var t in e){var r=e[t];r&&r.destroy()}this.loaders={},f.default.prototype.destroy.call(this)}},{key:"onFragLoading",value:function(e){var t=e.frag,r=t.type,i=this.loaders[r],a=this.hls.config;t.loaded=0,i&&(h.logger.warn("abort previous fragment loader for type:"+r),i.abort()),i=this.loaders[r]=t.loader=void 0!==a.fLoader?new a.fLoader(a):new a.loader(a);var n=void 0,s=void 0,o=void 0;n={url:t.url,frag:t,responseType:"arraybuffer",progressData:!1};var l=t.byteRangeStartOffset,u=t.byteRangeEndOffset;isNaN(l)||isNaN(u)||(n.rangeStart=l,n.rangeEnd=u),s={timeout:a.fragLoadingTimeOut,maxRetry:0,retryDelay:0,maxRetryDelay:a.fragLoadingMaxRetryTimeout},o={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this),onProgress:this.loadprogress.bind(this)},i.load(n,s,o)}},{key:"loadsuccess",value:function(e,t,r){var i=e.data,a=r.frag;a.loader=void 0,this.loaders[a.type]=void 0,this.hls.trigger(u.default.FRAG_LOADED,{payload:i,frag:a,stats:t})}},{key:"loaderror",value:function(e,t){var r=t.loader;r&&r.abort(),this.loaders[t.type]=void 0,this.hls.trigger(u.default.ERROR,{type:c.ErrorTypes.NETWORK_ERROR,details:c.ErrorDetails.FRAG_LOAD_ERROR,fatal:!1,frag:t.frag,response:e})}},{key:"loadtimeout",value:function(e,t){var r=t.loader;r&&r.abort(),this.loaders[t.type]=void 0,this.hls.trigger(u.default.ERROR,{type:c.ErrorTypes.NETWORK_ERROR,details:c.ErrorDetails.FRAG_LOAD_TIMEOUT,fatal:!1,frag:t.frag})}},{key:"loadprogress",value:function(e,t,r){var i=t.frag;i.loaded=e.loaded,this.hls.trigger(u.default.FRAG_LOAD_PROGRESS,{frag:i,stats:e})}}]),t}(f.default);r.default=g},{31:31,32:32,33:33,50:50}],40:[function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}(),l=e(33),u=i(l),d=e(32),f=i(d),c=e(31),h=e(50),g=function(e){function t(e){a(this,t);var r=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,u.default.KEY_LOADING));return r.loaders={},r.decryptkey=null,r.decrypturl=null,r}return s(t,e),o(t,[{key:"destroy",value:function(){for(var e in this.loaders){var t=this.loaders[e];t&&t.destroy()}this.loaders={},f.default.prototype.destroy.call(this)}},{key:"onKeyLoading",value:function(e){var t=e.frag,r=t.type,i=this.loaders[r],a=t.decryptdata,n=a.uri;if(n!==this.decrypturl||null===this.decryptkey){var s=this.hls.config;i&&(h.logger.warn("abort previous key loader for type:"+r),i.abort()),t.loader=this.loaders[r]=new s.loader(s),this.decrypturl=n,this.decryptkey=null;var o=void 0,l=void 0,d=void 0;o={url:n,frag:t,responseType:"arraybuffer"},l={timeout:s.fragLoadingTimeOut,maxRetry:s.fragLoadingMaxRetry,retryDelay:s.fragLoadingRetryDelay,maxRetryDelay:s.fragLoadingMaxRetryTimeout},d={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this)},t.loader.load(o,l,d)}else this.decryptkey&&(a.key=this.decryptkey,this.hls.trigger(u.default.KEY_LOADED,{frag:t}))}},{key:"loadsuccess",value:function(e,t,r){var i=r.frag;this.decryptkey=i.decryptdata.key=new Uint8Array(e.data),i.loader=void 0,this.loaders[i.type]=void 0,this.hls.trigger(u.default.KEY_LOADED,{frag:i})}},{key:"loaderror",value:function(e,t){var r=t.frag,i=r.loader;i&&i.abort(),this.loaders[t.type]=void 0,this.hls.trigger(u.default.ERROR,{type:c.ErrorTypes.NETWORK_ERROR,details:c.ErrorDetails.KEY_LOAD_ERROR,fatal:!1,frag:r,response:e})}},{key:"loadtimeout",value:function(e,t){var r=t.frag,i=r.loader;i&&i.abort(),this.loaders[t.type]=void 0,this.hls.trigger(u.default.ERROR,{type:c.ErrorTypes.NETWORK_ERROR,details:c.ErrorDetails.KEY_LOAD_TIMEOUT,fatal:!1,frag:r})}}]),t}(f.default);r.default=g},{31:31,32:32,33:33,50:50}],41:[function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}(),l=e(2),u=i(l),d=e(33),f=i(d),c=e(32),h=i(c),g=e(31),v=e(45),p=i(v),y=e(50),m=/#EXT-X-STREAM-INF:([^\n\r]*)[\r\n]+([^\r\n]+)/g,E=/#EXT-X-MEDIA:(.*)/g,b=/#EXTINF:(\d*(?:\.\d+)?)(?:,(.*))?|(?!#)(\S.+)|#EXT-X-BYTERANGE: *(.+)|#EXT-X-PROGRAM-DATE-TIME:(.+)|#.*/g,T=function(){function e(){s(this,e),this.method=null,this.key=null,this.iv=null,this._uri=null}return o(e,[{key:"uri",get:function(){return!this._uri&&this.reluri&&(this._uri=u.default.buildAbsoluteURL(this.baseuri,this.reluri)),this._uri}}]),e}(),_=function(){function e(){s(this,e),this._url=null,this._byteRange=null,this._decryptdata=null,this.tagList=[]}return o(e,[{key:"createInitializationVector",
value:function(e){for(var t=new Uint8Array(16),r=12;r<16;r++)t[r]=e>>8*(15-r)&255;return t}},{key:"fragmentDecryptdataFromLevelkey",value:function(e,t){var r=e;return e&&e.method&&e.uri&&!e.iv&&(r=new T,r.method=e.method,r.baseuri=e.baseuri,r.reluri=e.reluri,r.iv=this.createInitializationVector(t)),r}},{key:"cloneObj",value:function(e){return JSON.parse(JSON.stringify(e))}},{key:"url",get:function(){return!this._url&&this.relurl&&(this._url=u.default.buildAbsoluteURL(this.baseurl,this.relurl)),this._url},set:function(e){this._url=e}},{key:"programDateTime",get:function(){return!this._programDateTime&&this.rawProgramDateTime&&(this._programDateTime=new Date(Date.parse(this.rawProgramDateTime))),this._programDateTime}},{key:"byteRange",get:function(){if(!this._byteRange){var e=this._byteRange=[];if(this.rawByteRange){var t=this.rawByteRange.split("@",2);if(1===t.length){var r=this.lastByteRangeEndOffset;e[0]=r?r:0}else e[0]=parseInt(t[1]);e[1]=parseInt(t[0])+e[0]}}return this._byteRange}},{key:"byteRangeStartOffset",get:function(){return this.byteRange[0]}},{key:"byteRangeEndOffset",get:function(){return this.byteRange[1]}},{key:"decryptdata",get:function(){return this._decryptdata||(this._decryptdata=this.fragmentDecryptdataFromLevelkey(this.levelkey,this.sn)),this._decryptdata}}]),e}(),k=function(e){function t(e){s(this,t);var r=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,f.default.MANIFEST_LOADING,f.default.LEVEL_LOADING,f.default.AUDIO_TRACK_LOADING,f.default.SUBTITLE_TRACK_LOADING));return r.loaders={},r}return n(t,e),o(t,[{key:"destroy",value:function(){for(var e in this.loaders){var t=this.loaders[e];t&&t.destroy()}this.loaders={},h.default.prototype.destroy.call(this)}},{key:"onManifestLoading",value:function(e){this.load(e.url,{type:"manifest"})}},{key:"onLevelLoading",value:function(e){this.load(e.url,{type:"level",level:e.level,id:e.id})}},{key:"onAudioTrackLoading",value:function(e){this.load(e.url,{type:"audioTrack",id:e.id})}},{key:"onSubtitleTrackLoading",value:function(e){this.load(e.url,{type:"subtitleTrack",id:e.id})}},{key:"load",value:function(e,t){var r=this.loaders[t.type];if(r){var i=r.context;if(i&&i.url===e)return void y.logger.trace("playlist request ongoing");y.logger.warn("abort previous loader for type:"+t.type),r.abort()}var a=this.hls.config,n=void 0,s=void 0,o=void 0,l=void 0;"manifest"===t.type?(n=a.manifestLoadingMaxRetry,s=a.manifestLoadingTimeOut,o=a.manifestLoadingRetryDelay,l=a.manifestLoadingMaxRetryTimeout):(n=a.levelLoadingMaxRetry,s=a.levelLoadingTimeOut,o=a.levelLoadingRetryDelay,l=a.levelLoadingMaxRetryTimeout,y.logger.log("loading playlist for "+t.type+" "+(t.level||t.id))),r=this.loaders[t.type]=t.loader=void 0!==a.pLoader?new a.pLoader(a):new a.loader(a),t.url=e,t.responseType="";var u=void 0,d=void 0;u={timeout:s,maxRetry:n,retryDelay:o,maxRetryDelay:l},d={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this)},r.load(t,u,d)}},{key:"resolve",value:function(e,t){return u.default.buildAbsoluteURL(t,e)}},{key:"parseMasterPlaylist",value:function(e,t){var r=[],i=void 0;for(m.lastIndex=0;null!=(i=m.exec(e));){var a={},n=a.attrs=new p.default(i[1]);a.url=this.resolve(i[2],t);var s=n.decimalResolution("RESOLUTION");s&&(a.width=s.width,a.height=s.height),a.bitrate=n.decimalInteger("AVERAGE-BANDWIDTH")||n.decimalInteger("BANDWIDTH"),a.name=n.NAME;var o=n.CODECS;if(o){o=o.split(/[ ,]+/);for(var l=0;l<o.length;l++){var u=o[l];u.indexOf("avc1")!==-1?a.videoCodec=this.avc1toavcoti(u):a.audioCodec=u}}r.push(a)}return r}},{key:"parseMasterPlaylistMedia",value:function(e,t,r){var i=void 0,a=[],n=0;for(E.lastIndex=0;null!=(i=E.exec(e));){var s={},o=new p.default(i[1]);o.TYPE===r&&(s.groupId=o["GROUP-ID"],s.name=o.NAME,s.type=r,s.default="YES"===o.DEFAULT,s.autoselect="YES"===o.AUTOSELECT,s.forced="YES"===o.FORCED,o.URI&&(s.url=this.resolve(o.URI,t)),s.lang=o.LANGUAGE,s.name||(s.name=s.lang),s.id=n++,a.push(s))}return a}},{key:"avc1toavcoti",value:function(e){var t,r=e.split(".");return r.length>2?(t=r.shift()+".",t+=parseInt(r.shift()).toString(16),t+=("000"+parseInt(r.shift()).toString(16)).substr(-4)):t=e,t}},{key:"parseLevelPlaylist",value:function(e,t,r,i){var a,n,s=0,o=0,l={type:null,version:null,url:t,fragments:[],live:!0,startSN:0},u=new T,d=0,f=null,c=new _;for(b.lastIndex=0;null!==(a=b.exec(e));){var h=a[1];if(h){c.duration=parseFloat(h);var g=(" "+a[2]).slice(1);c.title=g?g:null,c.tagList.push(g?["INF",h,g]:["INF",h])}else if(a[3]){if(!isNaN(c.duration)){var v=s++;c.type=i,c.start=o,c.levelkey=u,c.sn=v,c.level=r,c.cc=d,c.baseurl=t,c.relurl=(" "+a[3]).slice(1),l.fragments.push(c),f=c,o+=c.duration,c=new _}}else if(a[4]){if(c.rawByteRange=(" "+a[4]).slice(1),f){var m=f.byteRangeEndOffset;m&&(c.lastByteRangeEndOffset=m)}}else if(a[5])c.rawProgramDateTime=(" "+a[5]).slice(1),c.tagList.push(["PROGRAM-DATE-TIME",c.rawProgramDateTime]);else{for(a=a[0].match(/(?:(?:#(EXTM3U))|(?:#EXT-X-(PLAYLIST-TYPE):(.+))|(?:#EXT-X-(MEDIA-SEQUENCE): *(\d+))|(?:#EXT-X-(TARGETDURATION): *(\d+))|(?:#EXT-X-(KEY):(.+))|(?:#EXT-X-(START):(.+))|(?:#EXT-X-(ENDLIST))|(?:#EXT-X-(DISCONTINUITY-SEQ)UENCE:(\d+))|(?:#EXT-X-(DIS)CONTINUITY))|(?:#EXT-X-(VERSION):(\d+))|(?:#EXT-X-(MAP):(.+))|(?:(#)(.*):(.*))|(?:(#)(.*))(?:.*)\r?\n?/),n=1;n<a.length&&void 0===a[n];n++);var E=(" "+a[n+1]).slice(1),k=(" "+a[n+2]).slice(1);switch(a[n]){case"#":c.tagList.push(k?[E,k]:[E]);break;case"PLAYLIST-TYPE":l.type=E.toUpperCase();break;case"MEDIA-SEQUENCE":s=l.startSN=parseInt(E);break;case"TARGETDURATION":l.targetduration=parseFloat(E);break;case"VERSION":l.version=parseInt(E);break;case"EXTM3U":break;case"ENDLIST":l.live=!1;break;case"DIS":d++,c.tagList.push(["DIS"]);break;case"DISCONTINUITY-SEQ":d=parseInt(E);break;case"KEY":var R=E,A=new p.default(R),S=A.enumeratedString("METHOD"),L=A.URI,w=A.hexadecimalInteger("IV");S&&(u=new T,L&&["AES-128","SAMPLE-AES"].indexOf(S)>=0&&(u.method=S,u.baseuri=t,u.reluri=L,u.key=null,u.iv=w));break;case"START":var D=E,O=new p.default(D),I=O.decimalFloatingPoint("TIME-OFFSET");isNaN(I)||(l.startTimeOffset=I);break;case"MAP":var P=new p.default(E);c.relurl=P.URI,c.rawByteRange=P.BYTERANGE,c.baseurl=t,c.level=r,c.type=i,c.sn="initSegment",l.initSegment=c,c=new _;break;default:y.logger.warn("line parsed but not handled: "+a)}}}return c=f,c&&!c.relurl&&(l.fragments.pop(),o-=c.duration),l.totalduration=o,l.averagetargetduration=o/l.fragments.length,l.endSN=s-1,l}},{key:"loadsuccess",value:function(e,t,r){var i=e.data,a=e.url,n=r.type,s=r.id,o=r.level,l=this.hls;if(this.loaders[n]=void 0,void 0!==a&&0!==a.indexOf("data:")||(a=r.url),t.tload=performance.now(),0===i.indexOf("#EXTM3U"))if(i.indexOf("#EXTINF:")>0){var u="audioTrack"!==n&&"subtitleTrack"!==n,d=isNaN(o)?isNaN(s)?0:s:o,c=this.parseLevelPlaylist(i,a,d,"audioTrack"===n?"audio":"subtitleTrack"===n?"subtitle":"main");c.tload=t.tload,"manifest"===n&&l.trigger(f.default.MANIFEST_LOADED,{levels:[{url:a,details:c}],audioTracks:[],url:a,stats:t}),t.tparsed=performance.now(),c.targetduration?u?l.trigger(f.default.LEVEL_LOADED,{details:c,level:o||0,id:s||0,stats:t}):"audioTrack"===n?l.trigger(f.default.AUDIO_TRACK_LOADED,{details:c,id:s,stats:t}):"subtitleTrack"===n&&l.trigger(f.default.SUBTITLE_TRACK_LOADED,{details:c,id:s,stats:t}):l.trigger(f.default.ERROR,{type:g.ErrorTypes.NETWORK_ERROR,details:g.ErrorDetails.MANIFEST_PARSING_ERROR,fatal:!0,url:a,reason:"invalid targetduration"})}else{var h=this.parseMasterPlaylist(i,a);if(h.length){var v=this.parseMasterPlaylistMedia(i,a,"AUDIO"),p=this.parseMasterPlaylistMedia(i,a,"SUBTITLES");if(v.length){var m=!1;v.forEach(function(e){e.url||(m=!0)}),m===!1&&h[0].audioCodec&&!h[0].attrs.AUDIO&&(y.logger.log("audio codec signaled in quality level, but no embedded audio track signaled, create one"),v.unshift({type:"main",name:"main"}))}l.trigger(f.default.MANIFEST_LOADED,{levels:h,audioTracks:v,subtitles:p,url:a,stats:t})}else l.trigger(f.default.ERROR,{type:g.ErrorTypes.NETWORK_ERROR,details:g.ErrorDetails.MANIFEST_PARSING_ERROR,fatal:!0,url:a,reason:"no level found in manifest"})}else l.trigger(f.default.ERROR,{type:g.ErrorTypes.NETWORK_ERROR,details:g.ErrorDetails.MANIFEST_PARSING_ERROR,fatal:!0,url:a,reason:"no EXTM3U delimiter"})}},{key:"loaderror",value:function(e,t){var r,i,a=t.loader;switch(t.type){case"manifest":r=g.ErrorDetails.MANIFEST_LOAD_ERROR,i=!0;break;case"level":r=g.ErrorDetails.LEVEL_LOAD_ERROR,i=!1;break;case"audioTrack":r=g.ErrorDetails.AUDIO_TRACK_LOAD_ERROR,i=!1}a&&(a.abort(),this.loaders[t.type]=void 0),this.hls.trigger(f.default.ERROR,{type:g.ErrorTypes.NETWORK_ERROR,details:r,fatal:i,url:a.url,loader:a,response:e,context:t})}},{key:"loadtimeout",value:function(e,t){var r,i,a=t.loader;switch(t.type){case"manifest":r=g.ErrorDetails.MANIFEST_LOAD_TIMEOUT,i=!0;break;case"level":r=g.ErrorDetails.LEVEL_LOAD_TIMEOUT,i=!1;break;case"audioTrack":r=g.ErrorDetails.AUDIO_TRACK_LOAD_TIMEOUT,i=!1}a&&(a.abort(),this.loaders[t.type]=void 0),this.hls.trigger(f.default.ERROR,{type:g.ErrorTypes.NETWORK_ERROR,details:r,fatal:i,url:a.url,loader:a,context:t})}}]),t}(h.default);r.default=k},{2:2,31:31,32:32,33:33,45:45,50:50}],42:[function(e,t,r){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}(),n=function(){function e(){i(this,e)}return a(e,null,[{key:"init",value:function(){e.types={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],".mp3":[],mvex:[],mvhd:[],pasp:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[]};var t;for(t in e.types)e.types.hasOwnProperty(t)&&(e.types[t]=[t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2),t.charCodeAt(3)]);var r=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),i=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]);e.HDLR_TYPES={video:r,audio:i};var a=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),n=new Uint8Array([0,0,0,0,0,0,0,0]);e.STTS=e.STSC=e.STCO=n,e.STSZ=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),e.VMHD=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0]),e.SMHD=new Uint8Array([0,0,0,0,0,0,0,0]),e.STSD=new Uint8Array([0,0,0,0,0,0,0,1]);var s=new Uint8Array([105,115,111,109]),o=new Uint8Array([97,118,99,49]),l=new Uint8Array([0,0,0,1]);e.FTYP=e.box(e.types.ftyp,s,l,s,o),e.DINF=e.box(e.types.dinf,e.box(e.types.dref,a))}},{key:"box",value:function(e){for(var t,r=Array.prototype.slice.call(arguments,1),i=8,a=r.length,n=a;a--;)i+=r[a].byteLength;for(t=new Uint8Array(i),t[0]=i>>24&255,t[1]=i>>16&255,t[2]=i>>8&255,t[3]=255&i,t.set(e,4),a=0,i=8;a<n;a++)t.set(r[a],i),i+=r[a].byteLength;return t}},{key:"hdlr",value:function(t){return e.box(e.types.hdlr,e.HDLR_TYPES[t])}},{key:"mdat",value:function(t){return e.box(e.types.mdat,t)}},{key:"mdhd",value:function(t,r){return r*=t,e.box(e.types.mdhd,new Uint8Array([0,0,0,0,0,0,0,2,0,0,0,3,t>>24&255,t>>16&255,t>>8&255,255&t,r>>24,r>>16&255,r>>8&255,255&r,85,196,0,0]))}},{key:"mdia",value:function(t){return e.box(e.types.mdia,e.mdhd(t.timescale,t.duration),e.hdlr(t.type),e.minf(t))}},{key:"mfhd",value:function(t){return e.box(e.types.mfhd,new Uint8Array([0,0,0,0,t>>24,t>>16&255,t>>8&255,255&t]))}},{key:"minf",value:function(t){return"audio"===t.type?e.box(e.types.minf,e.box(e.types.smhd,e.SMHD),e.DINF,e.stbl(t)):e.box(e.types.minf,e.box(e.types.vmhd,e.VMHD),e.DINF,e.stbl(t))}},{key:"moof",value:function(t,r,i){return e.box(e.types.moof,e.mfhd(t),e.traf(i,r))}},{key:"moov",value:function(t){for(var r=t.length,i=[];r--;)i[r]=e.trak(t[r]);return e.box.apply(null,[e.types.moov,e.mvhd(t[0].timescale,t[0].duration)].concat(i).concat(e.mvex(t)))}},{key:"mvex",value:function(t){for(var r=t.length,i=[];r--;)i[r]=e.trex(t[r]);return e.box.apply(null,[e.types.mvex].concat(i))}},{key:"mvhd",value:function(t,r){r*=t;var i=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,2,t>>24&255,t>>16&255,t>>8&255,255&t,r>>24&255,r>>16&255,r>>8&255,255&r,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return e.box(e.types.mvhd,i)}},{key:"sdtp",value:function(t){var r,i,a=t.samples||[],n=new Uint8Array(4+a.length);for(i=0;i<a.length;i++)r=a[i].flags,n[i+4]=r.dependsOn<<4|r.isDependedOn<<2|r.hasRedundancy;return e.box(e.types.sdtp,n)}},{key:"stbl",value:function(t){return e.box(e.types.stbl,e.stsd(t),e.box(e.types.stts,e.STTS),e.box(e.types.stsc,e.STSC),e.box(e.types.stsz,e.STSZ),e.box(e.types.stco,e.STCO))}},{key:"avc1",value:function(t){var r,i,a,n=[],s=[];for(r=0;r<t.sps.length;r++)i=t.sps[r],a=i.byteLength,n.push(a>>>8&255),n.push(255&a),n=n.concat(Array.prototype.slice.call(i));for(r=0;r<t.pps.length;r++)i=t.pps[r],a=i.byteLength,s.push(a>>>8&255),s.push(255&a),s=s.concat(Array.prototype.slice.call(i));var o=e.box(e.types.avcC,new Uint8Array([1,n[3],n[4],n[5],255,224|t.sps.length].concat(n).concat([t.pps.length]).concat(s))),l=t.width,u=t.height,d=t.pixelRatio[0],f=t.pixelRatio[1];return e.box(e.types.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,l>>8&255,255&l,u>>8&255,255&u,0,72,0,0,0,72,0,0,0,0,0,0,0,1,18,100,97,105,108,121,109,111,116,105,111,110,47,104,108,115,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),o,e.box(e.types.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])),e.box(e.types.pasp,new Uint8Array([d>>24,d>>16&255,d>>8&255,255&d,f>>24,f>>16&255,f>>8&255,255&f])))}},{key:"esds",value:function(e){var t=e.config.length;return new Uint8Array([0,0,0,0,3,23+t,0,1,0,4,15+t,64,21,0,0,0,0,0,0,0,0,0,0,0,5].concat([t]).concat(e.config).concat([6,1,2]))}},{key:"mp4a",value:function(t){var r=t.audiosamplerate;return e.box(e.types.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,t.channelCount,0,16,0,0,0,0,r>>8&255,255&r,0,0]),e.box(e.types.esds,e.esds(t)))}},{key:"mp3",value:function(t){var r=t.audiosamplerate;return e.box(e.types[".mp3"],new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,t.channelCount,0,16,0,0,0,0,r>>8&255,255&r,0,0]))}},{key:"stsd",value:function(t){return"audio"===t.type?t.isAAC||"mp3"!==t.codec?e.box(e.types.stsd,e.STSD,e.mp4a(t)):e.box(e.types.stsd,e.STSD,e.mp3(t)):e.box(e.types.stsd,e.STSD,e.avc1(t))}},{key:"tkhd",value:function(t){var r=t.id,i=t.duration*t.timescale,a=t.width,n=t.height;return e.box(e.types.tkhd,new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,r>>24&255,r>>16&255,r>>8&255,255&r,0,0,0,0,i>>24,i>>16&255,i>>8&255,255&i,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,a>>8&255,255&a,0,0,n>>8&255,255&n,0,0]))}},{key:"traf",value:function(t,r){var i=e.sdtp(t),a=t.id;return e.box(e.types.traf,e.box(e.types.tfhd,new Uint8Array([0,0,0,0,a>>24,a>>16&255,a>>8&255,255&a])),e.box(e.types.tfdt,new Uint8Array([0,0,0,0,r>>24,r>>16&255,r>>8&255,255&r])),e.trun(t,i.length+16+16+8+16+8+8),i)}},{key:"trak",value:function(t){return t.duration=t.duration||4294967295,e.box(e.types.trak,e.tkhd(t),e.mdia(t))}},{key:"trex",value:function(t){var r=t.id;return e.box(e.types.trex,new Uint8Array([0,0,0,0,r>>24,r>>16&255,r>>8&255,255&r,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]))}},{key:"trun",value:function(t,r){var i,a,n,s,o,l,u=t.samples||[],d=u.length,f=12+16*d,c=new Uint8Array(f);for(r+=8+f,c.set([0,0,15,1,d>>>24&255,d>>>16&255,d>>>8&255,255&d,r>>>24&255,r>>>16&255,r>>>8&255,255&r],0),i=0;i<d;i++)a=u[i],n=a.duration,s=a.size,o=a.flags,l=a.cts,c.set([n>>>24&255,n>>>16&255,n>>>8&255,255&n,s>>>24&255,s>>>16&255,s>>>8&255,255&s,o.isLeading<<2|o.dependsOn,o.isDependedOn<<6|o.hasRedundancy<<4|o.paddingValue<<1|o.isNonSync,61440&o.degradPrio,15&o.degradPrio,l>>>24&255,l>>>16&255,l>>>8&255,255&l],12+16*i);return e.box(e.types.trun,c)}},{key:"initSegment",value:function(t){e.types||e.init();var r,i=e.moov(t);return r=new Uint8Array(e.FTYP.byteLength+i.byteLength),r.set(e.FTYP),r.set(i,e.FTYP.byteLength),r}}]),e}();r.default=n},{}],43:[function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(r,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}(),s=e(34),o=i(s),l=e(33),u=i(l),d=e(50),f=e(42),c=i(f),h=e(31),g=function(){function e(t,r,i){a(this,e),this.observer=t,this.config=r,this.typeSupported=i,this.ISGenerated=!1,this.PES2MP4SCALEFACTOR=4,this.PES_TIMESCALE=9e4,this.MP4_TIMESCALE=this.PES_TIMESCALE/this.PES2MP4SCALEFACTOR}return n(e,[{key:"destroy",value:function(){}},{key:"resetTimeStamp",value:function(e){this._initPTS=this._initDTS=e}},{key:"resetInitSegment",value:function(){this.ISGenerated=!1}},{key:"remux",value:function(e,t,r,i,a,n,s){if(this.ISGenerated||this.generateIS(e,t,a),this.ISGenerated)if(e.samples.length){var o=this.remuxAudio(e,a,n,s);if(t.samples.length){var l=void 0;o&&(l=o.endPTS-o.startPTS),this.remuxVideo(t,a,n,l)}}else{var d=void 0;t.samples.length&&(d=this.remuxVideo(t,a,n)),d&&e.codec&&this.remuxEmptyAudio(e,a,n,d)}r.samples.length&&this.remuxID3(r,a),i.samples.length&&this.remuxText(i,a),this.observer.trigger(u.default.FRAG_PARSED)}},{key:"generateIS",value:function(e,t,r){var i,a,n=this.observer,s=e.samples,o=t.samples,l=this.PES_TIMESCALE,f=this.typeSupported,g="audio/mp4",v={},p={tracks:v},y=void 0===this._initPTS;y&&(i=a=1/0),e.config&&s.length&&(e.timescale=e.audiosamplerate,e.timescale*e.duration>Math.pow(2,32)&&function(){var t=function e(t,r){return r?e(r,t%r):t};e.timescale=e.audiosamplerate/t(e.audiosamplerate,e.isAAC?1024:1152)}(),d.logger.log("audio mp4 timescale :"+e.timescale),e.isAAC||(f.mpeg?(g="audio/mpeg",e.codec=""):f.mp3&&(e.codec="mp3")),v.audio={container:g,codec:e.codec,initSegment:!e.isAAC&&f.mpeg?new Uint8Array:c.default.initSegment([e]),metadata:{channelCount:e.channelCount}},y&&(i=a=s[0].pts-l*r)),t.sps&&t.pps&&o.length&&(t.timescale=this.MP4_TIMESCALE,v.video={container:"video/mp4",codec:t.codec,initSegment:c.default.initSegment([t]),metadata:{width:t.width,height:t.height}},y&&(i=Math.min(i,o[0].pts-l*r),a=Math.min(a,o[0].dts-l*r),this.observer.trigger(u.default.INIT_PTS_FOUND,{initPTS:i}))),Object.keys(v).length?(n.trigger(u.default.FRAG_PARSING_INIT_SEGMENT,p),this.ISGenerated=!0,y&&(this._initPTS=i,this._initDTS=a)):n.trigger(u.default.ERROR,{type:h.ErrorTypes.MEDIA_ERROR,details:h.ErrorDetails.FRAG_PARSING_ERROR,fatal:!1,reason:"no audio/video samples found"})}},{key:"remuxVideo",value:function(e,t,r,i){var a,n,s,o,l,f,g,v=8,p=this.PES_TIMESCALE,y=this.PES2MP4SCALEFACTOR,m=e.samples,E=[],b=m.length,T=this._PTSNormalize,_=this._initDTS;m.sort(function(e,t){var r=e.dts-t.dts,i=e.pts-t.pts;return r?r:i?i:e.id-t.id});var k=m.reduce(function(e,t){return Math.max(Math.min(e,t.pts-t.dts),-18e3)},0);if(k<0){d.logger.warn("PTS < DTS detected in video samples, shifting DTS by "+Math.round(k/90)+" ms to overcome this issue");for(var R=0;R<m.length;R++)m[R].dts+=k}var A=void 0;A=r?this.nextAvcDts:t*p;var S=m[0];l=Math.max(T(S.dts-_,A),0),o=Math.max(T(S.pts-_,A),0);var L=Math.round((l-A)/90);r&&L&&(L>1?d.logger.log("AVC:"+L+" ms hole between fragments detected,filling it"):L<-1&&d.logger.log("AVC:"+-L+" ms overlapping between fragments detected"),l=A,m[0].dts=l+_,o=Math.max(o-L,A),m[0].pts=o+_,d.logger.log("Video/PTS/DTS adjusted: "+Math.round(o/90)+"/"+Math.round(l/90)+",delta:"+L+" ms")),S=m[m.length-1],g=Math.max(T(S.dts-_,A),0),f=Math.max(T(S.pts-_,A),0),f=Math.max(f,g);var w=navigator.vendor,D=navigator.userAgent,O=w&&w.indexOf("Apple")>-1&&D&&!D.match("CriOS");O&&(a=Math.round((g-l)/(y*(m.length-1))));for(var I=0,P=0,C=0;C<b;C++){for(var x=m[C],M=x.units,F=M.length,N=0,U=0;U<F;U++)N+=M[U].data.length;P+=N,I+=F,x.length=N,O?x.dts=l+C*y*a:(x.dts=Math.max(T(x.dts-_,A),l),x.dts=Math.round(x.dts/y)*y),x.pts=Math.max(T(x.pts-_,A),x.dts),x.pts=Math.round(x.pts/y)*y}var B=P+4*I+8;try{n=new Uint8Array(B)}catch(e){return void this.observer.trigger(u.default.ERROR,{type:h.ErrorTypes.MUX_ERROR,details:h.ErrorDetails.REMUX_ALLOC_ERROR,fatal:!1,bytes:B,reason:"fail allocating video mdat "+B})}var G=new DataView(n.buffer);G.setUint32(0,B),n.set(c.default.types.mdat,4);for(var j=0;j<b;j++){for(var H=m[j],K=H.units,W=0,V=void 0,Y=0,X=K.length;Y<X;Y++){var q=K[Y],z=q.data,Q=q.data.byteLength;G.setUint32(v,Q),v+=4,n.set(z,v),v+=Q,W+=4+Q}if(O)V=Math.max(0,a*Math.round((H.pts-H.dts)/(y*a)));else{if(j<b-1)a=m[j+1].dts-H.dts;else{var $=this.config,J=H.dts-m[j>0?j-1:j].dts;if($.stretchShortVideoTrack){var Z=$.maxBufferHole,ee=$.maxSeekHole,te=Math.floor(Math.min(Z,ee)*p),re=(i?o+i*p:this.nextAudioPts)-H.pts;re>te?(a=re-J,a<0&&(a=J),d.logger.log("It is approximately "+re/90+" ms to the next segment; using duration "+a/90+" ms for the last video frame.")):a=J}else a=J}a/=y,V=Math.round((H.pts-H.dts)/y)}E.push({size:W,duration:a,cts:V,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:H.key?2:1,isNonSync:H.key?0:1}})}this.nextAvcDts=g+a*y;var ie=e.dropped;if(e.len=0,e.nbNalu=0,e.dropped=0,E.length&&navigator.userAgent.toLowerCase().indexOf("chrome")>-1){var ae=E[0].flags;ae.dependsOn=2,ae.isNonSync=0}e.samples=E,s=c.default.moof(e.sequenceNumber++,l/y,e),e.samples=[];var ne={data1:s,data2:n,startPTS:o/p,endPTS:(f+y*a)/p,startDTS:l/p,endDTS:this.nextAvcDts/p,type:"video",nb:E.length,dropped:ie};return this.observer.trigger(u.default.FRAG_PARSING_DATA,ne),ne}},{key:"remuxAudio",value:function(e,t,r,i){var a,n,s,l,f,g,v,p,y,m,E,b,T,_,k,R,A=this.PES_TIMESCALE,S=e.timescale,L=A/S,w=e.timescale*(e.isAAC?1024:1152)/e.audiosamplerate,D=w*L,O=this._PTSNormalize,I=this._initDTS,P=!e.isAAC&&this.typeSupported.mpeg,C=P?0:8,x=[],M=[];if(e.samples.sort(function(e,t){return e.pts-t.pts}),M=e.samples,R=this.nextAudioPts,r|=M.length&&R&&(Math.abs(t-R/A)<.1||Math.abs(M[0].pts-R-this._initDTS)<20*D),r||(R=t*A),i&&e.isAAC)for(var F=0,N=R;F<M.length;){var U=M[F],B=O(U.pts-I,R),G=B-N;if(G<=-D)d.logger.warn("Dropping 1 audio frame @ "+Math.round(N/90)/1e3+"s due to "+Math.round(Math.abs(G/90))+" ms overlap."),M.splice(F,1),e.len-=U.unit.length;else if(G>=D&&N){var j=Math.round(G/D);d.logger.warn("Injecting "+j+" audio frame @ "+Math.round(N/90)/1e3+"s due to "+Math.round(G/90)+" ms gap.");for(var H=0;H<j;H++)k=N+I,k=Math.max(k,I),_=o.default.getSilentFrame(e.manifestCodec||e.codec,e.channelCount),_||(d.logger.log("Unable to get silent frame for given audio codec; duplicating last frame instead."),_=U.unit.subarray()),M.splice(F,0,{unit:_,pts:k,dts:k}),e.len+=_.length,N+=D,F+=1;U.pts=U.dts=N+I,N+=D,F+=1}else Math.abs(G),N+=D,U.pts=U.dts=0===F?I+R:M[F-1].pts+D,F+=1}for(var K=0,W=M.length;K<W;K++){if(n=M[K],l=n.unit,m=n.pts-I,E=n.dts-I,void 0!==y)b=O(m,y),T=O(E,y),s.duration=Math.round((T-y)/L);else{b=O(m,R),T=O(E,R);var V=Math.round(1e3*(b-R)/A),Y=0;if(r&&e.isAAC&&V){if(V>0)Y=Math.round((b-R)/D),d.logger.log(V+" ms hole between AAC samples detected,filling it"),Y>0&&(_=o.default.getSilentFrame(e.manifestCodec||e.codec,e.channelCount),_||(_=l.subarray()),e.len+=Y*_.length);else if(V<-12){d.logger.log(-V+" ms overlapping between AAC samples detected, drop frame"),e.len-=l.byteLength;continue}b=T=R}if(v=Math.max(0,b),p=Math.max(0,T),!(e.len>0))return;var X=P?e.len:e.len+8;try{f=new Uint8Array(X)}catch(e){return void this.observer.trigger(u.default.ERROR,{type:h.ErrorTypes.MUX_ERROR,details:h.ErrorDetails.REMUX_ALLOC_ERROR,fatal:!1,bytes:X,reason:"fail allocating audio mdat "+X})}P||(a=new DataView(f.buffer),a.setUint32(0,X),f.set(c.default.types.mdat,4));for(var q=0;q<Y;q++)k=b-(Y-q)*D,_=o.default.getSilentFrame(e.manifestCodec||e.codec,e.channelCount),_||(d.logger.log("Unable to get silent frame for given audio codec; duplicating this frame instead."),_=l.subarray()),f.set(_,C),C+=_.byteLength,s={size:_.byteLength,cts:0,duration:1024,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:1}},x.push(s)}f.set(l,C);var z=l.byteLength;C+=z,s={size:z,cts:0,duration:0,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:1}},x.push(s),y=T}var Q=0,$=x.length;if($>=2&&(Q=x[$-2].duration,s.duration=Q),$){this.nextAudioPts=b+L*Q,e.len=0,e.samples=x,g=P?new Uint8Array:c.default.moof(e.sequenceNumber++,p/L,e),e.samples=[];var J={data1:g,data2:f,startPTS:v/A,endPTS:this.nextAudioPts/A,startDTS:p/A,endDTS:(T+L*Q)/A,type:"audio",nb:$};return this.observer.trigger(u.default.FRAG_PARSING_DATA,J),J}return null}},{key:"remuxEmptyAudio",value:function(e,t,r,i){var a=this.PES_TIMESCALE,n=e.timescale?e.timescale:e.audiosamplerate,s=a/n,l=this.nextAudioPts,u=(void 0!==l?l:i.startDTS*a)+this._initDTS,f=i.endDTS*a+this._initDTS,c=1024*s,h=Math.ceil((f-u)/c),g=o.default.getSilentFrame(e.manifestCodec||e.codec,e.channelCount);if(d.logger.warn("remux empty Audio"),!g)return void d.logger.trace("Unable to remuxEmptyAudio since we were unable to get a silent frame for given audio codec!");for(var v=[],p=0;p<h;p++){var y=u+p*c;v.push({unit:g,pts:y,dts:y}),e.len+=g.length}e.samples=v,this.remuxAudio(e,t,r)}},{key:"remuxID3",value:function(e,t){var r,i=e.samples.length;if(i){for(var a=0;a<i;a++)r=e.samples[a],r.pts=(r.pts-this._initPTS)/this.PES_TIMESCALE,r.dts=(r.dts-this._initDTS)/this.PES_TIMESCALE;this.observer.trigger(u.default.FRAG_PARSING_METADATA,{samples:e.samples})}e.samples=[],t=t}},{key:"remuxText",value:function(e,t){e.samples.sort(function(e,t){return e.pts-t.pts});var r,i=e.samples.length;if(i){for(var a=0;a<i;a++)r=e.samples[a],r.pts=(r.pts-this._initPTS)/this.PES_TIMESCALE;this.observer.trigger(u.default.FRAG_PARSING_USERDATA,{samples:e.samples})}e.samples=[],t=t}},{key:"_PTSNormalize",value:function(e,t){var r;if(void 0===t)return e;for(r=t<e?-8589934592:8589934592;Math.abs(e-t)>4294967296;)e+=r;return e}}]),e}();r.default=g},{31:31,33:33,34:34,42:42,50:50}],44:[function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(r,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}(),s=e(33),o=i(s),l=function(){function e(t){a(this,e),this.observer=t}return n(e,[{key:"destroy",value:function(){}},{key:"resetTimeStamp",value:function(){}},{key:"resetInitSegment",value:function(){}},{key:"remux",value:function(e,t,r,i,a,n,s,l){var u=this.observer,d="";e&&(d+="audio"),t&&(d+="video"),u.trigger(o.default.FRAG_PARSING_DATA,{data1:l,startPTS:a,startDTS:a,type:d,nb:1,dropped:0}),u.trigger(o.default.FRAG_PARSED)}}]),e}();r.default=l},{33:33}],45:[function(e,t,r){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}(),n=/^(\d+)x(\d+)$/,s=/\s*(.+?)\s*=((?:\".*?\")|.*?)(?:,|$)/g,o=function(){function e(t){i(this,e),"string"==typeof t&&(t=e.parseAttrList(t));for(var r in t)t.hasOwnProperty(r)&&(this[r]=t[r])}return a(e,[{key:"decimalInteger",value:function(e){var t=parseInt(this[e],10);return t>Number.MAX_SAFE_INTEGER?1/0:t}},{key:"hexadecimalInteger",value:function(e){if(this[e]){var t=(this[e]||"0x").slice(2);t=(1&t.length?"0":"")+t;for(var r=new Uint8Array(t.length/2),i=0;i<t.length/2;i++)r[i]=parseInt(t.slice(2*i,2*i+2),16);return r}return null}},{key:"hexadecimalIntegerAsNumber",value:function(e){var t=parseInt(this[e],16);return t>Number.MAX_SAFE_INTEGER?1/0:t}},{key:"decimalFloatingPoint",value:function(e){return parseFloat(this[e])}},{key:"enumeratedString",value:function(e){return this[e]}},{key:"decimalResolution",value:function(e){var t=n.exec(this[e]);if(null!==t)return{width:parseInt(t[1],10),height:parseInt(t[2],10)}}}],[{key:"parseAttrList",value:function(e){var t,r={};for(s.lastIndex=0;null!==(t=s.exec(e));){var i=t[2];0===i.indexOf('"')&&i.lastIndexOf('"')===i.length-1&&(i=i.slice(1,-1)),r[t[1]]=i}return r}}]),e}();r.default=o},{}],46:[function(e,t,r){"use strict";var i={search:function(e,t){for(var r=0,i=e.length-1,a=null,n=null;r<=i;){a=(r+i)/2|0,n=e[a];var s=t(n);if(s>0)r=a+1;else{if(!(s<0))return n;i=a-1}}return null}};t.exports=i},{}],47:[function(e,t,r){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}(),n={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,128:174,129:176,130:189,131:191,132:8482,133:162,134:163,135:9834,136:224,137:32,138:232,139:226,140:234,141:238,142:244,143:251,144:193,145:201,146:211,147:218,148:220,149:252,150:8216,151:161,152:42,153:8217,154:9473,155:169,156:8480,157:8226,158:8220,159:8221,160:192,161:194,162:199,163:200,164:202,165:203,166:235,167:206,168:207,169:239,170:212,171:217,172:249,173:219,174:171,175:187,176:195,177:227,178:205,179:204,180:236,181:210,182:242,183:213,184:245,185:123,186:125,187:92,188:94,189:95,190:124,191:8764,192:196,193:228,194:214,195:246,196:223,197:165,198:164,199:9475,200:197,201:229,202:216,203:248,204:9487,205:9491,206:9495,207:9499},s=function(e){var t=e;return n.hasOwnProperty(e)&&(t=n[e]),String.fromCharCode(t)},o={17:1,18:3,21:5,22:7,23:9,16:11,19:12,20:14},l={17:2,18:4,21:6,22:8,23:10,19:13,20:15},u={25:1,26:3,29:5,30:7,31:9,24:11,27:12,28:14},d={25:2,26:4,29:6,30:8,31:10,27:13,28:15},f=["white","green","blue","cyan","red","yellow","magenta","black","transparent"],c={verboseFilter:{DATA:3,DEBUG:3,INFO:2,WARNING:2,TEXT:1,ERROR:0},time:null,verboseLevel:0,setTime:function(e){this.time=e},log:function(e,t){this.verboseFilter[e];this.verboseLevel}},h=function(e){for(var t=[],r=0;r<e.length;r++)t.push(e[r].toString(16));return t},g=function(){function e(t,r,a,n,s){i(this,e),this.foreground=t||"white",this.underline=r||!1,this.italics=a||!1,this.background=n||"black",this.flash=s||!1}return a(e,[{key:"reset",value:function(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1}},{key:"setStyles",value:function(e){for(var t=["foreground","underline","italics","background","flash"],r=0;r<t.length;r++){var i=t[r];e.hasOwnProperty(i)&&(this[i]=e[i])}}},{key:"isDefault",value:function(){return"white"===this.foreground&&!this.underline&&!this.italics&&"black"===this.background&&!this.flash}},{key:"equals",value:function(e){return this.foreground===e.foreground&&this.underline===e.underline&&this.italics===e.italics&&this.background===e.background&&this.flash===e.flash}},{key:"copy",value:function(e){this.foreground=e.foreground,this.underline=e.underline,this.italics=e.italics,this.background=e.background,this.flash=e.flash}},{key:"toString",value:function(){
return"color="+this.foreground+", underline="+this.underline+", italics="+this.italics+", background="+this.background+", flash="+this.flash}}]),e}(),v=function(){function e(t,r,a,n,s,o){i(this,e),this.uchar=t||" ",this.penState=new g(r,a,n,s,o)}return a(e,[{key:"reset",value:function(){this.uchar=" ",this.penState.reset()}},{key:"setChar",value:function(e,t){this.uchar=e,this.penState.copy(t)}},{key:"setPenState",value:function(e){this.penState.copy(e)}},{key:"equals",value:function(e){return this.uchar===e.uchar&&this.penState.equals(e.penState)}},{key:"copy",value:function(e){this.uchar=e.uchar,this.penState.copy(e.penState)}},{key:"isEmpty",value:function(){return" "===this.uchar&&this.penState.isDefault()}}]),e}(),p=function(){function e(){i(this,e),this.chars=[];for(var t=0;t<100;t++)this.chars.push(new v);this.pos=0,this.currPenState=new g}return a(e,[{key:"equals",value:function(e){for(var t=!0,r=0;r<100;r++)if(!this.chars[r].equals(e.chars[r])){t=!1;break}return t}},{key:"copy",value:function(e){for(var t=0;t<100;t++)this.chars[t].copy(e.chars[t])}},{key:"isEmpty",value:function(){for(var e=!0,t=0;t<100;t++)if(!this.chars[t].isEmpty()){e=!1;break}return e}},{key:"setCursor",value:function(e){this.pos!==e&&(this.pos=e),this.pos<0?(c.log("ERROR","Negative cursor position "+this.pos),this.pos=0):this.pos>100&&(c.log("ERROR","Too large cursor position "+this.pos),this.pos=100)}},{key:"moveCursor",value:function(e){var t=this.pos+e;if(e>1)for(var r=this.pos+1;r<t+1;r++)this.chars[r].setPenState(this.currPenState);this.setCursor(t)}},{key:"backSpace",value:function(){this.moveCursor(-1),this.chars[this.pos].setChar(" ",this.currPenState)}},{key:"insertChar",value:function(e){e>=144&&this.backSpace();var t=s(e);if(this.pos>=100)return void c.log("ERROR","Cannot insert "+e.toString(16)+" ("+t+") at position "+this.pos+". Skipping it!");this.chars[this.pos].setChar(t,this.currPenState),this.moveCursor(1)}},{key:"clearFromPos",value:function(e){var t;for(t=e;t<100;t++)this.chars[t].reset()}},{key:"clear",value:function(){this.clearFromPos(0),this.pos=0,this.currPenState.reset()}},{key:"clearToEndOfRow",value:function(){this.clearFromPos(this.pos)}},{key:"getTextString",value:function(){for(var e=[],t=!0,r=0;r<100;r++){var i=this.chars[r].uchar;" "!==i&&(t=!1),e.push(i)}return t?"":e.join("")}},{key:"setPenStyles",value:function(e){this.currPenState.setStyles(e),this.chars[this.pos].setPenState(this.currPenState)}}]),e}(),y=function(){function e(){i(this,e),this.rows=[];for(var t=0;t<15;t++)this.rows.push(new p);this.currRow=14,this.nrRollUpRows=null,this.reset()}return a(e,[{key:"reset",value:function(){for(var e=0;e<15;e++)this.rows[e].clear();this.currRow=14}},{key:"equals",value:function(e){for(var t=!0,r=0;r<15;r++)if(!this.rows[r].equals(e.rows[r])){t=!1;break}return t}},{key:"copy",value:function(e){for(var t=0;t<15;t++)this.rows[t].copy(e.rows[t])}},{key:"isEmpty",value:function(){for(var e=!0,t=0;t<15;t++)if(!this.rows[t].isEmpty()){e=!1;break}return e}},{key:"backSpace",value:function(){this.rows[this.currRow].backSpace()}},{key:"clearToEndOfRow",value:function(){this.rows[this.currRow].clearToEndOfRow()}},{key:"insertChar",value:function(e){this.rows[this.currRow].insertChar(e)}},{key:"setPen",value:function(e){this.rows[this.currRow].setPenStyles(e)}},{key:"moveCursor",value:function(e){this.rows[this.currRow].moveCursor(e)}},{key:"setCursor",value:function(e){c.log("INFO","setCursor: "+e),this.rows[this.currRow].setCursor(e)}},{key:"setPAC",value:function(e){c.log("INFO","pacData = "+JSON.stringify(e));var t=e.row-1;if(this.nrRollUpRows&&t<this.nrRollUpRows-1&&(t=this.nrRollUpRows-1),this.nrRollUpRows&&this.currRow!==t){for(var r=0;r<15;r++)this.rows[r].clear();var i=this.currRow+1-this.nrRollUpRows,a=this.lastOutputScreen;if(a){var n=a.rows[i].cueStartTime;if(n&&n<c.time)for(var s=0;s<this.nrRollUpRows;s++)this.rows[t-this.nrRollUpRows+s+1].copy(a.rows[i+s])}}this.currRow=t;var o=this.rows[this.currRow];if(null!==e.indent){var l=e.indent,u=Math.max(l-1,0);o.setCursor(e.indent),e.color=o.chars[u].penState.foreground}var d={foreground:e.color,underline:e.underline,italics:e.italics,background:"black",flash:!1};this.setPen(d)}},{key:"setBkgData",value:function(e){c.log("INFO","bkgData = "+JSON.stringify(e)),this.backSpace(),this.setPen(e),this.insertChar(32)}},{key:"setRollUpRows",value:function(e){this.nrRollUpRows=e}},{key:"rollUp",value:function(){if(null===this.nrRollUpRows)return void c.log("DEBUG","roll_up but nrRollUpRows not set yet");c.log("TEXT",this.getDisplayText());var e=this.currRow+1-this.nrRollUpRows,t=this.rows.splice(e,1)[0];t.clear(),this.rows.splice(this.currRow,0,t),c.log("INFO","Rolling up")}},{key:"getDisplayText",value:function(e){e=e||!1;for(var t=[],r="",i=-1,a=0;a<15;a++){var n=this.rows[a].getTextString();n&&(i=a+1,e?t.push("Row "+i+": '"+n+"'"):t.push(n.trim()))}return t.length>0&&(r=e?"["+t.join(" | ")+"]":t.join("\n")),r}},{key:"getTextAndFormat",value:function(){return this.rows}}]),e}(),m=function(){function e(t,r){i(this,e),this.chNr=t,this.outputFilter=r,this.mode=null,this.verbose=0,this.displayedMemory=new y,this.nonDisplayedMemory=new y,this.lastOutputScreen=new y,this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null}return a(e,[{key:"reset",value:function(){this.mode=null,this.displayedMemory.reset(),this.nonDisplayedMemory.reset(),this.lastOutputScreen.reset(),this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null,this.lastCueEndTime=null}},{key:"getHandler",value:function(){return this.outputFilter}},{key:"setHandler",value:function(e){this.outputFilter=e}},{key:"setPAC",value:function(e){this.writeScreen.setPAC(e)}},{key:"setBkgData",value:function(e){this.writeScreen.setBkgData(e)}},{key:"setMode",value:function(e){e!==this.mode&&(this.mode=e,c.log("INFO","MODE="+e),"MODE_POP-ON"===this.mode?this.writeScreen=this.nonDisplayedMemory:(this.writeScreen=this.displayedMemory,this.writeScreen.reset()),"MODE_ROLL-UP"!==this.mode&&(this.displayedMemory.nrRollUpRows=null,this.nonDisplayedMemory.nrRollUpRows=null),this.mode=e)}},{key:"insertChars",value:function(e){for(var t=0;t<e.length;t++)this.writeScreen.insertChar(e[t]);var r=this.writeScreen===this.displayedMemory?"DISP":"NON_DISP";c.log("INFO",r+": "+this.writeScreen.getDisplayText(!0)),"MODE_PAINT-ON"!==this.mode&&"MODE_ROLL-UP"!==this.mode||(c.log("TEXT","DISPLAYED: "+this.displayedMemory.getDisplayText(!0)),this.outputDataUpdate())}},{key:"ccRCL",value:function(){c.log("INFO","RCL - Resume Caption Loading"),this.setMode("MODE_POP-ON")}},{key:"ccBS",value:function(){c.log("INFO","BS - BackSpace"),"MODE_TEXT"!==this.mode&&(this.writeScreen.backSpace(),this.writeScreen===this.displayedMemory&&this.outputDataUpdate())}},{key:"ccAOF",value:function(){}},{key:"ccAON",value:function(){}},{key:"ccDER",value:function(){c.log("INFO","DER- Delete to End of Row"),this.writeScreen.clearToEndOfRow(),this.outputDataUpdate()}},{key:"ccRU",value:function(e){c.log("INFO","RU("+e+") - Roll Up"),this.writeScreen=this.displayedMemory,this.setMode("MODE_ROLL-UP"),this.writeScreen.setRollUpRows(e)}},{key:"ccFON",value:function(){c.log("INFO","FON - Flash On"),this.writeScreen.setPen({flash:!0})}},{key:"ccRDC",value:function(){c.log("INFO","RDC - Resume Direct Captioning"),this.setMode("MODE_PAINT-ON")}},{key:"ccTR",value:function(){c.log("INFO","TR"),this.setMode("MODE_TEXT")}},{key:"ccRTD",value:function(){c.log("INFO","RTD"),this.setMode("MODE_TEXT")}},{key:"ccEDM",value:function(){c.log("INFO","EDM - Erase Displayed Memory"),this.displayedMemory.reset(),this.outputDataUpdate()}},{key:"ccCR",value:function(){c.log("CR - Carriage Return"),this.writeScreen.rollUp(),this.outputDataUpdate()}},{key:"ccENM",value:function(){c.log("INFO","ENM - Erase Non-displayed Memory"),this.nonDisplayedMemory.reset()}},{key:"ccEOC",value:function(){if(c.log("INFO","EOC - End Of Caption"),"MODE_POP-ON"===this.mode){var e=this.displayedMemory;this.displayedMemory=this.nonDisplayedMemory,this.nonDisplayedMemory=e,this.writeScreen=this.nonDisplayedMemory,c.log("TEXT","DISP: "+this.displayedMemory.getDisplayText())}this.outputDataUpdate()}},{key:"ccTO",value:function(e){c.log("INFO","TO("+e+") - Tab Offset"),this.writeScreen.moveCursor(e)}},{key:"ccMIDROW",value:function(e){var t={flash:!1};if(t.underline=e%2===1,t.italics=e>=46,t.italics)t.foreground="white";else{var r=Math.floor(e/2)-16,i=["white","green","blue","cyan","red","yellow","magenta"];t.foreground=i[r]}c.log("INFO","MIDROW: "+JSON.stringify(t)),this.writeScreen.setPen(t)}},{key:"outputDataUpdate",value:function(){var e=c.time;null!==e&&this.outputFilter&&(this.outputFilter.updateData&&this.outputFilter.updateData(e,this.displayedMemory),null!==this.cueStartTime||this.displayedMemory.isEmpty()?this.displayedMemory.equals(this.lastOutputScreen)||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,e,this.lastOutputScreen),this.cueStartTime=this.displayedMemory.isEmpty()?null:e):this.cueStartTime=e,this.lastOutputScreen.copy(this.displayedMemory))}},{key:"cueSplitAtTime",value:function(e){this.outputFilter&&(this.displayedMemory.isEmpty()||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,e,this.displayedMemory),this.cueStartTime=e))}}]),e}(),E=function(){function e(t,r,a){i(this,e),this.field=t||1,this.outputs=[r,a],this.channels=[new m(1,r),new m(2,a)],this.currChNr=-1,this.lastCmdA=null,this.lastCmdB=null,this.bufferedData=[],this.startTime=null,this.lastTime=null,this.dataCounters={padding:0,char:0,cmd:0,other:0}}return a(e,[{key:"getHandler",value:function(e){return this.channels[e].getHandler()}},{key:"setHandler",value:function(e,t){this.channels[e].setHandler(t)}},{key:"addData",value:function(e,t){var r,i,a,n=!1;this.lastTime=e,c.setTime(e);for(var s=0;s<t.length;s+=2)if(i=127&t[s],a=127&t[s+1],0!==i||0!==a){if(c.log("DATA","["+h([t[s],t[s+1]])+"] -> ("+h([i,a])+")"),r=this.parseCmd(i,a),r||(r=this.parseMidrow(i,a)),r||(r=this.parsePAC(i,a)),r||(r=this.parseBackgroundAttributes(i,a)),!r&&(n=this.parseChars(i,a)))if(this.currChNr&&this.currChNr>=0){var o=this.channels[this.currChNr-1];o.insertChars(n)}else c.log("WARNING","No channel found yet. TEXT-MODE?");r?this.dataCounters.cmd+=2:n?this.dataCounters.char+=2:(this.dataCounters.other+=2,c.log("WARNING","Couldn't parse cleaned data "+h([i,a])+" orig: "+h([t[s],t[s+1]])))}else this.dataCounters.padding+=2}},{key:"parseCmd",value:function(e,t){var r=null,i=(20===e||28===e)&&32<=t&&t<=47,a=(23===e||31===e)&&33<=t&&t<=35;if(!i&&!a)return!1;if(e===this.lastCmdA&&t===this.lastCmdB)return this.lastCmdA=null,this.lastCmdB=null,c.log("DEBUG","Repeated command ("+h([e,t])+") is dropped"),!0;r=20===e||23===e?1:2;var n=this.channels[r-1];return 20===e||28===e?32===t?n.ccRCL():33===t?n.ccBS():34===t?n.ccAOF():35===t?n.ccAON():36===t?n.ccDER():37===t?n.ccRU(2):38===t?n.ccRU(3):39===t?n.ccRU(4):40===t?n.ccFON():41===t?n.ccRDC():42===t?n.ccTR():43===t?n.ccRTD():44===t?n.ccEDM():45===t?n.ccCR():46===t?n.ccENM():47===t&&n.ccEOC():n.ccTO(t-32),this.lastCmdA=e,this.lastCmdB=t,this.currChNr=r,!0}},{key:"parseMidrow",value:function(e,t){var r=null;if((17===e||25===e)&&32<=t&&t<=47){if(r=17===e?1:2,r!==this.currChNr)return c.log("ERROR","Mismatch channel in midrow parsing"),!1;return this.channels[r-1].ccMIDROW(t),c.log("DEBUG","MIDROW ("+h([e,t])+")"),!0}return!1}},{key:"parsePAC",value:function(e,t){var r=null,i=null,a=(17<=e&&e<=23||25<=e&&e<=31)&&64<=t&&t<=127,n=(16===e||24===e)&&64<=t&&t<=95;if(!a&&!n)return!1;if(e===this.lastCmdA&&t===this.lastCmdB)return this.lastCmdA=null,this.lastCmdB=null,!0;r=e<=23?1:2,i=64<=t&&t<=95?1===r?o[e]:u[e]:1===r?l[e]:d[e];var s=this.interpretPAC(i,t);return this.channels[r-1].setPAC(s),this.lastCmdA=e,this.lastCmdB=t,this.currChNr=r,!0}},{key:"interpretPAC",value:function(e,t){var r=t,i={color:null,italics:!1,indent:null,underline:!1,row:e};return r=t>95?t-96:t-64,i.underline=1===(1&r),r<=13?i.color=["white","green","blue","cyan","red","yellow","magenta","white"][Math.floor(r/2)]:r<=15?(i.italics=!0,i.color="white"):i.indent=4*Math.floor((r-16)/2),i}},{key:"parseChars",value:function(e,t){var r=null,i=null,a=null;if(e>=25?(r=2,a=e-8):(r=1,a=e),17<=a&&a<=19){var n=t;n=17===a?t+80:18===a?t+112:t+144,c.log("INFO","Special char '"+s(n)+"' in channel "+r),i=[n]}else 32<=e&&e<=127&&(i=0===t?[e]:[e,t]);if(i){var o=h(i);c.log("DEBUG","Char codes =  "+o.join(",")),this.lastCmdA=null,this.lastCmdB=null}return i}},{key:"parseBackgroundAttributes",value:function(e,t){var r,i,a,n,s=(16===e||24===e)&&32<=t&&t<=47,o=(23===e||31===e)&&45<=t&&t<=47;return!(!s&&!o)&&(r={},16===e||24===e?(i=Math.floor((t-32)/2),r.background=f[i],t%2===1&&(r.background=r.background+"_semi")):45===t?r.background="transparent":(r.foreground="black",47===t&&(r.underline=!0)),a=e<24?1:2,n=this.channels[a-1],n.setBkgData(r),this.lastCmdA=null,this.lastCmdB=null,!0)}},{key:"reset",value:function(){for(var e=0;e<this.channels.length;e++)this.channels[e]&&this.channels[e].reset();this.lastCmdA=null,this.lastCmdB=null}},{key:"cueSplitAtTime",value:function(e){for(var t=0;t<this.channels.length;t++)this.channels[t]&&this.channels[t].cueSplitAtTime(e)}}]),e}();r.default=E},{}],48:[function(e,t,r){"use strict";var i=e(53),a={newCue:function(e,t,r,a){for(var n,s,o,l,u,d=window.VTTCue||window.TextTrackCue,f=0;f<a.rows.length;f++)if(n=a.rows[f],o=!0,l=0,u="",!n.isEmpty()){for(var c=0;c<n.chars.length;c++)n.chars[c].uchar.match(/\s/)&&o?l++:(u+=n.chars[c].uchar,o=!1);n.cueStartTime=t,s=new d(t,r,(0,i.fixLineBreaks)(u.trim())),l>=16?l--:l++,navigator.userAgent.match(/Firefox\//)?s.line=f+1:s.line=f>7?f-2:f+1,s.align="left",s.position=Math.max(0,Math.min(100,100*(l/32)+(navigator.userAgent.match(/Firefox\//)?50:0))),e.addCue(s)}}};t.exports=a},{53:53}],49:[function(e,t,r){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}(),n=function(){function e(t){i(this,e),this.alpha_=t?Math.exp(Math.log(.5)/t):0,this.estimate_=0,this.totalWeight_=0}return a(e,[{key:"sample",value:function(e,t){var r=Math.pow(this.alpha_,e);this.estimate_=t*(1-r)+r*this.estimate_,this.totalWeight_+=e}},{key:"getTotalWeight",value:function(){return this.totalWeight_}},{key:"getEstimate",value:function(){if(this.alpha_){var e=1-Math.pow(this.alpha_,this.totalWeight_);return this.estimate_/e}return this.estimate_}}]),e}();r.default=n},{}],50:[function(e,t,r){"use strict";function i(){}function a(e,t){return t="["+e+"] > "+t}function n(e){var t=self.console[e];return t?function(){for(var r=arguments.length,i=Array(r),n=0;n<r;n++)i[n]=arguments[n];i[0]&&(i[0]=a(e,i[0])),t.apply(self.console,i)}:i}function s(e){for(var t=arguments.length,r=Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];r.forEach(function(t){u[t]=e[t]?e[t].bind(e):n(t)})}Object.defineProperty(r,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l={trace:i,debug:i,log:i,warn:i,info:i,error:i},u=l;r.enableLogs=function(e){if(e===!0||"object"===(void 0===e?"undefined":o(e))){s(e,"debug","log","info","warn","error");try{u.log()}catch(e){u=l}}else u=l},r.logger=u},{}],51:[function(e,t,r){"use strict";var i={toString:function(e){for(var t="",r=e.length,i=0;i<r;i++)t+="["+e.start(i).toFixed(3)+","+e.end(i).toFixed(3)+"]";return t}};t.exports=i},{}],52:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(){function e(e){return"string"==typeof e&&(!!a[e.toLowerCase()]&&e.toLowerCase())}function t(e){return"string"==typeof e&&(!!n[e.toLowerCase()]&&e.toLowerCase())}function r(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)e[i]=r[i]}return e}function i(i,a,n){var s=this,o=function(){if("undefined"!=typeof navigator)return/MSIE\s8\.0/.test(navigator.userAgent)}(),l={};o?s=document.createElement("custom"):l.enumerable=!0,s.hasBeenReset=!1;var u="",d=!1,f=i,c=a,h=n,g=null,v="",p=!0,y="auto",m="start",E=50,b="middle",T=50,_="middle";if(Object.defineProperty(s,"id",r({},l,{get:function(){return u},set:function(e){u=""+e}})),Object.defineProperty(s,"pauseOnExit",r({},l,{get:function(){return d},set:function(e){d=!!e}})),Object.defineProperty(s,"startTime",r({},l,{get:function(){return f},set:function(e){if("number"!=typeof e)throw new TypeError("Start time must be set to a number.");f=e,this.hasBeenReset=!0}})),Object.defineProperty(s,"endTime",r({},l,{get:function(){return c},set:function(e){if("number"!=typeof e)throw new TypeError("End time must be set to a number.");c=e,this.hasBeenReset=!0}})),Object.defineProperty(s,"text",r({},l,{get:function(){return h},set:function(e){h=""+e,this.hasBeenReset=!0}})),Object.defineProperty(s,"region",r({},l,{get:function(){return g},set:function(e){g=e,this.hasBeenReset=!0}})),Object.defineProperty(s,"vertical",r({},l,{get:function(){return v},set:function(t){var r=e(t);if(r===!1)throw new SyntaxError("An invalid or illegal string was specified.");v=r,this.hasBeenReset=!0}})),Object.defineProperty(s,"snapToLines",r({},l,{get:function(){return p},set:function(e){p=!!e,this.hasBeenReset=!0}})),Object.defineProperty(s,"line",r({},l,{get:function(){return y},set:function(e){if("number"!=typeof e&&"auto"!==e)throw new SyntaxError("An invalid number or illegal string was specified.");y=e,this.hasBeenReset=!0}})),Object.defineProperty(s,"lineAlign",r({},l,{get:function(){return m},set:function(e){var r=t(e);if(!r)throw new SyntaxError("An invalid or illegal string was specified.");m=r,this.hasBeenReset=!0}})),Object.defineProperty(s,"position",r({},l,{get:function(){return E},set:function(e){if(e<0||e>100)throw new Error("Position must be between 0 and 100.");E=e,this.hasBeenReset=!0}})),Object.defineProperty(s,"positionAlign",r({},l,{get:function(){return b},set:function(e){var r=t(e);if(!r)throw new SyntaxError("An invalid or illegal string was specified.");b=r,this.hasBeenReset=!0}})),Object.defineProperty(s,"size",r({},l,{get:function(){return T},set:function(e){if(e<0||e>100)throw new Error("Size must be between 0 and 100.");T=e,this.hasBeenReset=!0}})),Object.defineProperty(s,"align",r({},l,{get:function(){return _},set:function(e){var r=t(e);if(!r)throw new SyntaxError("An invalid or illegal string was specified.");_=r,this.hasBeenReset=!0}})),s.displayState=void 0,o)return s}if("undefined"!=typeof window&&window.VTTCue)return window.VTTCue;var a={"":!0,lr:!0,rl:!0},n={start:!0,middle:!0,end:!0,left:!0,right:!0};return i.prototype.getCueAsHTML=function(){return window.WebVTT.convertCueToDOMTree(window,this.text)},i}()},{}],53:[function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function a(){this.window=window,this.state="INITIAL",this.buffer="",this.decoder=new c,this.regionList=[]}function n(e){function t(e,t,r,i){return 3600*(0|e)+60*(0|t)+(0|r)+(0|i)/1e3}var r=e.match(/^(\d+):(\d{2})(:\d{2})?\.(\d{3})/);return r?r[3]?t(r[1],r[2],r[3].replace(":",""),r[4]):r[1]>59?t(r[1],r[2],0,r[4]):t(0,r[1],r[2],r[4]):null}function s(){this.values=Object.create(null)}function o(e,t,r,i){var a=i?e.split(i):[e];for(var n in a)if("string"==typeof a[n]){var s=a[n].split(r);if(2===s.length){var o=s[0],l=s[1];t(o,l)}}}function l(e,t,r){function i(){var t=n(e);if(null===t)throw new Error("Malformed timestamp: "+u);return e=e.replace(/^[^\sa-zA-Z-]+/,""),t}function a(e,t){var i=new s;o(e,function(e,t){switch(e){case"region":for(var a=r.length-1;a>=0;a--)if(r[a].id===t){i.set(e,r[a].region);break}break;case"vertical":i.alt(e,t,["rl","lr"]);break;case"line":var n=t.split(","),s=n[0];i.integer(e,s),i.percent(e,s)&&i.set("snapToLines",!1),i.alt(e,s,["auto"]),2===n.length&&i.alt("lineAlign",n[1],["start",g,"end"]);break;case"position":n=t.split(","),i.percent(e,n[0]),2===n.length&&i.alt("positionAlign",n[1],["start",g,"end","line-left","line-right","auto"]);break;case"size":i.percent(e,t);break;case"align":i.alt(e,t,["start",g,"end","left","right"])}},/:/,/\s/),t.region=i.get("region",null),t.vertical=i.get("vertical","");var a=i.get("line","auto");"auto"===a&&h.line===-1&&(a=-1),t.line=a,t.lineAlign=i.get("lineAlign","start"),t.snapToLines=i.get("snapToLines",!0),t.size=i.get("size",100),t.align=i.get("align",g);var n=i.get("position","auto");"auto"===n&&50===h.position&&(n="start"===t.align||"left"===t.align?0:"end"===t.align||"right"===t.align?100:50),t.position=n}function l(){e=e.replace(/^\s+/,"")}var u=e;if(l(),t.startTime=i(),l(),"-->"!==e.substr(0,3))throw new Error("Malformed time stamp (time stamps must be separated by '-->'): "+u);e=e.substr(3),l(),t.endTime=i(),l(),a(e,t)}function u(e){return e.replace(/<br(?: \/)?>/gi,"\n")}Object.defineProperty(r,"__esModule",{value:!0}),r.fixLineBreaks=void 0;var d=e(52),f=i(d),c=function(){return{decode:function(e){if(!e)return"";if("string"!=typeof e)throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(e))}}};s.prototype={set:function(e,t){this.get(e)||""===t||(this.values[e]=t)},get:function(e,t,r){return r?this.has(e)?this.values[e]:t[r]:this.has(e)?this.values[e]:t},has:function(e){return e in this.values},alt:function(e,t,r){for(var i=0;i<r.length;++i)if(t===r[i]){this.set(e,t);break}},integer:function(e,t){/^-?\d+$/.test(t)&&this.set(e,parseInt(t,10))},percent:function(e,t){return!!(t.match(/^([\d]{1,3})(\.[\d]*)?%$/)&&(t=parseFloat(t),t>=0&&t<=100))&&(this.set(e,t),!0)}};var h=new f.default(0,0,0),g="middle"===h.align?"middle":"center";a.prototype={parse:function(e){function t(){var e=i.buffer,t=0;for(e=u(e);t<e.length&&"\r"!==e[t]&&"\n"!==e[t];)++t;var r=e.substr(0,t);return"\r"===e[t]&&++t,"\n"===e[t]&&++t,i.buffer=e.substr(t),r}function r(e){o(e,function(e,t){switch(e){case"Region":}},/:/)}var i=this;e&&(i.buffer+=i.decoder.decode(e,{stream:!0}));try{var a;if("INITIAL"===i.state){if(!/\r\n|\n/.test(i.buffer))return this;a=t();var n=a.match(/^WEBVTT([ \t].*)?$/);if(!n||!n[0])throw new Error("Malformed WebVTT signature.");i.state="HEADER"}for(var s=!1;i.buffer;){if(!/\r\n|\n/.test(i.buffer))return this;switch(s?s=!1:a=t(),i.state){case"HEADER":/:/.test(a)?r(a):a||(i.state="ID");continue;case"NOTE":a||(i.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(a)){i.state="NOTE";break}if(!a)continue;if(i.cue=new f.default(0,0,""),i.state="CUE",a.indexOf("-->")===-1){i.cue.id=a;continue}case"CUE":try{l(a,i.cue,i.regionList)}catch(e){i.cue=null,i.state="BADCUE";continue}i.state="CUETEXT";continue;case"CUETEXT":var d=a.indexOf("-->")!==-1;if(!a||d&&(s=!0)){i.oncue&&i.oncue(i.cue),i.cue=null,i.state="ID";continue}i.cue.text&&(i.cue.text+="\n"),i.cue.text+=a;continue;case"BADCUE":a||(i.state="ID");continue}}}catch(e){"CUETEXT"===i.state&&i.cue&&i.oncue&&i.oncue(i.cue),i.cue=null,i.state="INITIAL"===i.state?"BADWEBVTT":"BADCUE"}return this},flush:function(){var e=this;try{if(e.buffer+=e.decoder.decode(),(e.cue||"HEADER"===e.state)&&(e.buffer+="\n\n",e.parse()),"INITIAL"===e.state)throw new Error("Malformed WebVTT signature.")}catch(e){throw e}return e.onflush&&e.onflush(),this}},r.fixLineBreaks=u,r.default=a},{52:52}],54:[function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var a=e(53),n=i(a),s=function(e){var t=parseInt(e.substr(-3)),r=parseInt(e.substr(-6,2)),i=parseInt(e.substr(-9,2)),a=e.length>9?parseInt(e.substr(0,e.indexOf(":"))):0;return isNaN(t)||isNaN(r)||isNaN(i)||isNaN(a)?-1:(t+=1e3*r,t+=6e4*i,t+=36e5*a)},o=function(e,t,r){var i=e[t],a=e[i.prevCC];if(!a||!a.new&&i.new)return e.ccOffset=e.presentationOffset=i.start,void(i.new=!1);for(;a&&a.new;)e.ccOffset+=i.start-a.start,i.new=!1,i=a,a=e[i.prevCC];e.presentationOffset=r},l={parse:function(e,t,r,i,a,l){var u=String.fromCharCode.apply(null,new Uint8Array(e)).trim().replace(/\r\n|\n\r|\n|\r/g,"\n").split("\n"),d="00:00.000",f=0,c=0,h=0,g=[],v=void 0,p=!0,y=new n.default;y.oncue=function(e){var t=r[i],a=r.ccOffset;t&&t.new&&(c?a=r.ccOffset=t.start:o(r,i,h)),h&&!c&&(a=h+r.ccOffset-r.presentationOffset),e.startTime+=a-c,e.endTime+=a-c,e.text=decodeURIComponent(escape(e.text)),e.endTime>0&&g.push(e)},y.onparsingerror=function(e){v=e},y.onflush=function(){if(v&&l)return void l(v);a(g)},u.forEach(function(e){if(p){if(e.startsWith("X-TIMESTAMP-MAP=")){p=!1,e.substr(16).split(",").forEach(function(e){e.startsWith("LOCAL:")?d=e.substr(6):e.startsWith("MPEGTS:")&&(f=parseInt(e.substr(7)))});try{t=t<0?t+8589934592:t,f-=t,c=s(d)/1e3,h=f/9e4,c===-1&&(v=new Error("Malformed X-TIMESTAMP-MAP: "+e))}catch(t){v=new Error("Malformed X-TIMESTAMP-MAP: "+e)}return}""===e&&(p=!1)}y.parse(e+"\n")}),y.flush()}};t.exports=l},{53:53}],55:[function(e,t,r){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}(),n=e(50),s=function(){function e(t){i(this,e),t&&t.xhrSetup&&(this.xhrSetup=t.xhrSetup)}return a(e,[{key:"destroy",value:function(){this.abort(),this.loader=null}},{key:"abort",value:function(){var e=this.loader;e&&4!==e.readyState&&(this.stats.aborted=!0,e.abort()),window.clearTimeout(this.requestTimeout),this.requestTimeout=null,window.clearTimeout(this.retryTimeout),this.retryTimeout=null}},{key:"load",value:function(e,t,r){this.context=e,this.config=t,this.callbacks=r,this.stats={trequest:performance.now(),retry:0},this.retryDelay=t.retryDelay,this.loadInternal()}},{key:"loadInternal",value:function(){var e,t=this.context;e="undefined"!=typeof XDomainRequest?this.loader=new XDomainRequest:this.loader=new XMLHttpRequest,e.onreadystatechange=this.readystatechange.bind(this),e.onprogress=this.loadprogress.bind(this),e.open("GET",t.url,!0),t.rangeEnd&&e.setRequestHeader("Range","bytes="+t.rangeStart+"-"+(t.rangeEnd-1)),e.responseType=t.responseType;var r=this.stats;r.tfirst=0,r.loaded=0,this.xhrSetup&&this.xhrSetup(e,t.url),this.requestTimeout=window.setTimeout(this.loadtimeout.bind(this),this.config.timeout),e.send()}},{key:"readystatechange",value:function(e){var t=e.currentTarget,r=t.readyState,i=this.stats,a=this.context,s=this.config;if(!i.aborted&&r>=2)if(window.clearTimeout(this.requestTimeout),0===i.tfirst&&(i.tfirst=Math.max(performance.now(),i.trequest)),4===r){var o=t.status;if(o>=200&&o<300){i.tload=Math.max(i.tfirst,performance.now());var l=void 0,u=void 0;"arraybuffer"===a.responseType?(l=t.response,u=l.byteLength):(l=t.responseText,u=l.length),i.loaded=i.total=u;var d={url:t.responseURL,data:l};this.callbacks.onSuccess(d,i,a)}else i.retry>=s.maxRetry||o>=400&&o<499?(n.logger.error(o+" while loading "+a.url),this.callbacks.onError({code:o,text:t.statusText},a)):(n.logger.warn(o+" while loading "+a.url+", retrying in "+this.retryDelay+"..."),this.destroy(),this.retryTimeout=window.setTimeout(this.loadInternal.bind(this),this.retryDelay),this.retryDelay=Math.min(2*this.retryDelay,s.maxRetryDelay),i.retry++)}else this.requestTimeout=window.setTimeout(this.loadtimeout.bind(this),s.timeout)}},{key:"loadtimeout",value:function(){n.logger.warn("timeout while loading "+this.context.url),this.callbacks.onTimeout(this.stats,this.context)}},{key:"loadprogress",value:function(e){var t=this.stats;t.loaded=e.loaded,e.lengthComputable&&(t.total=e.total);var r=this.callbacks.onProgress;r&&r(t,this.context,null)}}]),e}();r.default=s},{50:50}]},{},[38])(38)});
!function(){"use strict";var e=function(e,r){var a,t="hlsjs",o=r.common,i=r.extend,n=r.support,s=n.browser,l=r.version,u=0===l.indexOf("6."),d=window,c=d.MediaSource||d.WebKitMediaSource,f=d.performance,p=function(e){return e.toLowerCase().indexOf("mpegurl")>-1},v=function(e){var r=e.clip&&e.clip.hlsQualities||e.hlsQualities;return n.inlineVideo&&(r===!0||r&&r.length)},h=function(n,h){var g,b,y,m,k,E,w,L=r.bean,C="is-seeking",O="is-poster",q=function(e,r,a){if(e.debug&&console.log("recovery."+t,"<-",r),o.removeClass(h,"is-paused"),o.addClass(h,C),a)b.startLoad();else{var i=f.now();!m||i-m>3e3?(m=f.now(),b.recoverMediaError()):(!k||i-k>3e3)&&(k=f.now(),b.swapAudioCodec(),b.recoverMediaError())}y>0&&(y-=1),L.one(g,"seeked."+t,function(){g.paused&&(o.removeClass(h,O),n.poster=!1,g.play()),o.removeClass(h,C)})},x=function(e,r,a){var t={code:e};return e>2&&(t.video=i(n.video,{src:r,url:a||r})),t},R=function(){L.one(g,"timeupdate."+t,function(){o.addClass(h,O),n.poster=!0})},A=function(){u&&n.poster&&L.one(g,"timeupdate."+t,function(){o.removeClass(h,O),n.poster=!1})},S=0,N="active",T=function(e){return e||(e=n.quality),e.toLowerCase().replace(/\ /g,"")},M=function(){var e=n.qualities;e&&e.length&&(o.removeClass(h,"quality-abr"),e.forEach(function(e){o.removeClass(h,"quality-"+T(e))}))},P=function(){u&&(delete n.hlsQualities,M(),o.find(".fp-quality-selector",h).forEach(o.removeNode))},D=function(){return n.hlsQualities[n.qualities.indexOf(n.quality)+1]},_=-1,I=function(e,r,a){var i,s=a.levels,l=[],d=[],f=0;if(P(),"drive"===e)switch(s.length){case 4:l=[1,2,3];break;case 5:l=[1,2,3,4];break;case 6:l=[1,3,4,5];break;case 7:l=[1,3,5,6];break;case 8:l=[1,3,6,7];break;default:if(s.length<3||s[0].height&&s[2].height&&s[0].height===s[2].height)return;l=[1,2]}else if("string"==typeof e?e.split(/\s*,\s*/).forEach(function(e){d.push(parseInt(e,10))}):"boolean"!=typeof e&&e.forEach(function(e){d.push(isNaN(Number(e))?e.level:e)}),s.forEach(function(r){(e===!0||d.indexOf(f)>-1)&&(!r.videoCodec||r.videoCodec&&c.isTypeSupported("video/mp4;codecs="+r.videoCodec))&&l.push(f),f+=1}),l.length<2)return;return u?n.qualities=[]:(("drive"===e||e===!0||d.indexOf(-1)>-1)&&l.unshift(-1),n.video.qualities=[]),l.forEach(function(r){var a=s[r],t=d.length?e[d.indexOf(r)]:r,o="Level "+(r+1);r<0?o=t.label||"Auto":t.label?o=t.label:(a.width&&a.height&&(o=Math.min(a.width,a.height)+"p"),!u&&"drive"!==e&&a.bitrate&&(o+=" ("+Math.round(a.bitrate/1e3)+"k)")),u?n.qualities.push(o):n.video.qualities.push({value:r,label:o})}),u?(i=o.createElement("ul",{class:"fp-quality-selector"}),o.find(".fp-ui",h)[0].appendChild(i),l.unshift(-1),n.hlsQualities=l,!n.quality||n.qualities.indexOf(n.quality)<0?n.quality="abr":(b.startLevel=D(),b.loadLevel=b.startLevel),i.appendChild(o.createElement("li",{"data-quality":"abr"},"Auto")),n.qualities.forEach(function(e){i.appendChild(o.createElement("li",{"data-quality":T(e)},e))}),o.addClass(h,"quality-"+T()),void L.on(h,"click."+t,".fp-quality-selector li",function(e){var a,i,s,l=e.currentTarget,u=r.smoothSwitching,d=g.paused;if(!o.hasClass(l,N)){for(d||u||L.one(g,"pause."+t,function(){o.removeClass(h,"is-paused")}),a=o.find(".fp-quality-selector li",h),s=0;s<a.length;s+=1)i=a[s]===l,i&&(n.quality=s>0?n.qualities[s-1]:"abr",u&&!n.poster?b.nextLevel=D():b.currentLevel=D(),o.addClass(l,N),d&&g.play()),o.toggleClass(a[s],N,i);M(),o.addClass(h,"quality-"+T())}})):(_>-1||l.indexOf(-1)<0?(b.startLevel=l.indexOf(_)<0?l[0]:_,b.loadLevel=b.startLevel,n.video.quality=b.startLevel):n.video.quality=l.indexOf(_)<0?l[0]:_,void(_=n.video.quality))},Q={engineName:t,pick:function(e){var r,a;for(r=0;r<e.length;r+=1)if(a=e[r],p(a.type))return"string"==typeof a.src&&(a.src=o.createAbsoluteUrl(a.src)),a},load:function(r){var l=n.conf,c={ended:"finish",loadeddata:"ready",pause:"pause",play:"resume",progress:"buffer",ratechange:"speed",seeked:"seek",timeupdate:"progress",volumechange:"volume",error:"error"},f=e.Events,p=!!r.autoplay||!!l.autoplay,E="is-loading",w=r.hlsQualities||l.hlsQualities,O=i(a,l.hlsjs,r.hlsjs),T=i({},O);r.hlsQualities===!1&&(w=!1),b?(b.destroy(),(n.video.src&&r.src!==n.video.src||r.index)&&o.attr(g,"autoplay","autoplay")):(g=o.findDirect("video",h)[0]||o.find(".fp-player > video",h)[0],g&&(o.find("source",g).forEach(function(e){e.removeAttribute("src")}),g.removeAttribute("src"),g.load(),o.removeNode(g)),g=o.createElement("video",{class:"fp-engine "+t+"-engine",autoplay:!!p&&"autoplay",volume:n.volumeLevel,"x-webkit-airplay":"allow"}),Object.keys(c).forEach(function(e){var a,s=c[e],d=e+"."+t;L.on(g,d,function(e){l.debug&&s.indexOf("progress")<0&&console.log(d,"->",s,e.originalEvent);var c,p,v,y=g.currentTime,m=g.seekable,k=n.video,E=k.seekOffset,w=n.dvr&&b.liveSyncPosition,C=g.buffered,R=0,T=0,M=k.src,P=!1,D=k.loop,_=n.quality;switch(s){case"ready":a=i(k,{duration:g.duration,seekable:m.length&&m.end(null),width:g.videoWidth,height:g.videoHeight,url:M});break;case"resume":A(),O.bufferWhilePaused||b.startLoad(y);break;case"seek":A(),!O.bufferWhilePaused&&g.paused&&(b.stopLoad(),g.pause()),a=y;break;case"pause":O.bufferWhilePaused||b.stopLoad();break;case"progress":n.dvr&&w&&(k.duration=w,n.trigger("dvrwindow",[n,{start:E,end:w}]),y<E&&(g.currentTime=E)),a=y;break;case"speed":a=g.playbackRate;break;case"volume":a=g.volume;break;case"buffer":try{if(R=C.length&&C.end(null),y&&R)for(c=C.length-1;c>-1;c-=1)T=C.end(c),T>=y&&(R=T)}catch(e){}r.buffer=R,a=R;break;case"finish":O.bufferWhilePaused&&b.autoLevelEnabled&&(D||l.playlist.length<2||l.advance===!1)&&(P=!b.levels[S].details,P||b.levels[S].details.fragments.forEach(function(e){P=!!P||!e.loadCounter}),P&&(b.trigger(f.BUFFER_FLUSHING,{startOffset:0,endOffset:.9*k.duration}),b.nextLoadLevel=S,S=0,D||L.one(g,"play."+t,function(){g.currentTime>=g.duration&&(g.currentTime=0)})));break;case"error":if(v=g.error&&g.error.code,O.recoverMediaError&&(3===v||!v)||O.recoverNetworkError&&2===v||O.recover&&(2===v||3===v))return e.preventDefault(),void q(l,s,2===v);a=x(v,M)}n.trigger(s,[n,a]),u&&"ready"===s&&_&&(p="abr"===_?0:n.qualities.indexOf(_)+1,o.addClass(o.find(".fp-quality-selector li",h)[p],N))})}),n.on("error."+t,function(){b&&n.engine.unload()}),O.bufferWhilePaused||n.on("beforeseek."+t,function(e,r,a){r.paused&&(L.one(g,"seeked."+t,function(){g.pause()}),b.startLoad(a))}),u?l.poster&&(n.on("stop."+t,R),!n.live||p||n.video.autoplay||L.one(g,"seeked."+t,R)):n.on("quality."+t,function(e,r,a){O.smoothSwitching?b.nextLevel=a:b.currentLevel=a,_=a}),o.prepend(o.find(".fp-player",h)[0],g)),n.video=r,S=0,Object.keys(O).forEach(function(r){e.DefaultConfig.hasOwnProperty(r)||delete T[r];var a=O[r];switch(r){case"adaptOnStartOnly":a&&(T.startLevel=-1);break;case"autoLevelCapping":a===!1&&(a=-1),T[r]=a;break;case"startLevel":switch(a){case"auto":a=-1;break;case"firstLevel":a=void 0}T[r]=a;break;case"recover":O.recoverMediaError=!1,O.recoverNetworkError=!1,y=a;break;case"strict":a&&(O.recoverMediaError=!1,O.recoverNetworkError=!1,y=0)}}),T.autoStartLoad=!1,b=new e(T),n.engine[t]=b,m=null,k=null,Object.keys(f).forEach(function(r){var a=f[r],i=O.listeners,s=i&&i.indexOf(a)>-1;b.on(a,function(a,i){var c,f={},p=e.ErrorTypes,m=e.ErrorDetails,k=n.video,E=k.src;switch(r){case"MEDIA_ATTACHED":b.loadSource(E);break;case"MANIFEST_PARSED":!v(l)||!u&&n.pluginQualitySelectorEnabled?u&&delete n.quality:w?I(w,O,i):P(),b.startLoad(b.config.startPosition);break;case"FRAG_LOADED":O.bufferWhilePaused&&!n.live&&b.autoLevelEnabled&&b.nextLoadLevel>S&&(S=b.nextLoadLevel);break;case"FRAG_PARSING_METADATA":if(u)return;i.samples.forEach(function(e){var r;r=function(){if(!(g.currentTime<e.dts)){L.off(g,"timeupdate."+t,r);var a,o=d.TextDecoder;a=o&&"function"==typeof o?new o("utf-8").decode(e.unit):decodeURIComponent(encodeURIComponent(String.fromCharCode.apply(null,e.unit))),n.trigger("metadata",[n,{key:a.substr(10,4),data:a}])}},L.on(g,"timeupdate."+t,r)});break;case"LEVEL_UPDATED":n.dvr&&(n.video.seekOffset=i.details.fragments[0].start+b.config.nudgeOffset);break;case"ERROR":if(i.fatal||O.strict){switch(i.type){case p.NETWORK_ERROR:O.recoverNetworkError||y?q(l,i.type,!0):i.frag&&i.frag.url?(f.url=i.frag.url,c=2):c=4;break;case p.MEDIA_ERROR:O.recoverMediaError||y?q(l,i.type):c=3;break;default:c=5}void 0!==c&&(f=x(c,E,i.url),n.trigger("error",[n,f]))}else i.details===m.FRAG_LOOP_LOADING_ERROR&&o.addClass(h,C)}s&&n.trigger(a,[n,i])})}),O.adaptOnStartOnly&&L.one(g,"timeupdate."+t,function(){b.loadLevel=b.loadLevel}),p&&s.safari&&L.on(g,"canplaythrough."+t,function(){o.addClass(h,E),L.one(g,"timeupdate."+t,function(){o.removeClass(h,E)})}),b.attachMedia(g),p&&g.paused&&g.play()},resume:function(){g.play()},pause:function(){g.pause()},seek:function(e){g.currentTime=e},volume:function(e){g&&(g.volume=e)},speed:function(e){g.playbackRate=e,n.trigger("speed",[n,e])},unload:function(){if(b){var e="."+t;b.destroy(),b=0,P(),n.off(e),L.off(h,e),L.off(g,e),o.removeNode(g),g=0}}};return!/^6\.0\.[0-3]$/.test(l)||n.conf.splash||n.conf.poster||n.conf.autoplay||(E=o.css(h,"backgroundColor"),w="none"!==o.css(h,"backgroundImage")||E&&"rgba(0, 0, 0, 0)"!==E&&"transparent"!==E,w&&(n.conf.poster=!0)),Q};e.isSupported()&&0!==l.indexOf("5.")&&(h.engineName=t,h.canPlay=function(e,r){return r[t]!==!1&&r.clip[t]!==!1&&(a=i({bufferWhilePaused:!0,smoothSwitching:!0,recoverMediaError:!0},r[t],r.clip[t]),p(e)&&(!s.safari||a.safari))},r.engines.unshift(h),u&&r(function(e){e.pluginQualitySelectorEnabled=v(e.conf)&&h.canPlay("application/x-mpegurl",e.conf)}))};"object"==typeof module&&module.exports?module.exports=e.bind(void 0,require("hls.js")):window.Hls&&window.flowplayer&&e(window.Hls,window.flowplayer)}();
/*@
  @end
@*/

/*!

   Comscore JS
   comScore - JS - 6.2 .3 .180328

*/

!function(n){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=n();else if("function"==typeof define&&define.amd)define([],n);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).ns_=n()}}(function(){return function o(u,s,a){function f(e,n){if(!s[e]){if(!u[e]){var t="function"==typeof require&&require;if(!n&&t)return t(e,!0);if(c)return c(e,!0);var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}var r=s[e]={exports:{}};u[e][0].call(r.exports,function(n){var t=u[e][1][n];return f(t||n)},r,r.exports,o,u,s,a)}return s[e].exports}for(var c="function"==typeof require&&require,n=0;n<a.length;n++)f(a[n]);return f}({1:[function(n,t,e){var a=n(24),f=n(26),c=n(36);t.exports=function(t){var n=this,e=!1,i=-1,r=null;function o(n){i=n,t.t().set("plannedFlushTime",n+"")}function u(){t.flush(),o(-1),n.i()}function s(){r&&(c.clearTimeout(r),r=null)}a.extend(n,{start:function(){e=!0,!r&&0<t.getCacheFlushingInterval()&&null!=t.getCustomerC2()&&(t.t().has("plannedFlushTime")&&(i=f.o(t.t().get("plannedFlushTime"),-1)),n.i())},stop:function(){e=!1,s()},update:function(){0<t.getCacheFlushingInterval()&&null!=t.getCustomerC2()?!r&&e?(o(-1),n.start()):null!=r&&(o(0<t.getCacheFlushingInterval()?+new Date+1e3*t.getCacheFlushingInterval():-1),r&&(c.clearTimeout(r),n.i())):(o(-1),s())},i:function(){i<0&&o(+new Date+1e3*t.getCacheFlushingInterval()),r=c.setTimeout(u,i-+new Date)}})}},{24:24,26:26,36:36}],2:[function(n,t,e){var i=n(5),r=n(8).TransmissionMode,o=n(8).u,u=new i,s={TransmissionMode:r,getCore:function(){return u},setAppContext:function(n){u.setAppContext(n)},setEnabled:function(n){u.setEnabled(n)},getEnabled:function(){return u.getEnabled()},onUxActive:function(){u.onUxActive()},onUxInactive:function(){u.onUxInactive()},onEnterForeground:function(){u.onEnterForeground()},onExitForeground:function(){u.onExitForeground()},onUserInteraction:function(){u.onUserInteraction()},update:function(){u.update()},enableAutoUpdate:function(n,t){u.enableAutoUpdate(n,void 0===t||t)},disableAutoUpdate:function(){u.disableAutoUpdate()},isAutoUpdateEnabled:function(){return u.isAutoUpdateEnabled()},start:function(n){u.s(o.l,n||{})},view:function(n){u.s(o.v,n||{})},hidden:function(n){u.s(o.HIDDEN,n||{})},close:function(n){u.s(o.h,n)},aggregate:function(n){u.s(o._,n)},getPixelURL:function(){return u.getPixelURL()},setPixelURL:function(n){u.setPixelURL(n)},getCustomerC2:function(){return u.getCustomerC2()},setCustomerC2:function(n){u.setCustomerC2(n)},getAppName:function(){return u.getAppName()},setAppName:function(n){u.setAppName(n)},getAppVersion:function(){return u.getAppVersion()},setAppVersion:function(n){u.setAppVersion(n)},getGenesis:function(){return u.getGenesis()},getVisitorID:function(){return u.getVisitorId()},setVisitorId:function(n,t){u.setVisitorId(n,t)},getCrossPublisherId:function(){return u.getCrossPublisherId()},getOfflineTransmissionMode:function(){return u.getOfflineTransmissionMode()},allowOfflineTransmission:function(n){u.allowOfflineTransmission(n)},getLiveTransmissionMode:function(){return u.getLiveTransmissionMode()},allowLiveTransmission:function(n){u.allowLiveTransmission(n)},getPublisherSecret:function(){return u.g()},setPublisherSecret:function(n){u.m(n)},flushCache:function(){u.flush()},clearOfflineCache:function(){u.I().clear()},setLabel:function(n,t){u.setLabel(n,t)},getLabel:function(n){return u.getLabel(n)},setLabels:function(n){u.setLabels(n)},getLabels:function(){return u.getLabels()},setAutoStartLabels:function(n){u.setAutoStartLabels(n)},getAutoStartLabel:function(n){return u.getAutoStartLabel(n)},getAutoStartLabels:function(){return u.getAutoStartLabels()},setAutoStartLabel:function(n,t){u.setAutoStartLabel(n,t)},isKeepAliveEnabled:function(){return u.S().isEnabled()},setKeepAliveEnabled:function(n){u.setKeepAliveEnabled(!!n)},setCacheMaxMeasurements:function(n){u.setCacheMaxMeasurements(n)},getCacheMaxMeasurements:function(){return u.getCacheMaxMeasurements()},setCacheMaxBatchFiles:function(n){u.setCacheMaxBatchFiles(n)},getCacheMaxBatchFiles:function(){return u.getCacheMaxBatchFiles()},setCacheMaxFlushesInARow:function(n){u.setCacheMaxFlushesInARow(n)},getCacheMaxFlushesInARow:function(){return u.getCacheMaxFlushesInARow()},setCacheMinutesToRetry:function(n){u.setCacheMinutesToRetry(n)},getCacheMinutesToRetry:function(){return u.getCacheMinutesToRetry()},setCacheMeasurementExpiry:function(n){u.setCacheMeasurementExpiry(n)},getCacheMeasurementExpiry:function(){return u.getCacheMeasurementExpiry()},getCacheFlushingInterval:function(){return u.getCacheFlushingInterval()},setCacheFlushingInterval:function(n){u.setCacheFlushingInterval(n)},setSecure:function(n){u.setSecure(n)},isSecure:function(){return u.isSecure()},getMeasurementLabelOrder:function(){return u.getMeasurementLabelOrder()},setMeasurementLabelOrder:function(n){u.setMeasurementLabelOrder(n)},setAutoStartEnabled:function(n){u.setAutoStartEnabled(n)},isAutoStartEnabled:function(){return u.isAutoStartEnabled()},getVersion:function(){return u.getVersion()},getPlatformAPI:function(){return u.getPlatformAPI()},setPlatformAPI:function(n){u.setPlatformAPI(n)},setOfflineURL:function(n){u.setOfflineURL(n)},clearInternalData:function(){u.clearInternalData()},cacheHttpRedirects:function(){u.cacheHttpRedirects()}};t.exports=s},{5:5,8:8}],3:[function(n,t,e){var p=n(24),v=n(36),d=n(8).TransmissionMode,h=30;t.exports=function(t){var e,i=1e3,r=!1,o=null,u=null,s=-1;function a(){t.flush(),s=-1,o=null}function f(){o&&(v.clearTimeout(o),o=null)}function c(n){var t=+new Date;r?(f(),(s<t||s<0||!n)&&(s=t+1e3*h),o=v.setTimeout(a,s-t)):s<0&&(s=t+1e3*h)}function l(){var n=v.isConnectionAvailable();n!=e&&((e=n)?t.getOfflineTransmissionMode()!=d.NEVER&&t.getOfflineTransmissionMode()!=d.DISABLED&&c(!1):(f(),s=-1)),r&&(u=v.setTimeout(l,i))}p.extend(this,{start:function(){r=!0,e&&0<s&&c(!0),u=v.setTimeout(l,i)},stop:function(){v.clearTimeout(u),u=null,r=!1,f()}})}},{24:24,36:36,8:8}],4:[function(n,t,e){t.exports={PAGE_NAME_LABEL:"name",P:2048,A:4096,C:"previousVersion",k:["c1","c2","ca2","cb2","cc2","cd2","ns_site","ca_ns_site","cb_ns_site","cc_ns_site","cd_ns_site","ns_vsite","ca_ns_vsite","cb_ns_vsite","cc_ns_vsite","cd_ns_vsite","ns_alias","ca_ns_alias","cb_ns_alias","cc_ns_alias","cd_ns_alias","ns_ap_an","ca_ns_ap_an","cb_ns_ap_an","cc_ns_ap_an","cd_ns_ap_an","ns_ap_pn","ns_ap_pv","c12","ca12","cb12","cc12","cd12","ns_ak","ns_ap_hw","name","ns_ap_ni","ns_ap_ec","ns_ap_ev","ns_ap_device","ns_ap_id","ns_ap_csf","ns_ap_bi","ns_ap_pfm","ns_ap_pfv","ns_ap_ver","ca_ns_ap_ver","cb_ns_ap_ver","cc_ns_ap_ver","cd_ns_ap_ver","ns_ap_sv","ns_ap_bv","ns_ap_cv","ns_ap_smv","ns_type","ca_ns_type","cb_ns_type","cc_ns_type","cd_ns_type","ns_radio","ns_nc","cs_partner","cs_xcid","cs_impid","ns_ap_ui","ca_ns_ap_ui","cb_ns_ap_ui","cc_ns_ap_ui","cd_ns_ap_ui","ns_ap_gs","ns_ap_ie","ns_st_sv","ns_st_pv","ns_st_smv","ns_st_it","ns_st_id","ns_st_ec","ns_st_sp","ns_st_sc","ns_st_psq","ns_st_asq","ns_st_sq","ns_st_ppc","ns_st_apc","ns_st_spc","ns_st_atpc","ns_st_cn","ns_st_ev","ns_st_po","ns_st_cl","ns_st_el","ns_st_sl","ns_st_pb","ns_st_hc","ns_st_mp","ca_ns_st_mp","cb_ns_st_mp","cc_ns_st_mp","cd_ns_st_mp","ns_st_mv","ca_ns_st_mv","cb_ns_st_mv","cc_ns_st_mv","cd_ns_st_mv","ns_st_pn","ns_st_tp","ns_st_ad","ns_st_li","ns_st_ci","ns_st_si","ns_st_pt","ns_st_dpt","ns_st_ipt","ns_st_ap","ns_st_dap","ns_st_et","ns_st_det","ns_st_upc","ns_st_dupc","ns_st_iupc","ns_st_upa","ns_st_dupa","ns_st_iupa","ns_st_lpc","ns_st_dlpc","ns_st_lpa","ns_st_dlpa","ns_st_pa","ns_st_ldw","ns_st_ldo","ns_st_ie","ns_ap_jb","ns_ap_et","ns_ap_res","ns_ap_sd","ns_ap_po","ns_ap_ot","ns_ap_c12m","cs_c12u","ca_cs_c12u","cb_cs_c12u","cc_cs_c12u","cd_cs_c12u","ns_ap_install","ns_ap_updated","ns_ap_lastrun","ns_ap_cs","ns_ap_runs","ns_ap_usage","ns_ap_fg","ns_ap_ft","ns_ap_dft","ns_ap_bt","ns_ap_dbt","ns_ap_dit","ns_ap_as","ns_ap_das","ns_ap_it","ns_ap_uc","ns_ap_aus","ns_ap_daus","ns_ap_us","ns_ap_dus","ns_ap_ut","ns_ap_oc","ns_ap_uxc","ns_ap_uxs","ns_ap_lang","ns_ap_ar","ns_ap_miss","ns_ts","ns_ap_cfg","ns_ap_env","ns_ap_ais","ns_st_ca","ns_st_cp","ns_st_er","ca_ns_st_er","cb_ns_st_er","cc_ns_st_er","cd_ns_st_er","ns_st_pe","ns_st_ui","ca_ns_st_ui","cb_ns_st_ui","cc_ns_st_ui","cd_ns_st_ui","ns_st_bc","ns_st_dbc","ns_st_bt","ns_st_dbt","ns_st_bp","ns_st_lt","ns_st_skc","ns_st_dskc","ns_st_ska","ns_st_dska","ns_st_skd","ns_st_skt","ns_st_dskt","ns_st_pc","ns_st_dpc","ns_st_pp","ns_st_br","ns_st_pbr","ns_st_rt","ns_st_prt","ns_st_ub","ns_st_vo","ns_st_pvo","ns_st_ws","ns_st_pws","ns_st_ki","ns_st_rp","ns_st_bn","ns_st_tb","ns_st_an","ns_st_ta","ns_st_pl","ns_st_pr","ns_st_tpr","ns_st_sn","ns_st_en","ns_st_ep","ns_st_tep","ns_st_sr","ns_st_ty","ns_st_ct","ns_st_cs","ns_st_ge","ns_st_st","ns_st_stc","ns_st_ce","ns_st_ia","ns_st_dt","ns_st_ddt","ns_st_tdt","ns_st_tm","ns_st_dtm","ns_st_ttm","ns_st_de","ns_st_pu","ns_st_ti","ns_st_cu","ns_st_fee","ns_st_ft","ns_st_at","ns_st_pat","ns_st_vt","ns_st_pvt","ns_st_tt","ns_st_ptt","ns_st_cdn","ns_st_pcdn","ns_st_amg","ns_st_ami","ns_st_amp","ns_st_amt","ns_st_ams","ns_ap_i1","ns_ap_i2","ns_ap_i3","ns_ap_i4","ns_ap_i5","ns_ap_i6","ns_ap_referrer","ns_clid","ns_campaign","ns_source","ns_mchannel","ns_linkname","ns_fee","gclid","utm_campaign","utm_source","utm_medium","utm_term","utm_content","ns_ecommerce","ns_ec_sv","ns_client_id","ns_order_id","ns_ec_cur","ns_orderline_id","ns_orderlines","ns_prod_id","ns_qty","ns_prod_price","ns_prod_grp","ns_brand","ns_shop","ns_category","category","ns_c","ns_search_term","ns_search_result","ns_m_exp","ns_m_chs","c3","ca3","cb3","cc3","cd3","c4","ca4","cb4","cc4","cd4","c5","ca5","cb5","cc5","cd5","c6","ca6","cb6","cc6","cd6","c10","c11","c13","c14","c15","c16","c7","c8","c9","ns_ap_er","ns_st_amc"]}},{}],5:[function(n,t,e){var Pn=n(8).T,An=n(8).N,Cn=n(4),kn=n(26),i=n(17),En=n(8).u,Tn=n(36),Nn=n(21),Ln=n(24),Dn=n(22),Rn=n(25),Mn=n(6),On=n(11),Wn=n(7),Vn=n(9),xn=n(12).L,Un=n(1),Bn=n(3),Fn="undefined",jn=i.D,Gn="6.2.3.180328",Kn="http://b.scorecardresearch.com/p2?",qn="https://sb.scorecardresearch.com/p2?",Hn=18e5,Yn=3e5,Jn=60,zn="exitCode",Qn="lastApplicationAccumulationTimestamp",Xn="lastSessionAccumulationTimestamp",Zn="lastApplicationSessionTimestamp",$n="lastUserSessionTimestamp",nt="lastActiveUserSessionTimestamp",tt="foregroundTransitionsCount",et="accumulatedForegroundTime",it="accumulatedBackgroundTime",rt="accumulatedInactiveTime",ot="totalForegroundTime",ut="totalBackgroundTime",st="totalInactiveTime",at="accumulatedApplicationSessionTime",ft="accumulatedActiveUserSessionTime",ct="accumulatedUserSessionTime",lt="activeUserSessionCount",pt="userSessionCount",vt="lastUserInteractionTimestamp",dt="userInteractionCount",ht="applicationSessionCountKey",_t="genesis",gt="previousGenesis",mt="installId",wt="firstInstallId",yt="currentVersion",bt="runs",It="coldStartCount",St="vid",Pt="crossPublisherIdHashed",At="crossPublisherId";t.exports=function(){var t,r,s,a,f,c,e,i,o,u,l,n,p,v,d,h,_,g,m,w,y,b,I,S,P,A,C,k,E,T,N,L,D,R,M,O,W,V,x,U,B,F,j,G,K,q,H,Y,J,z,Q,X,Z,$,nn=this,tn=!0,en=!1,rn=!0,on=Pn.R,un=An.R,sn=!1,an=!1,fn=!1,cn=!0,ln=!1,pn=0;function vn(){nn.M(),f=new Wn(nn),s=new Vn(nn),nn.O(),nn.W(),nn.V(),o=new On(nn),e=new Mn,function(){T=kn.o(r.get(Qn),-1),F=kn.o(r.get(Xn),-1),W=kn.o(r.get(Zn),-1),V=kn.o(r.get($n),-1),x=kn.o(r.get(nt),-1),y=kn.U(r.get(tt)),A=kn.o(r.get(et)),P=kn.o(r.get(it)),C=kn.o(r.get(rt)),b=kn.o(r.get(ot)),I=kn.o(r.get(ut)),S=kn.o(r.get(st)),N=kn.o(r.get(at)),D=kn.o(r.get(ft)),L=kn.o(r.get(ct)),O=kn.U(r.get(lt),-1),M=kn.U(r.get(pt),-1),B=kn.o(r.get(vt),-1),U=kn.U(r.get(dt),0),R=kn.U(r.get(ht),0),z=r.get(zn)?parseInt(r.get(zn)):0,h=Tn.getAppVersion(),E=kn.o(r.get(gt),0),(k=kn.o(r.get(_t),-1))<0?(k=+new Date,E=0,W=k,R++):(_n()||(N+=+new Date-F,r.set(at,N+"")),W=k),(d=kn.o(r.get(wt),-1))<0?(v=d=k,h&&h!=jn&&r.set(yt,h+""),r.set(wt,d+""),r.set(mt,v+"")):nn.setAppVersion(h),r.set(_t,k+""),r.set(gt,E+""),nn.B(k);var n=+new Date;if(0<=T){var t=n-T;C+=t,r.set(rt,C+""),S+=t,r.set(st,S+"")}F=T=n,r.set(Qn,T+""),r.set(Xn,F+""),r.set(Zn,W+""),r.has(bt)||r.set(bt,"0"),l=kn.U(r.get(bt)),p=kn.U(r.get(It))}()}function dn(n){return r.has(n)?r.get(n)+"":null}function hn(n){if(Z)switch(n){case An.F:e=+new Date,Yn<=e-x&&O++,x=e,nn.j();case An.G:t=+new Date,Yn<=t-V&&M++,V=t;case An.K:_n();break;case An.R:}var t,e}function _n(){var n=+new Date,t=!1;return Hn<n-W&&(E=k,k=n,R++,t=!0),W=n,t}function gn(n){if(Z){n=typeof n===Fn||n;var t=+new Date,e=t-T;switch(on){case Pn.H:A+=e,b+=e;break;case Pn.Y:P+=e,I+=e;break;case Pn.R:C+=e,S+=e}T=t,n&&(r.set(Qn,T+""),r.set(tt,y+""),r.set(et,A+""),r.set(it,P+""),r.set(rt,C+""),r.set(ot,b+""),r.set(ut,I+""),r.set(st,S+""))}}function mn(n){if(Z){n=typeof n===Fn||n;var t=+new Date,e=t-F;switch(un){case An.F:D+=e,x=t;case An.G:L+=e,V=t;case An.K:N+=e,W=t;break;case An.R:}F=t,n&&(r.set(Xn,F+""),r.set(Zn,W+""),r.set($n,V+""),r.set(nt,x+""),r.set(at,N+""),r.set(ft,D+""),r.set(ct,L+""),r.set(lt,O+""),r.set(pt,M+""),r.set(vt,B+""),r.set(dt,U+""),r.set(gt,E+""),r.set(_t,k+""),r.set(ht,R+""))}}function wn(){if(Z){var n,t,e=+new Date;n=0<m?Pn.H:0<w?Pn.Y:Pn.R,t=e-B<Yn?An.F:0<w?An.G:0<m?An.K:An.R;var i,r=on,o=un;if(n!=r||t!=o){var u=!1;r!=n&&(function(n){if(Z)switch(n){case Pn.R:f.J(!1),s.X(),s.Z(),c.start(),a.start();break;case Pn.Y:In();break;case Pn.H:nn.nn(null),In()}}(on),function(n){if(Z)switch(n){case Pn.R:c.stop(),s.pause(),a.stop(),In(),f.J(!0);break;case Pn.Y:tn||bn();break;case Pn.H:bn(),y++}}(n),gn(),on=n,u=!0),o!=t&&(function(n){if(Z){var t=+new Date;switch(n){case An.F:null!=j&&(Tn.clearTimeout(j),j=null),x=t;case An.G:V=t;case An.K:W=t;break;case An.R:_n()||(N+=t-F)}}}(un),hn(t),mn(),un=t),u&&(i=on,Z&&i!=Pn.R&&nn.isAutoStartEnabled()&&!en&&nn.s(En.l,X))}}}function yn(n,t){Z&&(Nn.tn(n)?(t=Nn.tn(t)?"-cs"+t:"",K=n+t):null==K&&ln&&(K=Dn(Tn.getVisitorId()+nn.g()),"function"==typeof Tn.getVisitorIdSuffix&&null!=Tn.getVisitorIdSuffix()&&(K=K+"-cs"+Tn.getVisitorIdSuffix())),r.set(St,K+""))}function bn(){if(Z){In();var n=function(){nn.update(),null!=i&&Tn.setTimeout(n,u)};i=Tn.setTimeout(n,u)}}function In(){Z&&null!=i&&(Tn.clearTimeout(u),i=null)}function Sn(){return!ln||null==Y||0===Y.length||null==G||0===G.length}Ln.extend(nn,{isProperlyInitialized:function(){return!Sn()},reset:function(){Z&&(e.reset(),on=Pn.R,un=An.R,en=!1,_=h=null,z=U=E=L=D=N=C=A=P=S=I=b=w=m=p=l=0,an=sn=!(d=v=x=V=W=F=T=B=M=O=k=v=d=n=-1),nn.disableAutoUpdate(),null!=j&&(Tn.clearTimeout(j),j=null),null!=s&&s.cancel(),null!=a&&a.stop(),null!=f&&(f.en(),f=new Wn(nn)))},M:function(n){r=n||new Tn.Storage},O:function(n){t=n||new xn(nn)},W:function(n){a=n||new Un(nn)},V:function(n){c=new Bn(nn)},in:function(){var n=dn("AppName");null!=n&&nn.setAppName(n);var t=dn("AppVersion");null!=t&&nn.setAppVersion(t)},rn:function(){Z&&r.has(St)&&(K=r.get(St))},un:function(){Z&&(l++,r.set(bt,l+""))},sn:function(){return!en&&(en=!0,p++,r.set(It,p+""),n=+new Date,!0)},j:function(){Z&&(null!=j&&(Tn.clearTimeout(j),j=null),j=Tn.setTimeout(function(){null!=j&&(Tn.clearTimeout(j),j=null),wn()},Yn))},I:function(){return t},an:function(){return c},t:function(){return r},fn:function(){return f},S:function(){return s},cn:function(){return a},ln:function(){return e},onUxActive:function(){Z&&(Sn()||(M<0&&(M=0),w++,wn()))},onUxInactive:function(){Z&&(Sn()||0<w&&(w--,wn()))},onEnterForeground:function(){Z&&(Sn()||(m++,wn()))},onExitForeground:function(){Z&&(Sn()||0<m&&(m--,wn()))},onUserInteraction:function(){Z&&(Sn()||(M<0&&(M=0),O<0&&(O=0),B=+new Date,U++,un!=An.F?wn():nn.j()))},pn:function(){return on},vn:function(){return un},dn:function(){return l},hn:function(){return v},_n:function(){return d},gn:function(){return n},mn:function(){return p},wn:function(){return _},yn:function(n){_=n},bn:function(n){var t=y;return(n=typeof n===Fn||n)&&(y=0,r.set(tt,y+"")),t},In:function(n){var t=b;return(n=typeof n===Fn||n)&&(b=0,r.set(ot,b+"")),t},Sn:function(n){var t=A;return(n=typeof n===Fn||n)&&(A=0,r.set(et,A+"")),t},Pn:function(n){var t=I;return(n=typeof n===Fn||n)&&(I=0,r.set(ut,I+"")),t},An:function(n){var t=P;return(n=typeof n===Fn||n)&&(P=0,r.set(it,P+"")),t},Cn:function(n){var t=S;return(n=typeof n===Fn||n)&&(S=0,r.set(st,S+"")),t},kn:function(n){var t=C;return(n=typeof n===Fn||n)&&(C=0,r.set(rt,C+"")),t},En:function(n){var t=N;return(n=typeof n===Fn||n)&&(N=0,r.set(at,N+"")),t},Tn:function(n){var t=D;return(n=typeof n===Fn||n)&&(D=0,r.set(ft,D+"")),t},Nn:function(n){var t=L;return(n=typeof n===Fn||n)&&(L=0,r.set(ct,L+"")),t},Ln:function(){return u},Dn:function(n){var t=R;return(n=typeof n===Fn||n)&&(R=0,r.set(ht,R+"")),t},Rn:function(n){n=typeof n===Fn||n;var t=-1;return 0<=O&&(t=O,n&&(O=0,r.set(lt,O+""))),t},Mn:function(n){n=typeof n===Fn||n;var t=-1;return 0<=M&&(t=M,n&&(M=0,r.set(pt,M+""))),t},On:function(n){var t=U;return(n=typeof n===Fn||n)&&(U=0,r.set(dt,U+"")),t},setAppContext:function(){ln||(Tn.autoDetect(),vn(),nn.in(),nn.rn(),ln=!0)},setEnabled:function(n){Z&&null!=n&&!n&&(Z=!1,a.stop(),c.stop(),s.pause())},getEnabled:function(){return Z},Wn:function(){return{}},Vn:function(){return g},nn:function(n){g=n},setPixelURL:function(n){if(Z){if(null==n||0===n.length)return null;sn=!0;var t=n.indexOf("?");if(0<=t){if(t<n.length-1){for(var e=n.substring(t+1).split("&"),i=0,r=e.length;i<r;i++){var o=e[i].split("=");2==o.length?nn.setLabel(o[0],o[1]):1==o.length&&nn.setLabel(Cn.PAGE_NAME_LABEL,o[0])}n=n.substring(0,t+1)}}else n+="?";return G=n}},setKeepAliveEnabled:function(n){Z&&s.xn(n)},getPixelURL:function(){return G},getCrossPublisherId:function(){return q},isCrossPublisherIdChanged:function(){return Tn.isCrossPublisherIdChanged()||fn},getVisitorId:function(){return null==K&&yn(),K},setVisitorId:yn,Un:function(){var n=(Tn.getCrossPublisherId()||"null").split(" "),t=n[0]&&"null"!=n[0]?n[0]:null,e="true"==n[1];if(null!=t){q||(H=r.get(Pt),q=r.get(At));var i=null;q?"none"==t&&"none"==q||!cn&&"none"==q||"none"!=t&&(i=Dn(t))==H||(e?"none"==t?(H=null,q="none"):(H=i,q=Rn(t)):(fn=!0,cn&&"none"!=t?(H=Dn(t),q=Rn(t)):(H=null,q="none")),r.set(At,q),null==H?r.remove(Pt):r.set(Pt,H)):("none"==t?(H=null,q="none"):(H=Dn(t),q=Rn(t)),r.set(At,q),null==H?r.remove(Pt):r.set(Pt,H)),cn=!1}else q=H=null},m:function(n){return null==n||0===n.length||(Y=n),nn},g:function(){return null==Y&&(Y=""),Y},setAppName:function(n){Z&&(J=n)},getAppName:function(){return null!=J&&0!==J.length||nn.setAppName(Tn.getAppName()),J},setAppVersion:function(n){var t;r&&(n&&n!=jn?(r.has(Cn.C)&&(_=r.get(Cn.C)+""),r.has(yt)&&(t=r.get(yt)+""),t&&t!==n?(_=t,r.set(Cn.C,_+""),v=k,r.set(mt,v+"")):v=kn.o(r.get(mt),-1),r.set(yt,n+"")):v=kn.o(r.get(mt),-1)),h=n},getAppVersion:function(){return h},getVersion:function(){return Gn},getGenesis:function(){return k},Bn:function(){return E},B:function(n){r.set(zn,n.toString(10))},Fn:function(){return z},getLabels:function(){return Q},setLabels:function(n){if(Z)for(var t in n)n.hasOwnProperty(t)&&nn.setLabel(t,n[t])},getLabel:function(n){return Q[n]},setLabel:function(n,t){Z&&(!n||t?Q[n]=t:delete Q[n])},setAutoStartLabels:function(n){Z&&null!=n&&Ln.extend(X,n)},getAutoStartLabel:function(n){return X[n]},getAutoStartLabels:function(){return X},setAutoStartLabel:function(n,t){Z&&(X[n]=t)},getCustomerC2:function(){return Q.c2},setCustomerC2:function(n){if(Z&&null!=n&&0!==n.length){var t=e.isSecure()?qn:Kn;nn.setPixelURL(t),sn=!1,nn.setLabel("c2",n)}},getLiveTransmissionMode:function(){return e.getLiveTransmissionMode()},allowLiveTransmission:function(n){Z&&e.getLiveTransmissionMode()!=n&&e.allowLiveTransmission(n)},getOfflineTransmissionMode:function(){return e.getOfflineTransmissionMode()},allowOfflineTransmission:function(n){Z&&e.getOfflineTransmissionMode()!=n&&e.allowOfflineTransmission(n)},setSecure:function(n){Z&&(this.getCustomerC2()||(an=!0,e.isSecure()!=n&&e.setSecure(n)))},jn:function(n){if(!an&&(e.setSecure(!!n),null!=f&&f.Gn(Mn.Kn,!!n),nn.getCustomerC2()&&!sn)){var t=e.isSecure()?qn:Kn;nn.setPixelURL(t),sn=!1}},setAutoStartEnabled:function(n){Z&&(rn=n)},isAutoStartEnabled:function(){return rn},isSecure:function(){return e.isSecure()},setCacheMaxMeasurements:function(n){null!=t&&t.setCacheMaxMeasurements(n)},getCacheMaxMeasurements:function(){return null!=t?t.getCacheMaxMeasurements():xn.qn},setCacheMaxBatchFiles:function(n){null!=t&&t.setCacheMaxBatchFiles(n)},getCacheMaxBatchFiles:function(){return null!=t?t.getCacheMaxBatchFiles():xn.Hn},setCacheMaxFlushesInARow:function(n){null!=t&&t.Yn(n)},getCacheMaxFlushesInARow:function(){return null!=t?t.Jn():xn.zn},setCacheMinutesToRetry:function(n){null!=t&&t.Qn(n)},getCacheMinutesToRetry:function(){return null!=t?t.Xn():xn.Zn},setCacheMeasurementExpiry:function(n){null!=t&&t.setCacheMeasurementExpiry(n)},getCacheMeasurementExpiry:function(){return null!=t?t.getCacheMeasurementExpiry():xn.$n},getCacheFlushingInterval:function(){return pn},setCacheFlushingInterval:function(n){Z&&pn!=n&&(pn=n,null!=a&&a.update())},getMeasurementLabelOrder:function(){return e.getMeasurementLabelOrder()},setMeasurementLabelOrder:function(n){Z&&n!=e.getMeasurementLabelOrder()&&e.setMeasurementLabelOrder(n)},flush:function(){t.flush(e,function(){})},update:function(n){Z&&(gn(n=typeof n===Fn||n),mn(n))},enableAutoUpdate:function(n,t){Z&&(n=n||Jn,In(),n<Jn&&(n=Jn),tn=t,u=1e3*n,on==Pn.H?bn():on!=Pn.Y||tn||bn())},disableAutoUpdate:function(){Z&&(In(),tn=!0,u=-1)},isAutoUpdateEnabled:function(){return 0<u},s:function(n,t){Z&&(Sn()||(en||n==En.l||o.send(En.l,{},sn?G:null),n==En.h?(nn.B(0),nn.update(!0)):o.send(n,t,sn?G:null)))},nt:function(n,t){o.send(En.HIDDEN,n,t)},setOfflineURL:function(n){Z&&t.tt(n)},getPlatformAPI:function(){return Tn},setPlatformAPI:function(n){Tn.setPlatformAPI(n)},et:function(){return o},clearInternalData:function(){r&&r.clear()},cacheHttpRedirects:function(n){$=n},it:function(){return $}}),e=new Mn,Q={},X={},$=Z=!0,nn.reset()}},{1:1,11:11,12:12,17:17,21:21,22:22,24:24,25:25,26:26,3:3,36:36,4:4,6:6,7:7,8:8,9:9}],6:[function(n,t,e){var o=n(24),u=n(8).TransmissionMode,s=n(36),a=n(4),f=0,c=1,l=2,p=3;function i(){var t,e,i,r;o.extend(this,{reset:function(){t=u.DEFAULT,e=u.DEFAULT,i=s.isConnectionSecure(),r=a.k},rt:function(n){t=n.getLiveTransmissionMode(),e=n.getOfflineTransmissionMode(),r=n.getMeasurementLabelOrder(),i=n.isSecure()},ot:function(n,t){switch(n){case f:this.allowLiveTransmission(t);break;case c:this.allowOfflineTransmission(t);break;case l:this.setSecure(t);break;case p:this.setMeasurementLabelOrder(t)}},getLiveTransmissionMode:function(){return t},allowLiveTransmission:function(n){null!=n&&(t=n)},getOfflineTransmissionMode:function(){return e},allowOfflineTransmission:function(n){null!=n&&(e=n)},isSecure:function(){return i},setSecure:function(n){i=n},getMeasurementLabelOrder:function(){return r},setMeasurementLabelOrder:function(n){null!=n&&0<n.length&&(r=n)}}),this.reset()}i.ut=f,i.st=c,i.Kn=l,i.at=p,t.exports=i},{24:24,36:36,4:4,8:8}],7:[function(n,t,e){var r=n(24),_=n(13),g=1e3,m=864e5,o="q_dcf",w="q_dcc",y=20,b=6e3;t.exports=function(u){var e,s,i,a,f,n,c=[],l=!1;function p(n){return n-s<g&&y<=e}function v(n){return n-a<m&&b<=i}function d(n){m<n-a&&(i=0,a=n),g<n-s&&(e=0,s=n),i++,e++;var t=u.t();t.set(w,i+""),t.set(o,a+"")}function h(){var n,t=+new Date;if(l)for(;c.length;){var e=c.shift();i=e,u.I().ft(i)}else{for(var i,r,o;c.length&&!p(o=t)&&!v(o);)d(t),e=c.shift(),r=e,new _(u,u.ln(),r).send();n=t,c.length&&(f||(p(n)?f=u.getPlatformAPI().setTimeout(function(){f=null,h()},s+g-n):v(n)&&(f=u.getPlatformAPI().setTimeout(function(){f=null,h()},a+m-n))))}}r.extend(this,{ct:function(n){u.getEnabled()&&(c.push(n),h())},en:function(){u.getPlatformAPI().clearTimeout(f),c.length=0},J:function(n){l=n,u.getPlatformAPI().clearTimeout(f),h()}}),(n=u.t()).has(w)&&n.has(o)?(i=parseInt(n.get(w)),a=parseInt(n.get(o))):(i=0,a=+new Date),e=0,s=+new Date}},{13:13,24:24}],8:[function(n,t,e){var i={DEFAULT:0,NEVER:1,WIFIONLY:2,PIGGYBACK:3,DISABLED:4,valueOf:function(n){return null==n||"DEFAULT"==n?i.DEFAULT:"NEVER"==n?i.NEVER:"WIFIONLY"==n?i.WIFIONLY:"PIGGYBACK"==n?i.PIGGYBACK:"DISABLED"==n?i.DISABLED:void 0}};e.TransmissionMode=i,e.N={R:0,K:1,G:2,F:3},e.T={R:0,Y:1,H:2},e.u={l:"start",v:"view",h:"close",_:"aggregate",HIDDEN:"hidden",KEEPALIVE:"keep-alive"}},{}],9:[function(n,t,e){var a=n(36),f=n(8).u,c=n(24);t.exports=function(n){var t=this,e=null,i=NaN,r=!0,o=864e5;function u(){i=+new Date+o,s()}function s(){n.et().send(f.KEEPALIVE)}c.extend(t,{xn:function(n){(r=n)?(t.X(),t.Z()):t.cancel()},isEnabled:function(){return r},Z:function(){r&&(t.cancel(),i=+new Date+o,e=a.setInterval(u,o))},X:function(){if(r){var n=+new Date;i&&i<=n&&s()}},pause:function(){t.cancel()},cancel:function(){e&&(a.clearInterval(e),e=null)}})}},{24:24,36:36,8:8}],10:[function(n,t,e){var c=n(24),i=n(21),s=n(8).u,r=n(17),a=n(36),u=n(4),y="undefined",o=r.D,l=typeof encodeURIComponent!=y?encodeURIComponent:escape,f=function(n){return i.lt(n)?n:o},p=function(n){return n==s.l||n==s.h||n==s.v?s.v:s.HIDDEN};function v(n){var t,f={};c.extend(this,{pt:function(n){delete f[n]},vt:function(n){if(null!=n)for(var t in n)n.hasOwnProperty(t)&&this.setLabel(t,n[t])},setLabel:function(n,t){f[n]=t},getLabel:function(n){return f[n]},getLabels:function(){return f},dt:function(n){return f.hasOwnProperty(n)},ht:function(n){for(var t=[],e=c.extend({},f),i=0,r=n.length;i<r;i++){var o=n[i],u=e[o];null!=u&&""!==u&&(t.push("&",l(o),"=",l(u)),delete e[o])}for(var s in e)if(e.hasOwnProperty(s)){var a=e[s];null!=a&&""!==a&&t.push("&",l(s),"=",l(e[s]))}return 0<(t=t.join("")).length&&"&"==t.charAt(0)?t.substring(1):t},setPixelURL:function(n){t=n},getPixelURL:function(){return t}}),n&&this.setPixelURL(n.getPixelURL())}function d(n,t,e,i){if(v.call(this,n),n){null!=e&&this.setPixelURL(e),this.setLabel("c1","19"),this.setLabel("ns_ap_an",f(n.getAppName())),this.setLabel("ns_ap_pn",f(a.getPlatformName())),this.setLabel("ns_ap_pv",f(a.getRuntimeVersion())),this.setLabel("c12",n.getVisitorId()),n.Un();var r=n.getCrossPublisherId();r&&(this.setLabel("ns_ak",r),n.isCrossPublisherIdChanged()&&this.setLabel("ns_ap_ni","1")),this.setLabel("ns_ap_device",f(a.getDeviceModel())),this.setLabel("ns_ap_ar",f(a.getDeviceArchitecture())),this.setLabel("ns_radio",f(a.getConnectionType())),this.setLabel("ns_type",p(t)),this.setLabel("ns_nc","1"),this.setLabel("ns_ap_pfv",f(a.getPlatformVersion())),this.setLabel("ns_ap_pfm",f(a.getRuntimeName())),this.setLabel("ns_ap_ev",t),this.setLabel("ns_ap_ver",f(n.getAppVersion())),this.setLabel("ns_ap_sd",a.getDisplayResolution()),this.setLabel("ns_ap_res",a.getApplicationResolution()),this.setLabel("ns_ap_lang",a.getLanguage()),this.setLabel("ns_ap_sv",n.getVersion()),t==s.KEEPALIVE&&this.setLabel("ns_ap_oc",n.I()._t()+"");var o=n.gn(),u=n.mn();this.setLabel("ns_ap_id",o+""),this.setLabel("ns_ap_cs",u+""),this.setLabel("ns_ap_bi",a.getPackageName()),this.setLabel("ns_ap_jb",f(a.getDeviceJailBrokenFlag()))}}function h(n,t,e,i){d.call(this,n,t,e,i),this.setLabel("ns_ap_gs",n._n()+""),this.setLabel("ns_ap_install",n.hn()+""),this.setLabel("ns_ap_runs",n.dn()+""),i&&this.setLabel("ns_ap_csf","1"),this.setLabel("ns_ap_lastrun",n.Bn()+"");var r=n.Fn();0<r&&this.setLabel("ns_ap_miss",r.toString());var o=n.wn();o&&(this.setLabel("ns_ap_updated",o+""),n.t().remove(u.C),n.yn(null)),this.setLabel("ns_ap_jb",f(a.getDeviceJailBrokenFlag()))}d.gt=function(n,t){var e=t.wt,i=t.yt,r=t.bt;if(i=typeof i===y||i,r=typeof r===y||r,n.update(r),r){var o=n.bn(),u=n.In(e),s=n.Sn(i),a=n.Pn(e),f=n.An(i),c=n.Cn(e),l=n.kn(i),p=n.En(i),v=n.Tn(i),d=n.Nn(i),h=n.Ln(),_=n.Dn(i),g=n.Rn(i),m=n.Mn(i),w=n.On(i);t.labels.ns_ap_fg=o+"",t.labels.ns_ap_ft=u+"",t.labels.ns_ap_dft=s+"",t.labels.ns_ap_bt=a+"",t.labels.ns_ap_dbt=f+"",t.labels.ns_ap_it=c+"",t.labels.ns_ap_dit=l+"",t.labels.ns_ap_ut=h+"",t.labels.ns_ap_as=_+"",t.labels.ns_ap_das=p+"",0<=g&&(t.labels.ns_ap_aus=g+"",t.labels.ns_ap_daus=v+"",t.labels.ns_ap_uc=w+""),0<=m&&(t.labels.ns_ap_us=m+"",t.labels.ns_ap_dus=d+""),t.labels.ns_ap_usage=t.It-n.getGenesis()+""}t.labels.ns_ts=t.It+""},d.prototype=new v,d.St=function(n,t,e,i){var r=n.et(),o=r.Pt(t,e,i);return r.At(o)},h.prototype=new d,t.exports.Ct=v,t.exports.kt=d,t.exports.Et=h},{17:17,21:21,24:24,36:36,4:4,8:8}],11:[function(n,t,e){var f=n(10).kt,c=n(10).Et,l=n(36),p=n(8).u,v=n(8).T,d=n(4),h=n(14).Tt,_="start",g="foreground",m="background";t.exports=function(o){var r=this,i=0,u=[],t=!1,s=0,a={};r.Nt=function(){i++;var t=!1;return function(n){t||(t=!0,i--,n&&r.Lt())}},r.Dt=function(){if(!t){var n=r.Nt();t=!0,l.onDataFetch(function(){n(!(t=!1))},function(){n(t=!1)})}},r.Lt=function(){if(!(0<i)){for(var n=0;n<u.length;++n){var t=u[n],e=r.At(t);r.Rt(t,e)}u.length=0}},r.Mt=function(n){u.push(n),r.Dt()},r.Rt=function(n,t){o.fn().ct(t),o.S().Z()},r.send=function(n,t,e){if(n!=p._){var i=r.Pt(n,t,e);r.Mt(i)}else r.Ot(t)},r.Pt=function(n,t,e){var i={It:+new Date,Wt:n,Vt:e,wt:!1,yt:void 0,bt:void 0,labels:{}};return s++,i.labels.ns_ap_ec=s+"",n==p.l?(o.un(),i.wt=o.sn()):(i.yt=!(null!=t&&t.hasOwnProperty("ns_st_ev")&&"hb"==t.ns_st_ev),i.bt=!(null!=t&&t.hasOwnProperty("ns_st_ev"))),i.xt=o.getLabels(),i.Ut=t,null!=o.Vn()?i.Bt=o.Vn():n==p.l?i.Bt=_:o.pn()==v.H?i.Bt=g:i.Bt=m,f.gt(o,i),i},r.At=function(n){var t=null,e=n.Wt,i=n.Vt,r=n.wt;return(t=e===p.l?new c(o,e,i,r):new f(o,e,i,r)).vt(n.labels),t.vt(n.xt),t.vt(n.Ut),t.dt(d.PAGE_NAME_LABEL)||t.setLabel(d.PAGE_NAME_LABEL,n.Bt),l.processMeasurementLabels(t),t.vt(a),a={},t},r.Ot=function(n){h(a,n)}}},{10:10,14:14,36:36,4:4,8:8}],12:[function(n,t,e){var A=n(36),C=n(24),k=n(21),E=n(19),T=n(22),N=n(8).TransmissionMode,L=n(15),D=n(14).Ft,R="cs_cache_",M="CACHE_DROPPED_MEASUREMENTS",O=2e3,W=100,V=10,x=30,U=31,B="http://udm.scorecardresearch.com/offline",F="https://udm.scorecardresearch.com/offline";function i(u,o){var t,e,i,r,s,a,f,c,l,p,n=this,v=0;function d(){if(u.getEnabled()&&A.isConnectionAvailable()&&!n.jt()&&null!=u.getCustomerC2()){if(!(i<=c))return!0;if(1e3*r*60-(+new Date-l)<=0)return!(l=c=0)}return!1}function h(){v=0,null!=f&&(f=null)}function _(){for(var n,t=m(),e=!1,i=t.length;0<i;i--){var r=(n=t[i-1],Number(n.substring(o.length)));e?y(t[i-1],!0):e=S(r)}}function g(n){if(u.getEnabled()){var t=u.t();t.has(M)&&(n+=Number(t.get(M))),t.set(M,n+"")}}function m(){return null==a&&(a=D.Gt()),a}function w(n){var t=o+L.Kt(n,"ns_ts");D.qt(u,t,n),null==a&&(a=[]),a.push(t),h()}function y(n,t){if(null!=n){t&&(i=n,(r=u.t()).has(i)&&g(Number(r.get(i)))),D.deleteFile(u,n);var e=E.indexOf(n,a);0<=e&&a.splice(e,1)}var i,r}function b(){return null!=a&&0<a.length?a[a.length-1]:null}function I(n){var t=u.t(),e=0;return null!=n&&(e=t.has(n)?Number(t.get(n)):D.Ht(u,n).length),e}function S(n){var t=+new Date;return 24*s*60*60*1e3-(t-n)<=0}function P(t,e){var i=u.t();if(d()){var n=null,r=null;if(null==f&&null!=(n=function(n){for(var t=0,e=D.Ht(u,n),i=!1;t<e.length&&!(i=!S(Number(L.Kt(e[t],"ns_ts"))));t++);return i?(g(t),e=e.slice(t,e.length)):(y(n,!0),e=null),e}(r=b()))&&0<n.length){var o=i.has(M)?i.get(M):"0";f=L.Yt(n,o)}if(null!=f&&0<f.length)return void A.httpPost(function(n){var t,e=!0;-1==(t=k.tn(p)&&k.lt(p)?p:n.isSecure()?F:B).indexOf("?")&&(t+="?",e=!1);var i=u.getCustomerC2();k.lt(i)&&(e&&(t+="&"),t+="c2="+i,e=!0);var r="JetportGotAMaskOfThe"+u.g()+"S.D_K-";return r=T(r),k.lt(r)&&(e&&(t+="&"),t+="s="+r),t.toLowerCase()}(t),f,function(n){if(200==n)return c++,y(r,!1),h(),l=+new Date,i.remove(M),void A.setTimeout(function(){P(t,e)},0);e()})}e()}o=o||R,C.extend(this,{flush:function(n,t){u.getEnabled()&&(_(),1e3*r*60-(+new Date-v)<=0?(v=0,P(n,t)):t())},setCacheMaxMeasurements:function(n){t=n},getCacheMaxMeasurements:function(){return t},setCacheMaxBatchFiles:function(n){n<=0||(e=n)},getCacheMaxBatchFiles:function(){return e},Yn:function(n){i=n},Jn:function(){return i},Qn:function(n){r=n},Xn:function(){return r},setCacheMeasurementExpiry:function(n){s=n},getCacheMeasurementExpiry:function(){return s},ft:function(n){if(u.getEnabled()){var t=u.ln();if("string"!=typeof n&&(n=n.ht(t.getMeasurementLabelOrder())),t.getOfflineTransmissionMode()!=N.DISABLED&&null!=u.getCustomerC2()&&k.lt(L.Kt(n,"ns_ts"))){var e=b();if(null!=e)I(e)<this.getCacheMaxBatchFiles()?(n="\n"+n,D.qt(u,e,n),h()):(m().length>=this.getCacheMaxMeasurements()/this.getCacheMaxBatchFiles()&&y(null!=a&&0<a.length?a[0]:null,!0),w(n));else w(n)}}},_t:function(){var n=I(b());return 0<m().length&&(n+=(m().length-1)*this.getCacheMaxBatchFiles()),n},jt:function(){return 0==this._t()},clear:function(){for(var n=m(),t=n.length;0<t;t--)y(n[t-1],!0);u.t().remove(M)},tt:function(n){p=n}}),this.setCacheMaxMeasurements(O),this.setCacheMaxBatchFiles(W),this.Yn(V),this.Qn(x),this.setCacheMeasurementExpiry(U),_()}i.qn=O,i.Hn=W,i.zn=V,i.Zn=x,i.$n=U,e.L=i},{14:14,15:15,19:19,21:21,22:22,24:24,36:36,8:8}],13:[function(n,t,e){var f=n(24),c=n(20),l=n(36),p=n(4),v=n(8).TransmissionMode;t.exports=function(t,n,e,i){var r=this,o=n,u=e;function s(n){200!=n&&(302!=n&&301!=n||t.it())&&t.I().ft(u.ht(o.getMeasurementLabelOrder()),o),i&&i()}function a(){var n=r.process(u.getPixelURL());l.httpGet(n,s)}f.extend(r,{process:function(n){n+=u.ht(o.getMeasurementLabelOrder());var t=c.Jt()?p.A:p.P;if(n.length>t&&0<n.indexOf("&")){var e=n.substring(0,t-8).lastIndexOf("&"),i=encodeURIComponent(n.substring(e+1));n=n.substring(0,e)+"&ns_cut="+i}return n.length>t&&(n=n.substring(0,t)),n},send:function(){var n=o.getLiveTransmissionMode();return n==v.NEVER||n==v.DISABLED?(t.I().ft(u.ht(o.getMeasurementLabelOrder()),o),i&&i()):o.getOfflineTransmissionMode()!=v.NEVER&&0<t.I()._t()?t.I().flush(o,a):a(),!0}})}},{20:20,24:24,36:36,4:4,8:8}],14:[function(n,t,e){var o=n(36),u="cache_dir",i={Gt:function(){return o.IO.dir(u)||[]},qt:function(n,t,e){var i=n.t(),r=Number(i.get(t))||0;o.IO.append(u,t,e),r++,i.set(t,r+"")},deleteFile:function(n,t){o.IO.deleteFile(u,t),n.t().remove(t)},Ht:function(n,t){var e=o.IO.read(u,t);return e?e.split("\n"):[]}};function s(n){return!((n+="").indexOf(",")<0)&&n.indexOf(" ")<0}function a(n){return!isNaN(parseInt(n))&&isFinite(n)}function f(n,t){for(var e=t,i=n.split(","),r=0,o=i.length;r<o;r++){var u=i[r];if(0<u.length)if(e.indexOf(u)<0)0==e.length?e+=u+":1":e+=";"+u+":1";else for(var s=e.split(";"),a=0,f=s.length;a<f;a++)if(0<=s[a].indexOf(u)){var c=s[a].split(":"),l=Number(c[1]);l++;var p=c[0]+":"+l,v=e.indexOf(s[a]);e=e.substring(0,v)+p+e.substring(v+s[a].length)}}return e}e.Tt=function(n,t){for(var e in t)if(t.hasOwnProperty(e)){var i=n[e],r=t[e];null==i?s(r)?n[e]=f(r,""):n[e]=r:a(i)&&a(r)?n[e]=parseInt(i)+parseInt(r)+"":s(r)?n[e]=f(r,i):(o=r,0<=i.indexOf(o)||(n[e]=i+","+r))}var o},e.Ft=i},{36:36}],15:[function(n,t,e){var o=n(22),l=n(21),p=[],v=-1,d=-1,f=["c12","c1","ns_ap_an","ns_ap_pn","ns_ap_pv","ns_ap_device","ns_ak"],h=["c12","c1","ns_ap_an","ns_ap_pn","ns_ap_pv","ns_ap_device","ns_ts","ns_ak"],_=(1<<h.length)-1,c=-1;function g(n,t){v=d=-1;var e=0;do{if(0<=(e=n.indexOf(t,e))){var i=e+t.length;if((0==e||"&"==n.charAt(e-1))&&i<n.length&&"="==n.charAt(i))return v=i+1,void(-1==(d=n.indexOf("&",v))&&(d=n.length));e=i+1}}while(0<=e&&e<n.length)}function u(n,t){var e=0;if(g(n,"ns_ts"),-1!=v&&v<d){t.push('<event t="',n.substring(v,d),'">');for(var i,r,o=0,u=0;o<n.length;){if(-1==(i=n.indexOf("&",o))&&(i=n.length),o<i&&o<(r=n.indexOf("=",o))){var s=!0;if(e!=_)for(var a=0,f=h.length;a<f;a++){var c=1<<a;if(0==(e&c)&&h[a].length==r-o&&l.zt(h[a],0,n,o,h[a].length)){s=!1,e|=c;break}}s&&(0<u&&(p.push("&"),t.push("&")),p.push(n.substring(o,i)),t.push(n.substring(o,i)),u++)}o=i+1}t.push("</event>")}}var i={Yt:function(n,t){var e,i,r=['<?xml version="1.0" encoding="UTF-8" ?>'];return function(n,t,e){var i,r,o,u=+new Date+"";n.push('<events t="',u,'" ');for(var s=0,a=f.length;s<a;s++)i=n,r=t,o=f[s],g(r,o),-1!=v&&v<d&&i.push(o,'="',r.substring(v,d),'" ');n.push('dropped="',e,'" md5="','">'),c=n.length-1}(r,n[0],t),function(n,t){p=[];for(var e=0,i=n.length;e<i;e++)l.lt(n[e])&&u(n[e],t)}(n,r),e=r,i=o(p.join("")).toLowerCase(),e.splice(c,0,i),r.push("</events>"),r.join("")},Kt:function(n,t){return g(n,t),-1!=v&&v<d?n.substring(v,d):null}};t.exports=i},{21:21,22:22}],16:[function(t,r,n){(function(n){var e=t(24),i=r.exports=n.ns_||{};"undefined"!=typeof window&&(window.ns_=i),i.comScore=t(2),i.loadModule=i.loadModule||function(n){for(var t in n)"ns_"!==t&&e.extend(i,n);return n.ns_=i},i.PlatformAPIs=t(32),t(39),i.StreamingAnalytics=t(67),i.ReducedRequirementsStreamingAnalytics=t(64)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{2:2,24:24,32:32,39:39,64:64,67:67}],17:[function(n,t,e){t.exports={D:"unknown",Qt:"0x0",Xt:"-----BEGIN PUBLIC KEY-----\nMIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQD0+fCVxGq3Bk24jUKO1PzsiUs3\nvqww6zR4n2e3AweVLUAgsrDRbAWJ/EjZm1WBLBVNMiTLpSAkV6sjOIrUs03xdUEj\nQZJHwOGK+MfzFaZukoo0qAsEMPwQ5posv0JdkBdUGhKchPk6+NYmD6Hb44Lkp7/a\nQnVeWzvfAPQyTJR5wQIDAQAB\n-----END PUBLIC KEY-----"}},{}],18:[function(n,t,e){var a=1e4,f="undefined",c="function";t.exports=function(e,o){var n=this,i="comScore",r=[];function t(n){n=n||[];var t=[i,+new Date];return e&&t.push(e),n=Array.prototype.slice.call(n),t=t.concat(n)}function u(n){var t,e,i;if("boolean"==typeof o||!o)return!!o;if(i=n.join(" "),o instanceof Array&&0<o.length){for(t=0;t<o.length;++t)if((e=o[t])instanceof RegExp&&e.test(i))return!0;return!1}if("object"==typeof o){var r=!1;if(o.hide instanceof Array)for(t=0;t<o.hide.length;++t)if((e=o.hide[t])instanceof RegExp&&e.test(i)){r=!0;break}if(o.show instanceof Array)for(t=0;t<o.show.length;++t)if((e=o.show[t])instanceof RegExp&&e.test(i))return!0;return!r&&!o.show}return!0}function s(n){var t=r.length;if(a<t||"object"==typeof o&&o.max&&t>o.max){var e="object"==typeof o&&o.max||a;r.splice(0,r.length-e+1)}r.push(n)}n.log=function(){var n=t(arguments);s(n),typeof console!=f&&typeof console.log==c&&u(n)&&console.log.apply(console,n)},n.warn=function(){var n=t(arguments);s(n),typeof console!=f&&typeof console.warn==c&&u(n)&&console.warn.apply(console,n)},n.error=function(){var n=t(arguments);s(n),typeof console!=f&&typeof console.error==c&&u(n)&&console.error.apply(console,n)},n.Zt=function(n){for(var t=["API call to:",n],e=1;e<arguments.length;++e)t.push("arg"+e+":",arguments[e]);this.log.apply(this,t)},n.$t=function(){var n=["Trace log:"];n.push.apply(n,Array.prototype.slice.call(arguments)),this.log.apply(this,n)},n.ne=function(n,t){var e=["Deprecated API:",n,"is deprecated and will be eventually removed."];t&&e.push("Use",t,"instead."),this.warn.apply(this,e)},n.te=function(){return r}}},{}],19:[function(n,t,e){var r={},s="undefined";r.indexOf=function(e,n){var i=-1;return r.forEach(n,function(n,t){n==e&&(i=t)}),i},r.forEach=function(n,t,e){try{if("function"==typeof t)if(e=typeof e!=s?e:null,"number"!=typeof n.length||typeof n[0]==s){var i=typeof n.__proto__!=s;for(var r in n)n.hasOwnProperty(r)&&(!i||i&&typeof n.__proto__[r]==s)&&"function"!=typeof n[r]&&t.call(e,n[r],r)}else for(var o=0,u=n.length;o<u;o++)t.call(e,n[o],o)}catch(n){}},e.indexOf=r.indexOf,e.forEach=r.forEach},{}],20:[function(n,t,e){var i={},r="undefined",o=typeof document!=r&&document||void 0;i.ee=function(){if(!o)return!1;var n=!1;return typeof o.hidden!==r?n=!0:typeof o.mozHidden!==r?n=!0:typeof o.msHidden!==r?n=!0:typeof o.webkitHidden!==r&&(n=!0),function(){return n}}(),i.ie=function(){if(!o)return null;var n,t,e;typeof o.hidden!==r?(n="hidden",t="visibilitychange",e="visibilityState"):typeof o.mozHidden!==r?(n="mozHidden",t="mozvisibilitychange",e="mozVisibilityState"):typeof o.msHidden!==r?(n="msHidden",t="msvisibilitychange",e="msVisibilityState"):typeof o.webkitHidden!==r&&(n="webkitHidden",t="webkitvisibilitychange",e="webkitVisibilityState");var i={hidden:n,re:t,state:e};return function(){return i}}(),i.oe=function(){if(!o)return null;var n=i.ie();return function(){return o[n.hidden]}}(),i.ue=function(){if(!navigator)return"";var n,t,e=navigator.userAgent||"",i=navigator.appName||"";return-1!=(t=e.indexOf("Opera"))||-1!=(t=e.indexOf("OPR/"))?i="Opera":-1!=(t=e.indexOf("Android"))?i="Android":-1!=(t=e.indexOf("Chrome"))?i="Chrome":-1!=(t=e.indexOf("Safari"))?i="Safari":-1!=(t=e.indexOf("Firefox"))?i="Firefox":-1!=(t=e.indexOf("IEMobile"))?i="Internet Explorer Mobile":"Microsoft Internet Explorer"==i||"Netscape"==i?i="Internet Explorer":(n=e.lastIndexOf(" ")+1)<(t=e.lastIndexOf("/"))?(i=e.substring(n,t)).toLowerCase()==i.toUpperCase()&&(i=navigator.appName):i="unknown",i},i.se=function(){if(!navigator)return"";var n,t,e,i=navigator.userAgent||"",r=navigator.appName||"",o=navigator.appVersion?""+parseFloat(navigator.appVersion):"";return-1!=(t=i.indexOf("Opera"))?(o=i.substring(t+6),-1!=(t=i.indexOf("Version"))&&(o=i.substring(t+8))):-1!=(t=i.indexOf("OPR/"))?o=i.substring(t+4):-1!=(t=i.indexOf("Android"))?o=i.substring(t+11):-1!=(t=i.indexOf("Chrome"))?o=i.substring(t+7):-1!=(t=i.indexOf("Safari"))?(o=i.substring(t+7),-1!=(t=i.indexOf("Version"))&&(o=i.substring(t+8))):-1!=(t=i.indexOf("Firefox"))?o=i.substring(t+8):"Microsoft Internet Explorer"==r?null!=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})").exec(i)&&(o=parseFloat(RegExp.$1)):"Netscape"==r?null!=new RegExp("Trident/.*rv:([0-9]{1,}[.0-9]{0,})").exec(i)&&(o=parseFloat(RegExp.$1)):o=i.lastIndexOf(" ")+1<(t=i.lastIndexOf("/"))?i.substring(t+1):"unknown",-1!=(e=(o=o.toString()).indexOf(";"))&&(o=o.substring(0,e)),-1!=(e=o.indexOf(" "))&&(o=o.substring(0,e)),-1!=(e=o.indexOf(")"))&&(o=o.substring(0,e)),n=parseInt(""+o,10),isNaN(n)&&(o=""+parseFloat(navigator.appVersion)),o},i.Jt=function(){return typeof window!=r&&window.ae,!0},i.fe=function(){return typeof window!=r&&o},i.ce=function(){return!!o&&"s"===o.location.href.charAt(4)},t.exports.ee=i.ee,t.exports.ie=i.ie,t.exports.oe=i.oe,t.exports.ue=i.ue,t.exports.se=i.se,t.exports.Jt=i.Jt,t.exports.fe=i.fe,t.exports.ce=i.ce},{}],21:[function(n,t,e){var i,r=r||{},o="undefined";r.le=(i=1,function(){return+new Date+"_"+i++}),r.jt=function(n){return null==n||""===n||n instanceof Array&&0===n.length},r.lt=function(n){return!this.jt(n)},r.pe=function(n,t){return t=this.tn(t)?t:"",this.tn(n)?n:t},r.ve=function(n){return typeof n!=o&&("string"==typeof n?"true"===(n=n.toLowerCase())||"1"===n||"on"===n:!!n)},r.zt=function(n,t,e,i,r){if(t<0||i<0||t+r>n.length||i+r>e.length)return!1;for(;0<=--r;){if(n.charAt(t++)!=e.charAt(i++))return!1}return!0},r.tn=function(n){return typeof n!=o&&null!=n},t.exports.tn=r.tn,t.exports.zt=r.zt,t.exports.ve=r.ve,t.exports.pe=r.pe,t.exports.lt=r.lt,t.exports.jt=r.jt,t.exports.le=r.le},{}],22:[function(n,t,e){var i={};i.de=function(){function o(n,t){var e=n[0],i=n[1],r=n[2],o=n[3];i=c(i=c(i=c(i=c(i=f(i=f(i=f(i=f(i=a(i=a(i=a(i=a(i=u(i=u(i=u(i=u(i,r=u(r,o=u(o,e=u(e,i,r,o,t[0],7,-680876936),i,r,t[1],12,-389564586),e,i,t[2],17,606105819),o,e,t[3],22,-1044525330),r=u(r,o=u(o,e=u(e,i,r,o,t[4],7,-176418897),i,r,t[5],12,1200080426),e,i,t[6],17,-1473231341),o,e,t[7],22,-45705983),r=u(r,o=u(o,e=u(e,i,r,o,t[8],7,1770035416),i,r,t[9],12,-1958414417),e,i,t[10],17,-42063),o,e,t[11],22,-1990404162),r=u(r,o=u(o,e=u(e,i,r,o,t[12],7,1804603682),i,r,t[13],12,-40341101),e,i,t[14],17,-1502002290),o,e,t[15],22,1236535329),r=a(r,o=a(o,e=a(e,i,r,o,t[1],5,-165796510),i,r,t[6],9,-1069501632),e,i,t[11],14,643717713),o,e,t[0],20,-373897302),r=a(r,o=a(o,e=a(e,i,r,o,t[5],5,-701558691),i,r,t[10],9,38016083),e,i,t[15],14,-660478335),o,e,t[4],20,-405537848),r=a(r,o=a(o,e=a(e,i,r,o,t[9],5,568446438),i,r,t[14],9,-1019803690),e,i,t[3],14,-187363961),o,e,t[8],20,1163531501),r=a(r,o=a(o,e=a(e,i,r,o,t[13],5,-1444681467),i,r,t[2],9,-51403784),e,i,t[7],14,1735328473),o,e,t[12],20,-1926607734),r=f(r,o=f(o,e=f(e,i,r,o,t[5],4,-378558),i,r,t[8],11,-2022574463),e,i,t[11],16,1839030562),o,e,t[14],23,-35309556),r=f(r,o=f(o,e=f(e,i,r,o,t[1],4,-1530992060),i,r,t[4],11,1272893353),e,i,t[7],16,-155497632),o,e,t[10],23,-1094730640),r=f(r,o=f(o,e=f(e,i,r,o,t[13],4,681279174),i,r,t[0],11,-358537222),e,i,t[3],16,-722521979),o,e,t[6],23,76029189),r=f(r,o=f(o,e=f(e,i,r,o,t[9],4,-640364487),i,r,t[12],11,-421815835),e,i,t[15],16,530742520),o,e,t[2],23,-995338651),r=c(r,o=c(o,e=c(e,i,r,o,t[0],6,-198630844),i,r,t[7],10,1126891415),e,i,t[14],15,-1416354905),o,e,t[5],21,-57434055),r=c(r,o=c(o,e=c(e,i,r,o,t[12],6,1700485571),i,r,t[3],10,-1894986606),e,i,t[10],15,-1051523),o,e,t[1],21,-2054922799),r=c(r,o=c(o,e=c(e,i,r,o,t[8],6,1873313359),i,r,t[15],10,-30611744),e,i,t[6],15,-1560198380),o,e,t[13],21,1309151649),r=c(r,o=c(o,e=c(e,i,r,o,t[4],6,-145523070),i,r,t[11],10,-1120210379),e,i,t[2],15,718787259),o,e,t[9],21,-343485551),n[0]=p(e,n[0]),n[1]=p(i,n[1]),n[2]=p(r,n[2]),n[3]=p(o,n[3])}function s(n,t,e,i,r,o){return t=p(p(t,n),p(i,o)),p(t<<r|t>>>32-r,e)}function u(n,t,e,i,r,o,u){return s(t&e|~t&i,n,t,r,o,u)}function a(n,t,e,i,r,o,u){return s(t&i|e&~i,n,t,r,o,u)}function f(n,t,e,i,r,o,u){return s(t^e^i,n,t,r,o,u)}function c(n,t,e,i,r,o,u){return s(e^(t|~i),n,t,r,o,u)}function l(n){var t,e=[];for(t=0;t<64;t+=4)e[t>>2]=n.charCodeAt(t)+(n.charCodeAt(t+1)<<8)+(n.charCodeAt(t+2)<<16)+(n.charCodeAt(t+3)<<24);return e}var i="0123456789abcdef".split("");function e(n){for(var t="",e=0;e<4;e++)t+=i[n>>8*e+4&15]+i[n>>8*e&15];return t}function n(n){return function(n){for(var t=0;t<n.length;t++)n[t]=e(n[t]);return n.join("")}(function(n){var t,e=n.length,i=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=n.length;t+=64)o(i,l(n.substring(t-64,t)));n=n.substring(t-64);var r=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<n.length;t++)r[t>>2]|=n.charCodeAt(t)<<(t%4<<3);if(r[t>>2]|=128<<(t%4<<3),55<t)for(o(i,r),t=0;t<16;t++)r[t]=0;return r[14]=8*e,o(i,r),i}(n))}function p(n,t){return n+t&4294967295}if("5d41402abc4b2a76b9719d911017c592"!=n("hello"))function p(n,t){var e=(65535&n)+(65535&t);return(n>>16)+(t>>16)+(e>>16)<<16|65535&e}return n}(),t.exports=i.de},{}],23:[function(n,t,e){var o=function(n){if("object"!=typeof n)return n;var t;if(n instanceof Array){t=[];for(var e=0,i=n.length;e<i;e++)t[e]=o(n[e]);return t}for(var r in t={},n)n.hasOwnProperty(r)&&(t[r]=n[r]);return t};t.exports=o},{}],24:[function(n,t,e){var i=i||{};i.filter=function(n,t){var e={};for(var i in t)t.hasOwnProperty(i)&&n(t[i])&&(e[i]=t[i]);return e},i.extend=function(n){var t,e=arguments.length;n=n||{};for(var i=1;i<e;i++)if(t=arguments[i])for(var r in t)t.hasOwnProperty(r)&&(n[r]=t[r]);return n},t.exports.filter=i.filter,t.exports.extend=i.extend},{}],25:[function(n,t,e){var K=n(17),i={};i.encrypt=function(){var i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",u=function(n,t){var e=i.indexOf(n.charAt(t));if(-1===e)throw new Error;return e},r=function(n){var t,e,i,r=(n=""+n).length;if(0===r)return n;if(r%4!=0)throw new Error;t=0,"="===n.charAt(r-1)&&(t=1,"="===n.charAt(r-2)&&(t=2),r-=4);var o=[];for(e=0;e<r;e+=4)i=u(n,e)<<18|u(n,e+1)<<12|u(n,e+2)<<6|u(n,e+3),o.push(String.fromCharCode(i>>16,i>>8&255,255&i));switch(t){case 1:i=u(n,e)<<18|u(n,e+1)<<12|u(n,e+2)<<6,o.push(String.fromCharCode(i>>16,i>>8&255));break;case 2:i=u(n,e)<<18|u(n,e+1)<<12,o.push(String.fromCharCode(i>>16))}return o.join("")};function w(n,t,e){null!=n&&("number"==typeof n?this.he(n,t,e):null==t&&"string"!=typeof n?this._e(n,256):this._e(n,t))}function y(){return new w(null)}w.prototype.ge=function(n,t,e,i,r,o){for(var u=16383&t,s=t>>14;0<=--o;){var a=16383&this[n],f=this[n++]>>14,c=s*a+f*u;r=((a=u*a+((16383&c)<<14)+e[i]+r)>>28)+(c>>14)+s*f,e[i++]=268435455&a}return r},w.prototype.me=28,w.prototype.we=268435455,w.prototype.ye=1<<28;w.prototype.be=Math.pow(2,52),w.prototype.Ie=24,w.prototype.Se=4;var n,t,e="0123456789abcdefghijklmnopqrstuvwxyz",o=[];for(n="0".charCodeAt(0),t=0;t<=9;++t)o[n++]=t;for(n="a".charCodeAt(0),t=10;t<36;++t)o[n++]=t;for(n="A".charCodeAt(0),t=10;t<36;++t)o[n++]=t;function a(n){return e.charAt(n)}function f(n,t){var e=o[n.charCodeAt(t)];return null==e?-1:e}function _(n){var t=y();return t.Pe(n),t}function b(n){var t,e=1;return 0!=(t=n>>>16)&&(n=t,e+=16),0!=(t=n>>8)&&(n=t,e+=8),0!=(t=n>>4)&&(n=t,e+=4),0!=(t=n>>2)&&(n=t,e+=2),0!=(t=n>>1)&&(n=t,e+=1),e}function g(n){this.Ae=n}function m(n){this.Ae=n,this.Ce=n.ke(),this.Ee=32767&this.Ce,this.Te=this.Ce>>15,this.Ne=(1<<n.me-15)-1,this.Le=2*n.De}function s(n,t){return n&t}function c(n,t){return n|t}function l(n,t){return n^t}function p(n,t){return n&~t}function v(n){if(0==n)return-1;var t=0;return 0==(65535&n)&&(n>>=16,t+=16),0==(255&n)&&(n>>=8,t+=8),0==(15&n)&&(n>>=4,t+=4),0==(3&n)&&(n>>=2,t+=2),0==(1&n)&&++t,t}function d(n){for(var t=0;0!=n;)n&=n-1,++t;return t}function h(){}function I(n){return n}function S(n){this.r2=y(),this.Re=y(),w.ONE.Me(2*n.De,this.r2),this.Oe=this.r2.We(n),this.Ae=n}g.prototype.Ve=function(n){return n.xe<0||0<=n.Ue(this.Ae)?n.Be(this.Ae):n},g.prototype.Fe=function(n){return n},g.prototype.reduce=function(n){n.je(this.Ae,null,n)},g.prototype.Ge=function(n,t,e){n.Ke(t,e),this.reduce(e)},g.prototype.qe=function(n,t){n.He(t),this.reduce(t)},m.prototype.Ve=function(n){var t=y();return n.abs().Me(this.Ae.De,t),t.je(this.Ae,null,t),n.xe<0&&0<t.Ue(w.ZERO)&&this.Ae.Ye(t,t),t},m.prototype.Fe=function(n){var t=y();return n.Je(t),this.reduce(t),t},m.prototype.reduce=function(n){for(;n.De<=this.Le;)n[n.De++]=0;for(var t=0;t<this.Ae.De;++t){var e=32767&n[t],i=e*this.Ee+((e*this.Te+(n[t]>>15)*this.Ee&this.Ne)<<15)&n.we;for(n[e=t+this.Ae.De]+=this.Ae.ge(0,i,n,t,0,this.Ae.De);n[e]>=n.ye;)n[e]-=n.ye,n[++e]++}n.ze(),n.Qe(this.Ae.De,n),0<=n.Ue(this.Ae)&&n.Ye(this.Ae,n)},m.prototype.Ge=function(n,t,e){n.Ke(t,e),this.reduce(e)},m.prototype.qe=function(n,t){n.He(t),this.reduce(t)},w.prototype.Je=function(n){for(var t=this.De-1;0<=t;--t)n[t]=this[t];n.De=this.De,n.xe=this.xe},w.prototype.Pe=function(n){this.De=1,this.xe=n<0?-1:0,0<n?this[0]=n:n<-1?this[0]=n+DV:this.De=0},w.prototype._e=function(n,t){var e;if(16==t)e=4;else if(8==t)e=3;else if(256==t)e=8;else if(2==t)e=1;else if(32==t)e=5;else{if(4!=t)return void this.Xe(n,t);e=2}this.De=0,this.xe=0;for(var i=n.length,r=!1,o=0;0<=--i;){var u=8==e?255&n[i]:f(n,i);u<0?"-"==n.charAt(i)&&(r=!0):(r=!1,0==o?this[this.De++]=u:o+e>this.me?(this[this.De-1]|=(u&(1<<this.me-o)-1)<<o,this[this.De++]=u>>this.me-o):this[this.De-1]|=u<<o,(o+=e)>=this.me&&(o-=this.me))}8==e&&0!=(128&n[0])&&(this.xe=-1,0<o&&(this[this.De-1]|=(1<<this.me-o)-1<<o)),this.ze(),r&&w.ZERO.Ye(this,this)},w.prototype.ze=function(){for(var n=this.xe&this.we;0<this.De&&this[this.De-1]==n;)--this.De},w.prototype.Me=function(n,t){var e;for(e=this.De-1;0<=e;--e)t[e+n]=this[e];for(e=n-1;0<=e;--e)t[e]=0;t.De=this.De+n,t.xe=this.xe},w.prototype.Qe=function(n,t){for(var e=n;e<this.De;++e)t[e-n]=this[e];t.De=Math.max(this.De-n,0),t.xe=this.xe},w.prototype.Ze=function(n,t){var e,i=n%this.me,r=this.me-i,o=(1<<r)-1,u=Math.floor(n/this.me),s=this.xe<<i&this.we;for(e=this.De-1;0<=e;--e)t[e+u+1]=this[e]>>r|s,s=(this[e]&o)<<i;for(e=u-1;0<=e;--e)t[e]=0;t[u]=s,t.De=this.De+u+1,t.xe=this.xe,t.ze()},w.prototype.$e=function(n,t){t.xe=this.xe;var e=Math.floor(n/this.me);if(e>=this.De)t.De=0;else{var i=n%this.me,r=this.me-i,o=(1<<i)-1;t[0]=this[e]>>i;for(var u=e+1;u<this.De;++u)t[u-e-1]|=(this[u]&o)<<r,t[u-e]=this[u]>>i;0<i&&(t[this.De-e-1]|=(this.xe&o)<<r),t.De=this.De-e,t.ze()}},w.prototype.Ye=function(n,t){for(var e=0,i=0,r=Math.min(n.De,this.De);e<r;)i+=this[e]-n[e],t[e++]=i&this.we,i>>=this.me;if(n.De<this.De){for(i-=n.xe;e<this.De;)i+=this[e],t[e++]=i&this.we,i>>=this.me;i+=this.xe}else{for(i+=this.xe;e<n.De;)i-=n[e],t[e++]=i&this.we,i>>=this.me;i-=n.xe}t.xe=i<0?-1:0,i<-1?t[e++]=this.ye+i:0<i&&(t[e++]=i),t.De=e,t.ze()},w.prototype.Ke=function(n,t){var e=this.abs(),i=n.abs(),r=e.De;for(t.De=r+i.De;0<=--r;)t[r]=0;for(r=0;r<i.De;++r)t[r+e.De]=e.ge(0,i[r],t,r,0,e.De);t.xe=0,t.ze(),this.xe!=n.xe&&w.ZERO.Ye(t,t)},w.prototype.He=function(n){for(var t=this.abs(),e=n.De=2*t.De;0<=--e;)n[e]=0;for(e=0;e<t.De-1;++e){var i=t.ge(e,t[e],n,2*e,0,1);(n[e+t.De]+=t.ge(e+1,2*t[e],n,2*e+1,i,t.De-e-1))>=t.ye&&(n[e+t.De]-=t.ye,n[e+t.De+1]=1)}0<n.De&&(n[n.De-1]+=t.ge(e,t[e],n,2*e,0,1)),n.xe=0,n.ze()},w.prototype.je=function(n,t,e){var i=n.abs();if(!(i.De<=0)){var r=this.abs();if(r.De<i.De)return null!=t&&t.Pe(0),void(null!=e&&this.Je(e));null==e&&(e=y());var o=y(),u=this.xe,s=n.xe,a=this.me-b(i[i.De-1]);0<a?(i.Ze(a,o),r.Ze(a,e)):(i.Je(o),r.Je(e));var f=o.De,c=o[f-1];if(0!=c){var l=c*(1<<this.Ie)+(1<f?o[f-2]>>this.Se:0),p=this.be/l,v=(1<<this.Ie)/l,d=1<<this.Se,h=e.De,_=h-f,g=null==t?y():t;for(o.Me(_,g),0<=e.Ue(g)&&(e[e.De++]=1,e.Ye(g,e)),w.ONE.Me(f,g),g.Ye(o,o);o.De<f;)o[o.De++]=0;for(;0<=--_;){var m=e[--h]==c?this.we:Math.floor(e[h]*p+(e[h-1]+d)*v);if((e[h]+=o.ge(0,m,e,_,0,f))<m)for(o.Me(_,g),e.Ye(g,e);e[h]<--m;)e.Ye(g,e)}null!=t&&(e.Qe(f,t),u!=s&&w.ZERO.Ye(t,t)),e.De=f,e.ze(),0<a&&e.$e(a,e),u<0&&w.ZERO.Ye(e,e)}}},w.prototype.ke=function(){if(this.De<1)return 0;var n=this[0];if(0==(1&n))return 0;var t=3&n;return 0<(t=(t=(t=(t=t*(2-(15&n)*t)&15)*(2-(255&n)*t)&255)*(2-((65535&n)*t&65535))&65535)*(2-n*t%this.ye)%this.ye)?this.ye-t:-t},w.prototype.ni=function(){return 0==(0<this.De?1&this[0]:this.xe)},w.prototype.exp=function(n,t){if(4294967295<n||n<1)return w.ONE;var e=y(),i=y(),r=t.Ve(this),o=b(n)-1;for(r.Je(e);0<=--o;)if(t.qe(e,i),0<(n&1<<o))t.Ge(i,r,e);else{var u=e;e=i,i=u}return t.Fe(e)},w.prototype.toString=function(n){if(this.xe<0)return"-"+this.ti().toString(n);var t;if(16==n)t=4;else if(8==n)t=3;else if(2==n)t=1;else if(32==n)t=5;else{if(4!=n)return this.ei(n);t=2}var e,i=(1<<t)-1,r=!1,o="",u=this.De,s=this.me-u*this.me%t;if(0<u--)for(s<this.me&&0<(e=this[u]>>s)&&(r=!0,o=a(e));0<=u;)s<t?(e=(this[u]&(1<<s)-1)<<t-s,e|=this[--u]>>(s+=this.me-t)):(e=this[u]>>(s-=t)&i,s<=0&&(s+=this.me,--u)),0<e&&(r=!0),r&&(o+=a(e));return r?o:"0"},w.prototype.ti=function(){var n=y();return w.ZERO.Ye(this,n),n},w.prototype.abs=function(){return this.xe<0?this.ti():this},w.prototype.Ue=function(n){var t=this.xe-n.xe;if(0!=t)return t;var e=this.De;if(0!=(t=e-n.De))return this.xe<0?-t:t;for(;0<=--e;)if(0!=(t=this[e]-n[e]))return t;return 0},w.prototype.ii=function(){return this.De<=0?0:this.me*(this.De-1)+b(this[this.De-1]^this.xe&this.we)},w.prototype.Be=function(n){var t=y();return this.abs().je(n,null,t),this.xe<0&&0<t.Ue(w.ZERO)&&n.Ye(t,t),t},w.prototype.ri=function(n,t){var e;return e=n<256||t.ni()?new g(t):new m(t),this.exp(n,e)},w.ZERO=_(0),w.ONE=_(1),h.prototype.Ve=I,h.prototype.Fe=I,h.prototype.Ge=function(n,t,e){n.Ke(t,e)},h.prototype.qe=function(n,t){n.He(t)},S.prototype.Ve=function(n){if(n.xe<0||n.De>2*this.Ae.De)return n.Be(this.Ae);if(n.Ue(this.Ae)<0)return n;var t=y();return n.Je(t),this.reduce(t),t},S.prototype.Fe=function(n){return n},S.prototype.reduce=function(n){for(n.Qe(this.Ae.De-1,this.r2),n.De>this.Ae.De+1&&(n.De=this.Ae.De+1,n.ze()),this.Oe.oi(this.r2,this.Ae.De+1,this.Re),this.Ae.ui(this.Re,this.Ae.De+1,this.r2);n.Ue(this.r2)<0;)n.si(1,this.Ae.De+1);for(n.Ye(this.r2,n);0<=n.Ue(this.Ae);)n.Ye(this.Ae,n)},S.prototype.Ge=function(n,t,e){n.Ke(t,e),this.reduce(e)},S.prototype.qe=function(n,t){n.He(t),this.reduce(t)};var P=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997],A=(1<<26)/P[P.length-1];function C(){this.ai=0,this.fi=0,this.ci=[]}w.prototype.li=function(n){return Math.floor(Math.LN2*this.me/Math.log(n))},w.prototype.ei=function(n){if(null==n&&(n=10),0==this.pi()||n<2||36<n)return"0";var t=this.li(n),e=Math.pow(n,t),i=_(e),r=y(),o=y(),u="";for(this.je(i,r,o);0<r.pi();)u=(e+o.vi()).toString(n).substr(1)+u,r.je(i,r,o);return o.vi().toString(n)+u},w.prototype.Xe=function(n,t){this.Pe(0),null==t&&(t=10);for(var e=this.li(t),i=Math.pow(t,e),r=!1,o=0,u=0,s=0;s<n.length;++s){var a=f(n,s);a<0?"-"==n.charAt(s)&&0==this.pi()&&(r=!0):(u=t*u+a,++o>=e&&(this.di(i),this.si(u,0),u=o=0))}0<o&&(this.di(Math.pow(t,o)),this.si(u,0)),r&&w.ZERO.Ye(this,this)},w.prototype.he=function(n,t,e){if("number"==typeof t)if(n<2)this.Pe(1);else for(this.he(n,e),this.hi(n-1)||this._i(w.ONE.shiftLeft(n-1),c,this),this.ni()&&this.si(1,0);!this.gi(t);)this.si(2,0),this.ii()>n&&this.Ye(w.ONE.shiftLeft(n-1),this);else{var i=[],r=7&n;i.length=1+(n>>3),t.mi(i),0<r?i[0]&=(1<<r)-1:i[0]=0,this._e(i,256)}},w.prototype._i=function(n,t,e){var i,r,o=Math.min(n.De,this.De);for(i=0;i<o;++i)e[i]=t(this[i],n[i]);if(n.De<this.De){for(r=n.xe&this.we,i=o;i<this.De;++i)e[i]=t(this[i],r);e.De=this.De}else{for(r=this.xe&this.we,i=o;i<n.De;++i)e[i]=t(r,n[i]);e.De=n.De}e.xe=t(this.xe,n.xe),e.ze()},w.prototype.wi=function(n,t){var e=w.ONE.shiftLeft(n);return this._i(e,t,e),e},w.prototype.yi=function(n,t){for(var e=0,i=0,r=Math.min(n.De,this.De);e<r;)i+=this[e]+n[e],t[e++]=i&this.we,i>>=this.me;if(n.De<this.De){for(i+=n.xe;e<this.De;)i+=this[e],t[e++]=i&this.we,i>>=this.me;i+=this.xe}else{for(i+=this.xe;e<n.De;)i+=n[e],t[e++]=i&this.we,i>>=this.me;i+=n.xe}t.xe=i<0?-1:0,0<i?t[e++]=i:i<-1&&(t[e++]=this.ye+i),t.De=e,t.ze()},w.prototype.di=function(n){this[this.De]=this.ge(0,n-1,this,0,0,this.De),++this.De,this.ze()},w.prototype.si=function(n,t){if(0!=n){for(;this.De<=t;)this[this.De++]=0;for(this[t]+=n;this[t]>=this.ye;)this[t]-=this.ye,++t>=this.De&&(this[this.De++]=0),++this[t]}},w.prototype.ui=function(n,t,e){var i,r=Math.min(this.De+n.De,t);for(e.xe=0,e.De=r;0<r;)e[--r]=0;for(i=e.De-this.De;r<i;++r)e[r+this.De]=this.ge(0,n[r],e,r,0,this.De);for(i=Math.min(n.De,t);r<i;++r)this.ge(0,n[r],e,r,0,t-r);e.ze()},w.prototype.oi=function(n,t,e){--t;var i=e.De=this.De+n.De-t;for(e.xe=0;0<=--i;)e[i]=0;for(i=Math.max(t-this.De,0);i<n.De;++i)e[this.De+i-t]=this.ge(t-i,n[i],e,0,0,this.De+i-t);e.ze(),e.Qe(1,e)},w.prototype.bi=function(n){if(n<=0)return 0;var t=this.ye%n,e=this.xe<0?n-1:0;if(0<this.De)if(0==t)e=this[0]%n;else for(var i=this.De-1;0<=i;--i)e=(t*e+this[i])%n;return e},w.prototype.Ii=function(n){var t=this.Si(w.ONE),e=t.Pi();if(e<=0)return!1;var i=t.Ai(e);(n=n+1>>1)>P.length&&(n=P.length);for(var r=y(),o=0;o<n;++o){r.Pe(P[Math.floor(Math.random()*P.length)]);var u=r.Ci(i,this);if(0!=u.Ue(w.ONE)&&0!=u.Ue(t)){for(var s=1;s++<e&&0!=u.Ue(t);)if(0==(u=u.ri(2,this)).Ue(w.ONE))return!1;if(0!=u.Ue(t))return!1}}return!0},w.prototype.clone=function(){var n=y();return this.Je(n),n},w.prototype.vi=function(){if(this.xe<0){if(1==this.De)return this[0]-this.ye;if(0==this.De)return-1}else{if(1==this.De)return this[0];if(0==this.De)return 0}return(this[1]&(1<<32-this.me)-1)<<this.me|this[0]},w.prototype.ki=function(){return 0==this.De?this.xe:this[0]<<24>>24},w.prototype.Ei=function(){return 0==this.De?this.xe:this[0]<<16>>16},w.prototype.pi=function(){return this.xe<0?-1:this.De<=0||1==this.De&&this[0]<=0?0:1},w.prototype.Ti=function(){var n=this.De,t=[];t[0]=this.xe;var e,i=this.me-n*this.me%8,r=0;if(0<n--)for(i<this.me&&(e=this[n]>>i)!=(this.xe&this.we)>>i&&(t[r++]=e|this.xe<<this.me-i);0<=n;)i<8?(e=(this[n]&(1<<i)-1)<<8-i,e|=this[--n]>>(i+=this.me-8)):(e=this[n]>>(i-=8)&255,i<=0&&(i+=this.me,--n)),0!=(128&e)&&(e|=-256),0==r&&(128&this.xe)!=(128&e)&&++r,(0<r||e!=this.xe)&&(t[r++]=e);return t},w.prototype.Ni=function(n){return 0==this.Ue(n)},w.prototype.min=function(n){return this.Ue(n)<0?this:n},w.prototype.max=function(n){return 0<this.Ue(n)?this:n},w.prototype.Li=function(n){var t=y();return this._i(n,s,t),t},w.prototype.Di=function(n){var t=y();return this._i(n,c,t),t},w.prototype.Ri=function(n){var t=y();return this._i(n,l,t),t},w.prototype.Mi=function(n){var t=y();return this._i(n,p,t),t},w.prototype.Oi=function(){for(var n=y(),t=0;t<this.De;++t)n[t]=this.we&~this[t];return n.De=this.De,n.xe=~this.xe,n},w.prototype.shiftLeft=function(n){var t=y();return n<0?this.$e(-n,t):this.Ze(n,t),t},w.prototype.Ai=function(n){var t=y();return n<0?this.Ze(-n,t):this.$e(n,t),t},w.prototype.Pi=function(){for(var n=0;n<this.De;++n)if(0!=this[n])return n*this.me+v(this[n]);return this.xe<0?this.De*this.me:-1},w.prototype.Wi=function(){for(var n=0,t=this.xe&this.we,e=0;e<this.De;++e)n+=d(this[e]^t);return n},w.prototype.hi=function(n){var t=Math.floor(n/this.me);return t>=this.De?0!=this.xe:0!=(this[t]&1<<n%this.me)},w.prototype.Vi=function(n){return this.wi(n,c)},w.prototype.xi=function(n){return this.wi(n,p)},w.prototype.Ui=function(n){return this.wi(n,l)},w.prototype.add=function(n){var t=y();return this.yi(n,t),t},w.prototype.Si=function(n){var t=y();return this.Ye(n,t),t},w.prototype.multiply=function(n){var t=y();return this.Ke(n,t),t},w.prototype.We=function(n){var t=y();return this.je(n,t,null),t},w.prototype.Bi=function(n){var t=y();return this.je(n,null,t),t},w.prototype.Fi=function(n){var t=y(),e=y();return this.je(n,t,e),[t,e]},w.prototype.Ci=function(n,t){var e,i,r=n.ii(),o=_(1);if(r<=0)return o;e=r<18?1:r<48?3:r<144?4:r<768?5:6,i=r<8?new g(t):t.ni()?new S(t):new m(t);var u=[],s=3,a=e-1,f=(1<<e)-1;if(u[1]=i.Ve(this),1<e){var c=y();for(i.qe(u[1],c);s<=f;)u[s]=y(),i.Ge(c,u[s-2],u[s]),s+=2}var l,p,v=n.De-1,d=!0,h=y();for(r=b(n[v])-1;0<=v;){for(a<=r?l=n[v]>>r-a&f:(l=(n[v]&(1<<r+1)-1)<<a-r,0<v&&(l|=n[v-1]>>this.me+r-a)),s=e;0==(1&l);)l>>=1,--s;if((r-=s)<0&&(r+=this.me,--v),d)u[l].Je(o),d=!1;else{for(;1<s;)i.qe(o,h),i.qe(h,o),s-=2;0<s?i.qe(o,h):(p=o,o=h,h=p),i.Ge(h,u[l],o)}for(;0<=v&&0==(n[v]&1<<r);)i.qe(o,h),p=o,o=h,h=p,--r<0&&(r=this.me-1,--v)}return i.Fe(o)},w.prototype.ji=function(n){var t=n.ni();if(this.ni()&&t||0==n.pi())return w.ZERO;for(var e=n.clone(),i=this.clone(),r=_(1),o=_(0),u=_(0),s=_(1);0!=e.pi();){for(;e.ni();)e.$e(1,e),t?(r.ni()&&o.ni()||(r.yi(this,r),o.Ye(n,o)),r.$e(1,r)):o.ni()||o.Ye(n,o),o.$e(1,o);for(;i.ni();)i.$e(1,i),t?(u.ni()&&s.ni()||(u.yi(this,u),s.Ye(n,s)),u.$e(1,u)):s.ni()||s.Ye(n,s),s.$e(1,s);0<=e.Ue(i)?(e.Ye(i,e),t&&r.Ye(u,r),o.Ye(s,o)):(i.Ye(e,i),t&&u.Ye(r,u),s.Ye(o,s))}return 0!=i.Ue(w.ONE)?w.ZERO:0<=s.Ue(n)?s.Si(n):s.pi()<0?(s.yi(n,s),s.pi()<0?s.add(n):s):s},w.prototype.pow=function(n){return this.exp(n,new h)},w.prototype.Gi=function(n){var t=this.xe<0?this.ti():this.clone(),e=n.xe<0?n.ti():n.clone();if(t.Ue(e)<0){var i=t;t=e,e=i}var r=t.Pi(),o=e.Pi();if(o<0)return t;for(r<o&&(o=r),0<o&&(t.$e(o,t),e.$e(o,e));0<t.pi();)0<(r=t.Pi())&&t.$e(r,t),0<(r=e.Pi())&&e.$e(r,e),0<=t.Ue(e)?(t.Ye(e,t),t.$e(1,t)):(e.Ye(t,e),e.$e(1,e));return 0<o&&e.Ze(o,e),e},w.prototype.gi=function(n){var t,e=this.abs();if(1==e.De&&e[0]<=P[P.length-1]){for(t=0;t<P.length;++t)if(e[0]==P[t])return!0;return!1}if(e.ni())return!1;for(t=1;t<P.length;){for(var i=P[t],r=t+1;r<P.length&&i<A;)i*=P[r++];for(i=e.bi(i);t<r;)if(i%P[t++]==0)return!1}return e.Ii(n)},w.prototype.Ki=function(){var n=y();return this.He(n),n},C.prototype.init=function(n){var t,e,i;for(t=0;t<256;++t)this.ci[t]=t;for(t=e=0;t<256;++t)e=e+this.ci[t]+n[t%n.length]&255,i=this.ci[t],this.ci[t]=this.ci[e],this.ci[e]=i;this.ai=0,this.fi=0},C.prototype.next=function(){var n;return this.ai=this.ai+1&255,this.fi=this.fi+this.ci[this.ai]&255,n=this.ci[this.ai],this.ci[this.ai]=this.ci[this.fi],this.ci[this.fi]=n,this.ci[n+this.ci[this.ai]&255]};var k,E,T,N=256;function L(){var n;n=(new Date).getTime(),E[T++]^=255&n,E[T++]^=n>>8&255,E[T++]^=n>>16&255,E[T++]^=n>>24&255,N<=T&&(T-=N)}if(null==E){var D;for(E=[],T=0;T<N;)D=Math.floor(65536*Math.random()),E[T++]=D>>>8,E[T++]=255&D;T=0,L()}function R(){if(null==k){for(L(),(k=new C).init(E),T=0;T<E.length;++T)E[T]=0;T=0}return k.next()}function M(){}function O(n,t){return new w(n,t)}function W(){this.n=null,this.e=0,this.d=null,this.p=null,this.q=null,this.dmp1=null,this.dmq1=null,this.coeff=null}M.prototype.mi=function(n){var t;for(t=0;t<n.length;++t)n[t]=R()},W.prototype.qi=function(n){return n.ri(this.e,this.n)},W.prototype.Hi=function(n,t){null!=n&&null!=t&&0<n.length&&0<t.length?(this.n=O(n,16),this.e=parseInt(t,16)):alert("Invalid RSA public key")},W.prototype.encrypt=function(n){var t=function(n,t){if(t<n.length+11)return alert("Message too long for RSA"),null;for(var e=[],i=n.length-1;0<=i&&0<t;){var r=n.charCodeAt(i--);r<128?e[--t]=r:127<r&&r<2048?(e[--t]=63&r|128,e[--t]=r>>6|192):(e[--t]=63&r|128,e[--t]=r>>6&63|128,e[--t]=r>>12|224)}e[--t]=0;for(var o=new M,u=[];2<t;){for(u[0]=0;0==u[0];)o.mi(u);e[--t]=u[0]}return e[--t]=2,e[--t]=0,new w(e)}(n,this.n.ii()+7>>3);if(null==t)return null;var e=this.qi(t);if(null==e)return null;var i=e.toString(16);return 0==(1&i.length)?i:"0"+i},W.prototype.Yi=function(n){if(null==this.p||null==this.q)return n.Ci(this.d,this.n);for(var t=n.Be(this.p).Ci(this.dmp1,this.p),e=n.Be(this.q).Ci(this.dmq1,this.q);t.Ue(e)<0;)t=t.add(this.p);return t.Si(e).multiply(this.coeff).Be(this.p).multiply(this.q).add(e)},W.prototype.Ji=function(n,t,e){null!=n&&null!=t&&0<n.length&&0<t.length?(this.n=O(n,16),this.e=parseInt(t,16),this.d=O(e,16)):alert("Invalid RSA private key")},W.prototype.zi=function(n,t,e,i,r,o,u,s){null!=n&&null!=t&&0<n.length&&0<t.length?(this.n=O(n,16),this.e=parseInt(t,16),this.d=O(e,16),this.p=O(i,16),this.q=O(r,16),this.dmp1=O(o,16),this.dmq1=O(u,16),this.coeff=O(s,16)):alert("Invalid RSA private key")},W.prototype.Qi=function(n,t){var e=new M,i=n>>1;this.e=parseInt(t,16);for(var r=new w(t,16);;){for(;this.p=new w(n-i,1,e),0!=this.p.Si(w.ONE).Gi(r).Ue(w.ONE)||!this.p.gi(10););for(;this.q=new w(i,1,e),0!=this.q.Si(w.ONE).Gi(r).Ue(w.ONE)||!this.q.gi(10););if(this.p.Ue(this.q)<=0){var o=this.p;this.p=this.q,this.q=o}var u=this.p.Si(w.ONE),s=this.q.Si(w.ONE),a=u.multiply(s);if(0==a.Gi(r).Ue(w.ONE)){this.n=this.p.multiply(this.q),this.d=r.ji(a),this.dmp1=this.d.Be(u),this.dmq1=this.d.Be(s),this.coeff=this.q.ji(this.p);break}}},W.prototype.decrypt=function(n){var t=O(n,16),e=this.Yi(t);return null==e?null:function(n,t){for(var e=n.Ti(),i=0;i<e.length&&0==e[i];)++i;if(e.length-i!=t-1||2!=e[i])return null;for(++i;0!=e[i];)if(++i>=e.length)return null;for(var r="";++i<e.length;){var o=255&e[i];o<128?r+=String.fromCharCode(o):191<o&&o<224?(r+=String.fromCharCode((31&o)<<6|63&e[i+1]),++i):(r+=String.fromCharCode((15&o)<<12|(63&e[i+1])<<6|63&e[i+2]),i+=2)}return r}(e,this.n.ii()+7>>3)};var V="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",x="=";function U(n){var t,e,i="";for(t=0;t+3<=n.length;t+=3)e=parseInt(n.substring(t,t+3),16),i+=V.charAt(e>>6)+V.charAt(63&e);for(t+1==n.length?(e=parseInt(n.substring(t,t+1),16),i+=V.charAt(e<<2)):t+2==n.length&&(e=parseInt(n.substring(t,t+2),16),i+=V.charAt(e>>2)+V.charAt((3&e)<<4));0<(3&i.length);)i+=x;return i}function B(n){var t,e,i="",r=0;for(t=0;t<n.length&&n.charAt(t)!=x;++t){var o=V.indexOf(n.charAt(t));o<0||(0==r?(i+=a(o>>2),e=3&o,r=1):1==r?(i+=a(e<<2|o>>4),e=15&o,r=2):2==r?(i+=a(e),i+=a(o>>2),e=3&o,r=3):(i+=a(e<<2|o>>4),i+=a(15&o),r=0))}return 1==r&&(i+=a(e<<2)),i}W.prototype.Xi=function(n){n=this.Zi(n);var t=this.$i(),e=0,i=null,r=null,o=0;for(var u in t)t.hasOwnProperty(u)&&((i=t[u]).hasOwnProperty("offset")&&(e+=2*i.offset),o="string"==typeof i.length?this[i.length]:i.length,o*=2,r=n.substr(e,o),i.hasOwnProperty("type")&&("int"==i.type?r=parseInt(r,16):"bigint"==i.type&&(r=O(r,16))),e+=o,this[u]=r)},W.prototype.nr=function(n){var t="";n=r(n);for(var e=0;e<n.length;++e){var i=n.charCodeAt(e).toString(16);1===i.length&&(i="0"+i),t+=i}return t},W.prototype.Zi=function(n){var t=(n=n.replace(/^\s+|\s+$/g,"")).split(/\r?\n/);return"-----BEGIN"==t[0].substring(0,10)&&(t=t.slice(1,t.length-1)),n=t.join(""),this.nr(n)},W.prototype.tr=function(){var n="",t=this.$i(),e=null,i=null,r=0;for(var o in t)t.hasOwnProperty(o)&&(e=t[o]).er&&((i=this[o].toString(16)).length%2&&(i="0"+i),e.hasOwnProperty("padded")&&e.ir&&(i="00"+i),(r=(r=i.length/2).toString(16)).length%2&&(r="0"+r),e.hasOwnProperty("extraspace")&&(n+=r),n+=r,n+=i,n+="02");return n.slice(0,-2)},W.prototype.rr=function(n,t){if(!n)return n;var e="(.{1,"+(t=t||64)+"})( +|$\n?)|(.{1,"+t+"})";return n.match(new RegExp(e,"g")).join("\n")},W.prototype.or=function(){var n="-----BEGIN RSA PRIVATE KEY-----\n",t="3082025e02010002";return t+=this.tr(),n+=this.rr(U(t))+"\n",n+="-----END RSA PRIVATE KEY-----"},W.prototype.ur=function(){var n="-----BEGIN PUBLIC KEY-----\n",t="30819f300d06092a864886f70d010101050003818d0030818902";return t+=this.tr(),n+=this.rr(U(t))+"\n",n+="-----END PUBLIC KEY-----"};var F=function(n){W.call(this),n&&this.Xi(n)};((F.prototype=new W).constructor=F).prototype.$i=function(){return{header:{length:4},versionlength:{length:1,offset:1,type:"int"},version:{length:"versionlength",type:"int"},n_length:{length:1,offset:2,type:"int"},n:{length:"n_length",type:"bigint",er:!0,ir:!0,sr:!0},e_length:{length:1,offset:1,type:"int"},e:{length:"e_length",type:"int",er:!0},d_length:{length:1,offset:2,type:"int"},d:{length:"d_length",type:"bigint",er:!0,ir:!0,sr:!0},p_length:{length:1,offset:1,type:"int"},p:{length:"p_length",type:"bigint",er:!0,ir:!0},q_length:{length:1,offset:1,type:"int"},q:{length:"q_length",type:"bigint",er:!0,ir:!0},dmp1_length:{length:1,offset:1,type:"int"},dmp1:{length:"dmp1_length",type:"bigint",er:!0},dmq1_length:{length:1,offset:1,type:"int"},dmq1:{length:"dmq1_length",type:"bigint",er:!0,ir:!0},coeff_length:{length:1,offset:1,type:"int"},coeff:{length:"coeff_length",type:"bigint",er:!0,ir:!0}}};var j=function(n){W.call(this),n&&("string"==typeof n?this.Xi(n):n.hasOwnProperty("n")&&n.hasOwnProperty("e")&&(this.n=n.n,this.e=n.e))};((j.prototype=new W).constructor=j).prototype.$i=function(){return{header:{length:25},n_length:{length:1,offset:2,type:"int"},n:{length:"n_length",type:"bigint",er:!0,ir:!0,sr:!0},e_length:{length:1,offset:1,type:"int"},e:{length:"e_length",type:"int",er:!0}}};var G=function(){this.ar=null,this.cr=null};return G.prototype.lr=function(n){this.ar=new F(n),this.cr=new j(this.ar)},G.prototype.pr=function(n){this.cr=new j(n)},G.prototype.decrypt=function(n){return!!this.ar&&this.ar.decrypt(B(n))},G.prototype.encrypt=function(n){var t=this.cr||this.ar;return!!t&&U(t.encrypt(n))},G.prototype.or=function(){return this.ar||(this.ar=new F,this.ar.Qi(1024,"010001"),this.cr=new j(this.ar)),this.ar.or()},G.prototype.ur=function(){return this.cr||(this.cr=new j,this.cr.Qi(1024,"010001")),this.cr.ur()},function(n){var t=new G;return t.pr(K.Xt),t.encrypt(n)}}(),t.exports=i.encrypt},{17:17}],26:[function(n,t,e){var i=i||{},r="undefined";i.vr=function(n,t){return t=t||!1,n?"0"!=n:t},i.U=function(n,t){return null==n||isNaN(n)?t||0:parseInt(n)},i.o=function(n,t){var e=Number(n);return null==n||isNaN(e)?t||0:e},i.toString=function(n){if(typeof n==r)return r;if("string"==typeof n)return n;if(n instanceof Array)return n.join(",");var t="";for(var e in n)n.hasOwnProperty(e)&&(t+=e+":"+n[e]+";");return t||n.toString()},t.exports.vr=i.vr,t.exports.U=i.U,t.exports.o=i.o,t.exports.toString=i.toString},{}],27:[function(n,t,e){var s=n(19),i="undefined",a=typeof encodeURIComponent!==i?encodeURIComponent:escape,u=typeof decodeURIComponent!==i?decodeURIComponent:unescape,f="cs_dir_",c="cs_file_",l=typeof localStorage!==i?localStorage:null,p={},v="|",d=l&&a&&u;var o={dir:function(n){if(!d)return null;var t=f+n,e=p[t];if(e)return e.slice();var i=l.getItem(t);if(i){e=[];for(var r=0,o=(i=i.split(v)).length;r<o;r++)0<i[r].length&&e.push(u(i[r]));return(p[t]=e).slice()}return null},append:function(n,t,e){if(d){var i=o.read(n,t);i?i+=e:i=e,o.write(n,t,i)}},write:function(n,t,e){if(d){var i,r=o.dir(n);r||(i=f+n,"function"==typeof l.setItem?l.setItem(i,""):l[i]="",p[i]=[],r=[]),-1==s.indexOf(t,r)&&function(n,t){var e=f+n;try{"function"==typeof l.setItem?l.setItem(e,l.getItem(e)+v+a(t)):l[e]=l.getItem(e)+v+a(t)}catch(n){}p[e].push(t)}(n,t),function(n,t,e){try{"function"==typeof l.setItem?l.setItem(c+n+t,e):l[c+n+t]=e}catch(n){}}(n,t,e)}},deleteFile:function(n,t){if(!d)return!1;var e=o.dir(n);return!!e&&(-1!=s.indexOf(t,e)&&(function(n,t){var e=f+n,i=p[e];i.splice(s.indexOf(t,i),1);for(var r=[],o=0,u=i.length;o<u;o++)r.push(a(i[o]));try{"function"==typeof l.setItem?l.setItem(e,r.join(v)):l[e]=r.join(v),"function"==typeof l.removeItem?l.removeItem(c+n+t):delete l[c+n+t]}catch(n){}}(n,t),!0))},read:function(n,t){if(!d)return null;var e=o.dir(n);return e?-1==s.indexOf(t,e)?null:function(n,t){try{return"function"==typeof l.getItem?l.getItem(c+n+t):l[c+n+t]}catch(n){}}(n,t):null}};t.exports=o},{19:19}],28:[function(n,t,e){var u,r,o=n(19),i="undefined",s=null,a=null,f="cs_dir_",c="|",l={},p=!1;function v(){s=typeof FileSystem!=i?new FileSystem:null,a=typeof curWidget!=i?curWidget.id:null,typeof sf!==i&&(r=u=function(n,t){sf.core.localData(n,t)}),null==s||typeof s.isValidCommonPath==i||s.isValidCommonPath(a)||s.createCommonDir(a),p=!0}function d(n){return n.replace(/^\s+|\s+$/g,"")}function h(n,t){var e=l[n];e?e.push(t):e=l[n]=[t],r(f+n,e.join(c))}function _(n,t){var e=l[n],i=o.indexOf(t,e);0<=i&&(e.splice(i,1),r(f+n,0===e.length?null:e.join(c)))}var g={dir:function(n){if(p||v(),s.isValidCommonPath(a+"/"+n)){var t=l[n];if(!t){if(!(t=u(f+n)))return null;t=l[n]=t.split(c)}for(var e=t.slice(),i=0,r=e.length;i<r;i++){var o=t[i];s.isValidCommonPath(a+"/"+n+"/"+o)||_(n,o)}return e}return null},append:function(n,t,e){p||v();var i=a+"/"+n;s.isValidCommonPath(i)||s.createCommonDir(i),s.isValidCommonPath(i+"/"+t)||h(n,t);var r=s.openCommonFile(i+"/"+t,"a");r.writeLine(d(e)),s.closeCommonFile(r)},write:function(n,t,e){p||v();var i=a+"/"+n;s.isValidCommonPath(i)||s.createCommonDir(i),s.isValidCommonPath(i+"/"+t)||h(n,t);var r=s.openCommonFile(i+"/"+t,"w");r.writeLine(d(e)),s.closeCommonFile(r)},deleteFile:function(n,t){p||v();var e=a+"/"+n;return!!s.isValidCommonPath(e)&&(_(n,t),s.deleteCommonFile(e+"/"+t))},read:function(n,t){p||v();var e=a+"/"+n;if(!s.isValidCommonPath(e))return null;var i=s.openCommonFile(e+"/"+t,"r");if(i){for(var r,o=[];r=i.readLine();)o.push(r);return s.closeCommonFile(i),o.join("\n")}return _(n,t),""}};t.exports=g},{19:19}],29:[function(n,t,e){t.exports={dir:function(){return null},append:function(n,t,e){},write:function(n,t,e){},deleteFile:function(){return!1},read:function(){return null}}},{}],30:[function(n,t,e){var i=n(21),r=n(17),o=n(49).dr,u=n(49).hr(),s=n(45),a=n(29),f="undefined",c=r.D,l=r.Qt,p=null,v=null,d=null;function h(){null==p&&(typeof atv!=f&&typeof atv.device!=f&&atv.device.idForVendor?(p=i.pe(atv.device.idForVendor,""),v="62"):(p=+new Date+~~(1e3*Math.random()),v="72"),d=null)}var _={PLATFORM:"atv",httpGet:o,httpPost:u,Storage:s,IO:a,getCrossPublisherId:function(){return h(),d},getAppName:function(){return c},getAppVersion:function(){return c},getVisitorId:function(){return h(),p},getVisitorIdSuffix:function(){return v},getDeviceModel:function(){return"Apple TV"},getPlatformVersion:function(){return typeof atv!=f&&typeof atv.device!=f&&i.pe(atv.device.softwareVersion,c)},getPlatformName:function(){return"js"},getRuntimeName:function(){return"atv"},getRuntimeVersion:function(){return typeof atv!=f&&typeof atv.device!=f&&i.pe(atv.device.softwareVersion,c)},getDisplayResolution:function(){return typeof atv.device!=f&&typeof atv.device.screenFrame!=f&&typeof atv.device.screenFrame.height!=f&&typeof atv.device.screenFrame.width!=f?atv.device.screenFrame.height+"x"+atv.device.screenFrame.width:l},getLanguage:function(){return typeof atv!=f&&typeof atv.device!=f&&i.pe(atv.device.language,"")},getPackageName:function(){return""},isConnectionAvailable:function(){return!0},setTimeout:function(n,t){return typeof atv!=f&&typeof atv.setTimeout!=f&&atv.setTimeout(n,t)},setInterval:function(n,t){return typeof atv!=f&&typeof atv.setInterval!=f&&atv.setInterval(n,t)},clearTimeout:function(n){return typeof atv!=f&&typeof atv.clearTimeout!=f&&atv.clearTimeout(n)},clearInterval:function(n){return typeof atv!=f&&typeof atv.clearInterval!=f&&atv.clearInterval(n)},isCompatible:function(){return typeof window==f&&typeof atv!=f},isConnectionSecure:function(){return typeof document!=f&&null!=document&&"s"===document.location.href.charAt(4)}};t.exports=_},{17:17,21:21,29:29,45:45,49:49}],31:[function(n,t,e){var i=n(21),r=n(20),o=n(17),u=n(50),s=n(48)._r,a=n(46),f=n(27),c="undefined",l=o.D,p=o.Qt;var v={PLATFORM:"chromecast",httpGet:u,httpPost:s,Storage:a,IO:f,getCrossPublisherId:function(){return null},getAppName:function(){return typeof ns_.crm===c?l:ns_.crm.getApplicationData().name},getAppVersion:function(){return l},getVisitorId:function(){return+new Date+~~(1e3*Math.random())},getVisitorIdSuffix:function(){return"72"},getDeviceModel:function(){return"chromecast"},getPlatformVersion:function(){return cast.receiver.VERSION+"-"+i.pe(r.ue()+" "+r.se(),l)},getPlatformName:function(){return"js"},getRuntimeName:function(){return"html"},getRuntimeVersion:function(){return"5"},getDisplayResolution:function(){var n=typeof window!=c&&i.tn(window.screen)&&i.tn(window.screen.availWidth)?window.screen.availWidth:0,t=typeof window!=c&&i.tn(window.screen)&&i.tn(window.screen.availHeight)?window.screen.availHeight:0;return 0<n&&0<t?n+"x"+t:p},getLanguage:function(){return typeof window!=c&&i.tn(window.navigator)&&i.pe(window.navigator.language,"")||l},getPackageName:function(){return l},isConnectionAvailable:function(){return!0},isCompatible:function(){return typeof window!==c&&!i.jt(window.cast)&&!i.jt(cast.receiver)},isConnectionSecure:function(){return typeof document!=c&&null!=document&&"s"===document.location.href.charAt(4)}};t.exports=v},{17:17,20:20,21:21,27:27,46:46,48:48,50:50}],32:[function(n,t,e){t.exports={SmartTV:0,Netcast:1,Cordova:2,Trilithium:3,AppleTV:4,Chromecast:5,Xbox:6,webOS:7,tvOS:8,nodejs:9,html5:10,JSMAF:11,Skeleton:12}},{}],33:[function(n,t,e){var i=n(21),r=n(17),o=n(50),u=n(48).gr,s=n(48)._r,a=n(46),f=n(27),c="undefined",l=r.D,p=r.Qt,v=null,d=null,h=null;function _(){return typeof device!=c&&typeof device.available!=c&&device.available&&typeof window!=c&&typeof window.navigator!=c}function g(){if(null==v){var n=_()&&typeof device!=c&&i.tn(device.uuid)&&0<device.uuid.length?device.uuid:null;null!=n?(d="31",h=v=n):(v=+new Date+~~(1e3*Math.random()),d="72",h=null)}}var m={PLATFORM:"cordova",httpGet:function(){return typeof Image!=c?o.apply(this,arguments):u.apply(this,arguments)},httpPost:s,Storage:a,IO:f,getCrossPublisherId:function(){return g(),h},getAppName:function(){return l},getAppVersion:function(){return l},getVisitorId:function(){return g(),v},getVisitorIdSuffix:function(){return d},getDeviceModel:function(){return typeof device!=c&&i.tn(device.model)||l},getPlatformVersion:function(){return typeof device!=c&&i.tn(device.cordova)&&device.cordova||l},getPlatformName:function(){return"js"},getRuntimeName:function(){return typeof device!=c&&i.tn(device.platform)&&"cordova"+device.platform||"cordova"},getRuntimeVersion:function(){return typeof device!=c&&i.tn(device.version)||l},getDisplayResolution:function(){var n=typeof window!=c&&i.tn(window.screen)&&i.tn(window.screen.availWidth)&&window.screen.availWidth||0,t=typeof window!=c&&i.tn(window.screen)&&i.tn(window.screen.availHeight)&&window.screen.availHeight||0;return 0<n&&0<t?n+"x"+t:p},getLanguage:function(){return typeof window!=c&&i.tn(window.navigator)&&i.tn(window.navigator.language)&&window.navigator.language||l},getPackageName:function(){return""},isConnectionAvailable:function(){return typeof window==c||(!i.tn(window.navigator)||!i.tn(window.navigator.onLine)||window.navigator.onLine)},isCompatible:_,isConnectionSecure:function(){return typeof document!=c&&null!=document&&"s"===document.location.href.charAt(4)}};t.exports=m},{17:17,21:21,27:27,46:46,48:48,50:50}],34:[function(n,t,e){var i=n(21),r=n(20),o=n(17),u=n(50),s=n(48).gr,a=n(48)._r,f=n(46),c=n(27),l="undefined",p=typeof document!=l&&document||void 0,v=o.D,d=o.Qt,h={PLATFORM:"html5",httpGet:function(){return typeof Image!=l?u.apply(this,arguments):s.apply(this,arguments)},httpPost:a,Storage:f,IO:c,getCrossPublisherId:function(){return null},getAppName:function(){return p&&i.tn(p.title)&&p.title||v},getAppVersion:function(){return v},getVisitorId:function(){return this.getDeviceModel()+ +new Date+~~(1e3*Math.random())},getVisitorIdSuffix:function(){return"72"},getDeviceModel:function(){return typeof window!=l&&i.tn(window.navigator)&&i.pe(window.navigator.platform,"")||""},getPlatformVersion:function(){return i.pe(r.ue()+" "+r.se(),"")},getPlatformName:function(){return"js"},getRuntimeName:function(){return"html"},getRuntimeVersion:function(){return"5"},getDisplayResolution:function(){var n,t;typeof window!=l&&window.screen&&window.screen.width&&(n=window.screen.width),typeof window!=l&&window.screen&&window.screen.width&&(t=window.screen.height);var e=1;return typeof window!=l&&window.devicePixelRatio&&(e=window.devicePixelRatio),0<n&&0<t?(n*=e)+"x"+(t*=e):d},getApplicationResolution:function(){var n,t;typeof window!=l&&window.innerWidth&&(n=window.innerWidth),typeof window!=l&&window.innerHeight&&(t=window.innerHeight);var e=1;return typeof window!=l&&window.devicePixelRatio&&(e=window.devicePixelRatio),0<n&&0<t?(n*=e)+"x"+(t*=e):d},getLanguage:function(){return typeof window!=l&&i.tn(window.navigator)&&i.pe(window.navigator.language,"")||v},getPackageName:function(){return""},isConnectionAvailable:function(){return typeof window==l||(!i.tn(window.navigator)||!i.tn(window.navigator.onLine)||window.navigator.onLine)},isCompatible:function(){return typeof window!==l&&i.tn(window.navigator)&&i.tn(window.localStorage)&&i.tn(p)&&!!p.createElement("canvas").getContext},isConnectionSecure:function(){return!!p&&"s"===p.location.href.charAt(4)}};t.exports=h},{17:17,20:20,21:21,27:27,46:46,48:48,50:50}],35:[function(n,t,e){var i=n(21),r=n(17),o=n(48).gr,u=n(48)._r,s=n(46),a=n(27),f="undefined",c=r.D,l=r.Qt,p=null,v=null,d=null;function h(){if(null==p)if(typeof jsmaf!=f&&i.tn(jsmaf.hardwareId)){var n=jsmaf.hardwareId;v="31",d=p=n}else p=+new Date+~~(1e3*Math.random()),v="72",d=null}function _(){return typeof jsmaf==f||!i.tn(jsmaf.networkStatus)||"connected"==jsmaf.networkStatus}var g={PLATFORM:"jsmaf",httpGet:o,httpPost:u,Storage:s,IO:a,getCrossPublisherId:function(){return h(),d},getAppName:function(){return c},getAppVersion:function(){return c},getVisitorId:function(){return h(),p},getVisitorIdSuffix:function(){return h(),v},getDeviceModel:function(){return typeof jsmaf!=f&&i.tn(jsmaf.platform)?jsmaf.platform:c},getPlatformName:function(){return"js"},getPlatformVersion:function(){return c},getRuntimeName:function(){return"jsmaf"},getRuntimeVersion:function(){return typeof jsmaf!=f&&i.tn(jsmaf.version)?jsmaf.version:c},getDisplayResolution:function(){return typeof jsmaf!=f&&i.tn(jsmaf.screenWidth)&&i.tn(jsmaf.screenHeight)?jsmaf.screenWidth+"x"+jsmaf.screenHeight:l},getLanguage:function(){return typeof jsmaf!=f&&i.tn(jsmaf.locale)?jsmaf.locale:c},getPackageName:function(){return null},isConnectionAvailable:_,isCompatible:function(){return typeof jsmaf!=f},setTimeout:function(n,t){return jsmaf.setTimeout(n,t)},setInterval:function(n,t){return jsmaf.setInterval(n,t)},clearTimeout:function(n){return jsmaf.clearTimeout(n)},clearInterval:function(n){return jsmaf.clearInterval(n)},getDeviceArchitecture:function(){if(typeof jsmaf==f||!i.tn(jsmaf.platform))var n=c;return"ps3"==jsmaf.platform?n="cell":"ps4"==jsmaf.platform?n="ps4":"vita"==jsmaf.platform&&(n="vita"),n},getConnectionType:function(){return _()&&typeof jsmaf!=f&&i.tn(jsmaf.connectionType)?"wired"==jsmaf.connectionType?"eth":"wireless"==jsmaf.connectionType?"wifi":"phone"==jsmaf.connectionType?"wwan":c:c},getDeviceJailBrokenFlag:function(){return c},isConnectionSecure:function(){return typeof document!=f&&null!=document&&"s"===document.location.href.charAt(4)}};t.exports=g},{17:17,21:21,27:27,46:46,48:48}],36:[function(n,t,e){var i=n(50),r=n(52).mr,o=n(46),u=n(29),s=n(17),a=s.D,f=s.Qt,c={PLATFORM:"generic",httpGet:i,httpPost:r,Storage:o,IO:u,onDataFetch:function(n){n()},getCrossPublisherId:function(){return null},getAppName:function(){return a},getAppVersion:function(){return a},getVisitorId:function(){return+new Date+~~(1e3*Math.random())},getVisitorIdSuffix:function(){return"72"},getDeviceModel:function(){return a},getPlatformVersion:function(){return a},getPlatformName:function(){return"js"},getRuntimeName:function(){return a},getRuntimeVersion:function(){return a},getDisplayResolution:function(){return f},getApplicationResolution:function(){return f},getLanguage:function(){return a},getPackageName:function(){return null},isConnectionAvailable:function(){return!0},isCompatible:function(){return!0},autoSelect:function(){},autoDetect:function(){},setPlatformAPI:function(){},isCrossPublisherIdChanged:function(){return!1},setTimeout:function(n,t){return setTimeout(n,t)},setInterval:function(n,t){return setInterval(n,t)},clearTimeout:function(n){return clearTimeout(n)},clearInterval:function(n){return clearInterval(n)},getDeviceArchitecture:function(){return a},getConnectionType:function(){return a},getDeviceJailBrokenFlag:function(){return a},isConnectionSecure:function(){return!1},processMeasurementLabels:function(){}};t.exports=c},{17:17,29:29,46:46,50:50,52:52}],37:[function(n,t,e){var i=n(21),r=n(17),o=n(50),u=n(48).gr,s=n(52).mr,a=n(46),f=n(29),c="undefined",l=r.D,p=r.Qt,v=null,d=null,h=null;function _(){if(null==v){var n=function(){if(typeof ns_!=c&&i.tn(ns_.netcastDevice)){if(i.tn(ns_.netcastDevice.net_macAddress)&&i.lt(ns_.netcastDevice.net_macAddress))return ns_.netcastDevice.net_macAddress;if(i.tn(ns_.netcastDevice.serialNumber)&&i.lt(ns_.netcastDevice.serialNumber))return ns_.netcastDevice.serialNumber}return null}();null!=n?(d="31",h=v=n):(v=+new Date+~~(1e3*Math.random()),d="72",h=null)}}var g={PLATFORM:"netcast",httpGet:function(){return typeof Image!=c?o.apply(this,arguments):u.apply(this,arguments)},httpPost:s,Storage:a,IO:f,getCrossPublisherId:function(){return _(),h},getAppName:function(){return l},getAppVersion:function(){return l},getVisitorId:function(){return _(),v},getVisitorIdSuffix:function(){return d},getDeviceModel:function(){return typeof ns_!=c&&i.tn(ns_.netcastDevice)&&i.tn(ns_.netcastDevice.modelName)&&ns_.netcastDevice.modelName||l},getPlatformVersion:function(){return typeof ns_!=c&&i.tn(ns_.netcastDevice)&&i.pe(ns_.netcastDevice.version,l)||l},getPlatformName:function(){return"js"},getRuntimeName:function(){return typeof ns_!=c&&i.tn(ns_.netcastDevice)?"lg-ott"+i.pe(ns_.netcastDevice.platform,l):l},getRuntimeVersion:function(){if(typeof ns_!=c&&i.tn(ns_.netcastDevice)){if(i.tn(ns_.netcastDevice.version))return ns_.netcastDevice.version;if(i.tn(ns_.netcastDevice.hwVersion))return ns_.netcastDevice.hwVersion;if(i.tn(ns_.netcastDevice.swVersion))return ns_.netcastDevice.swVersion}return l},getDisplayResolution:function(){if(typeof ns_!=c&&i.tn(ns_.netcastDevice)&&i.tn(ns_.netcastDevice.osdResolution))switch(ns_.netcastDevice.osdResolution){case 0:return"640x480";case 1:return"720x576";case 2:return"1280x720";case 3:return"1920x1080";case 4:return"1366x768"}return p},getLanguage:function(){return typeof ns_!=c&&i.tn(ns_.netcastDevice)&&i.pe(ns_.netcastDevice.tvLanguage2,i.pe(window.navigator.language))||l},getPackageName:function(){return null},isConnectionAvailable:function(){return typeof ns_.netcastDevice===c||!!ns_.netcastDevice.net_isConnected},getConnectionType:function(){if(typeof ns_.netcastDevice!==c){if(0===ns_.netcastDevice.networkType)return"eth";if(1===ns_.netcastDevice.networkType)return"wifi"}return l},isCompatible:function(){return typeof ns_!=c&&typeof ns_.netcastDevice!=c&&typeof ns_.netcastDevice.version!=c&&typeof window!=c&&typeof window.navigator!=c},isConnectionSecure:function(){return typeof document!=c&&null!=document&&"s"===document.location.href.charAt(4)}};t.exports=g},{17:17,21:21,29:29,46:46,48:48,50:50,52:52}],38:[function(d,h,_){(function(n){var t=d(21),e=d(17),i=d(52).mr,r=d(46),o=d(29),u="undefined",s=e.D,a=e.Qt,f=null,c=null,l=null;function p(){null==f&&(f=+new Date+~~(1e3*Math.random()),c="72",l=null)}var v={PLATFORM:"nodejs",httpGet:function(n,t){new function(e){var i=this,r=0;i.send=function(n){d("http").get(n,function(n){var t=n.statusCode;if((302==t||301==t)&&r<20&&n.headers&&n.headers.location)return r++,void i.send(n.headers.location);e(t)}).on("error",function(){e()})}}(t).send(n)},httpPost:i,Storage:r,IO:o,getCrossPublisherId:function(){return p(),l},getVisitorId:function(){return p(),f},getVisitorIdSuffix:function(){return c},getPlatformVersion:function(){var n=d("os");return[n.type(),n.platform(),n.release()].join(";")},getPlatformName:function(){return"js"},getRuntimeName:function(){return"nodejs"},getRuntimeVersion:function(){return typeof process===u||t.jt(process.version)?s:process.version},getDisplayResolution:function(){return a},isCompatible:function(){return typeof window===u&&typeof h!==u&&typeof _!==u&&typeof n!==u&&typeof process!==u&&t.tn(process.version)},isConnectionSecure:function(){return!1}};h.exports=v}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{17:17,21:21,29:29,46:46,52:52,undefined:void 0}],39:[function(n,t,e){var i=n(24),r=n(32),o=n(36),u=n(40),s=n(37),a=n(43),f=n(33),c=n(41),l=n(30),p=n(44),v=n(31),d=n(42),h=n(35),_=n(38),g=n(34),m=!1;o.autoDetect=function(){m||(m=!0,u.isCompatible()?i.extend(o,u):s.isCompatible()?i.extend(o,s):a.isCompatible()?i.extend(o,a):f.isCompatible()?i.extend(o,f):c.isCompatible()?i.extend(o,c):l.isCompatible()?i.extend(o,l):p.isCompatible()?i.extend(o,p):v.isCompatible()?i.extend(o,v):d.isCompatible()?i.extend(o,d):h.isCompatible()?i.extend(o,h):_.isCompatible()?i.extend(o,_):g.isCompatible()&&i.extend(o,g))},o.autoSelect=o.autoDetect,o.setPlatformAPI=function(n){switch(m=!0,n){case r.SmartTV:i.extend(o,u);break;case r.Netcast:i.extend(o,s);break;case r.Cordova:i.extend(o,f);break;case r.Trilithium:i.extend(o,c);break;case r.AppleTV:i.extend(o,l);break;case r.Chromecast:i.extend(o,v);break;case r.Xbox:i.extend(o,p);break;case r.webOS:i.extend(o,a);break;case r.tvOS:i.extend(o,d);break;case r.JSMAF:i.extend(o,h);break;case r.nodejs:i.extend(o,_);break;case r.html5:i.extend(o,g);break;case r.Skeleton:break;default:m=!1}}},{24:24,30:30,31:31,32:32,33:33,34:34,35:35,36:36,37:37,38:38,40:40,41:41,42:42,43:43,44:44}],40:[function(n,t,e){var i=n(21),r=n(17),o=n(48).gr,u=n(52).mr,s=n(47),a=n(28),f="undefined",c=r.D,l=r.Qt,p=null,v=null,d=null;function h(){if(null==p){var n=function(){if("object"!=typeof sf||"object"!=typeof sf.core||"function"!=typeof sf.core.sefplugin)return null;var n=sf.core.sefplugin("NNAVI");if("function"!=typeof n.Open||"function"!=typeof n.Execute)return null;n.Open("Network","1.001","Network");var t=n.Execute("GetMAC","0");if(!i.jt(t))return t;if(t=n.Execute("GetMAC","1"),!i.jt(t))return t;var e=n.Execute("GetDeviceID");return i.jt(e)?null:e}();null!=n?(v="31",d=p=n):(p=+new Date+~~(1e3*Math.random()),v="72",d=null)}}var _={PLATFORM:"smarttv",httpGet:o,httpPost:u,Storage:s,IO:a,getCrossPublisherId:function(){return h(),d},getAppName:function(){return c},getAppVersion:function(){return typeof sf!=f&&i.tn(sf.env)&&i.tn(sf.env.getAppVersion)&&sf.env.getAppVersion()||c},getVisitorId:function(){return h(),p},getVisitorIdSuffix:function(){return v},getDeviceModel:function(){return typeof sf!=f&&i.tn(sf.core)&&i.tn(sf.core.getEnvValue)&&sf.core.getEnvValue("modelid")||c},getPlatformVersion:function(){return"2.0.0"},getPlatformName:function(){return"js"},getRuntimeName:function(){if(typeof sf!==f&&i.tn(sf.env)&&i.tn(sf.env.getProductType)&&i.tn(sf.env.PRODUCTTYPE_TV)&&i.tn(sf.env.PRODUCTTYPE_MONITOR)&&i.tn(sf.env.PRODUCTTYPE_BD)){var n=[];return n[sf.env.PRODUCTTYPE_TV]="samsung-smarttv-tv",n[sf.env.PRODUCTTYPE_MONITOR]="samsung-smarttv-monitor",n[sf.env.PRODUCTTYPE_BD]="samsung-smarttv-bd",n[sf.env.getProductType()]}},getRuntimeVersion:function(){return typeof sf!=f&&i.tn(sf.env)&&i.tn(sf.env.getFirmwareVer)&&sf.env.getFirmwareVer().version},getDisplayResolution:function(){if(typeof sf===f||!i.tn(sf.env)||!i.tn(sf.env.getScreenSize))return l;var n=sf.env.getScreenSize();return n.width+"x"+n.height},getLanguage:function(){if(typeof sf!==f&&i.tn(sf.env)&&i.tn(sf.env.getLanguageCode))return sf.env.getLanguageCode()},getPackageName:function(){return null},isConnectionAvailable:function(){return!0},isCompatible:function(){return typeof window!=f&&typeof window.navigator!=f&&typeof sf!=f&&typeof sf.env!=f},getConnectionType:function(){if("object"!=typeof sf||"object"!=typeof sf.core||"function"!=typeof sf.core.sefplugin)return c;var n=sf.core.sefplugin("NETWORK");if("function"!=typeof n.Open||"function"!=typeof n.Execute)return c;n.Open("Network","1.001","Network");var t=n.Execute("GetActiveType");return 0===t?"wired":1===t?"wireless":c},isConnectionSecure:function(){return typeof document!=f&&null!=document&&"s"===document.location.href.charAt(4)}};t.exports=_},{17:17,21:21,28:28,47:47,48:48,52:52}],41:[function(n,t,e){var i=n(21),r=n(17),o=n(51),u=n(52),s=n(46),a=n(29),f="undefined",c=r.D,l=r.Qt,p=null,v=null,d=null;function h(){if(null==p){var n=i.lt(engine.stats.device.id)?engine.stats.device.id:i.lt(engine.stats.network.mac)?engine.stats.network.mac:null;null!=n?(v="31",d=p=n):(p=+new Date+~~(1e3*Math.random()),v="72",d=null)}}var _={PLATFORM:"trilithium",httpGet:o,httpPost:u,Storage:s,IO:a,getCrossPublisherId:function(){return h(),d},getAppName:function(){return i.lt(engine.stats.application.name)?engine.stats.application.name:c},getAppVersion:function(){return i.lt(engine.stats.application.version)?engine.stats.application.version:c},getVisitorId:function(){return h(),p},getVisitorIdSuffix:function(){return v},getDeviceModel:function(){return i.pe(engine.stats.device.platform,c)},getPlatformVersion:function(){return""},getPlatformName:function(){return"js"},getRuntimeName:function(){return"trilithium"},getRuntimeVersion:function(){return i.pe(engine.stats.device.version,c)},getDisplayResolution:function(){return typeof screen!=f&&typeof screen.height!=f&&typeof screen.width!=f?screen.height+"x"+screen.width:l},getLanguage:function(){return c},getPackageName:function(){return null},isConnectionAvailable:function(){return!0},isCompatible:function(){return typeof engine!=f&&typeof engine.stats!=f},isConnectionSecure:function(){return typeof document!=f&&null!=document&&"s"===document.location.href.charAt(4)}};t.exports=_},{17:17,21:21,29:29,46:46,51:51,52:52}],42:[function(n,t,e){var i=n(21),r=n(17),o=n(48).gr,u=n(48)._r,s=n(46),a=n(27),f="undefined",c=r.D,l=r.Qt,p=null,v=null,d=null;function h(){null==p&&(i.jt(Device.vendorIdentifier)?(p=+new Date+~~(1e3*Math.random()),v="72"):(p=Device.vendorIdentifier,v="62"),d=p)}var _={PLATFORM:"tvos",httpGet:o,httpPost:u,Storage:s,IO:a,getCrossPublisherId:function(){return h(),d},getAppName:function(){return Device.appIdentifier},getAppVersion:function(){return Device.appVersion},getVisitorId:function(){return h(),p},getVisitorIdSuffix:function(){return v},getDeviceModel:function(){return Device.productType},getPlatformVersion:function(){return Device.systemVersion},getPlatformName:function(){return"js"},getRuntimeName:function(){return"tvos"},getRuntimeVersion:function(){return Device.systemVersion},getDisplayResolution:function(){return l},getLanguage:function(){return Settings.language},getPackageName:function(){return c},isConnectionAvailable:function(){return!0},isCompatible:function(){return typeof window===f&&typeof Device!==f&&"Apple TV"===Device.model},isConnectionSecure:function(){return!0}};t.exports=_},{17:17,21:21,27:27,46:46,48:48}],43:[function(n,t,e){var s,a,f,i=n(21),r=n(17),o=n(50),u=n(48)._r,c=n(46),l=n(27),p="undefined",v=r.D,d=r.Qt;var h={PLATFORM:"webos",httpGet:o,httpPost:u,Storage:c,IO:l,onDataFetch:function(n,t){var e,i,r,o=3,u=function(){0==--o&&n()};e=u,webOS.service.request("luna://com.webos.service.tv.systemproperty",{method:"getSystemInfo",parameters:{keys:["modelName","firmwareVersion","UHD","sdkVersion"]},onSuccess:function(n){n.returnValue&&(s=n),e()},onFailure:function(){e()}}),i=u,webOS.service.request("luna://com.webos.settingsservice",{method:"getSystemSettings",parameters:{category:"option"},onSuccess:function(n){n.returnValue&&(a=n),i()},onFailure:function(){i()}}),r=u,webOS.service.request("luna://com.webos.service.connectionmanager",{method:"getStatus",onSuccess:function(n){n.returnValue&&(f=n),r()},onFailure:function(){r()}})},getCrossPublisherId:function(){return typeof webOS!==p&&webOS.device&&webOS.device.serialNumber&&"Unknown"!=webOS.device.serialNumber?webOS.device.serialNumber:null},getAppName:function(){return v},getAppVersion:function(){return v},getVisitorId:function(){return+new Date+~~(1e3*Math.random())},getVisitorIdSuffix:function(){return"72"},getDeviceModel:function(){return s&&s.modelName?s.modelName:v},getPlatformVersion:function(){return s&&s.sdkVersion?s.sdkVersion:v},getPlatformName:function(){return"js"},getRuntimeName:function(){return"webOS"},getRuntimeVersion:function(){return typeof webOS!==p&&webOS.device?webOS.device.platformVersion:v},getDisplayResolution:function(){var n=0;typeof webOS!==p&&webOS.device?n=webOS.device.screenWidth:typeof window!=p&&window.screen&&(n=window.screen.availWidth);var t=0;return typeof webOS!==p&&typeof webOS.device!==p?t=webOS.device.screenHeight:typeof window!=p&&window.screen&&(t=window.screen.availHeight),0<n&&0<t?n+"x"+t:d},getLanguage:function(){return a&&a.locales&&(a.locales.UI||a.locales.TV)||v},getPackageName:function(){return v},isConnectionAvailable:function(){return!f||!f.isInternetConnectionAvailable||f.isInternetConnectionAvailable},isCompatible:function(){return typeof window!==p&&!i.jt(window.webOS)&&!i.jt(webOS.service)&&!i.jt(webOS.service.request)},getConnectionType:function(){if(f&&(f.wired||f.wifi)){if("connected"===f.wired.state&&"yes"===f.wired.onInternet)return"eth";if("connected"===f.wifi.state&&"yes"===f.wifi.onInternet)return"wifi"}return v},isConnectionSecure:function(){return typeof document!=p&&null!=document&&"s"===document.location.href.charAt(4)}};t.exports=h},{17:17,21:21,27:27,46:46,48:48,50:50}],44:[function(n,t,e){var i=n(17),r=n(53).wr,o=n(53).yr,u=n(46),s=n(27),a="undefined",f=i.D,c=i.Qt,l=null,p=null,v=null,d=!1,h=!1,_=!1;function g(){typeof Windows!=a&&Windows&&Windows.Xbox&&Windows.Xbox.ApplicationModel&&Windows.Xbox.ApplicationModel.Core&&Windows.Xbox.ApplicationModel.Core.CoreApplicationContext&&Windows.Xbox.ApplicationModel.Core.CoreApplicationContext.addEventListener("currentuserchanged",function(){h=!0}),m(),_=!0}function m(){var n=null;if(typeof Windows!=a&&Windows&&Windows.Xbox&&Windows.Xbox.ApplicationModel&&Windows.Xbox.ApplicationModel.Core&&Windows.Xbox.ApplicationModel.Core.CoreApplicationContext&&Windows.Xbox.ApplicationModel.Core.CoreApplicationContext.currentUser){var t=Windows.Xbox.ApplicationModel.Core.CoreApplicationContext.currentUser;null!=t&&!t.br&&t.Ir&&(n=Windows.Xbox.ApplicationModel.Core.CoreApplicationContext.currentUser.xboxUserId)}v=n}var w={PLATFORM:"xbox",httpGet:r,httpPost:o,Storage:u,IO:s,getCrossPublisherId:function(){return _||g(),h&&m(),v},getAppName:function(){var n=f;return typeof Windows!=a&&Windows&&Windows.ApplicationModel&&Windows.ApplicationModel.Package&&Windows.ApplicationModel.Package.current&&Windows.ApplicationModel.Package.current.id&&Windows.ApplicationModel.Package.current.id.name&&(n=Windows.ApplicationModel.Package.current.id.name),n},getAppVersion:function(){var n=f;if(typeof Windows!=a&&Windows&&Windows.ApplicationModel&&Windows.ApplicationModel.Package&&Windows.ApplicationModel.Package.current&&Windows.ApplicationModel.Package.current.id&&Windows.ApplicationModel.Package.current.id.version){var t=Windows.ApplicationModel.Package.current.id.version;n=t.major+"."+t.minor+"."+t.build+"."+t.revision}return n},getVisitorId:function(){return d||function(){l=typeof Windows!=a&&Windows&&Windows.Xbox&&Windows.Xbox.System&&Windows.Xbox.System.Console&&Windows.Xbox.System.Console.applicationSpecificDeviceId?Windows.Xbox.System.Console.applicationSpecificDeviceId:this.getDeviceModel()+ +new Date+~~(1e3*Math.random()),p="72",d=!0}(),l},getVisitorIdSuffix:function(){return p},getDeviceModel:function(){return"xbox one"},getPlatformVersion:function(){var t=f;return typeof navigator!=a&&navigator&&navigator.userAgent&&navigator.userAgent.split(";").filter(function(n){return-1!=n.indexOf("Windows NT")}).forEach(function(n){t=n.substr(n.indexOf("Windows NT")+11,n.length-1)}),t},getPlatformName:function(){return"xbox"},getRuntimeName:function(){return"winjs"},getRuntimeVersion:function(){var t=f;return typeof Windows!=a&&Windows&&Windows.ApplicationModel&&Windows.ApplicationModel.Package&&Windows.ApplicationModel.Package.current&&Windows.ApplicationModel.Package.current.dependencies&&Windows.ApplicationModel.Package.current.dependencies.filter(function(n){return n&&n.id&&n.id.name&&-1!=n.id.name.indexOf("WinJS")&&n.id.version}).forEach(function(n){t=n.id.version.major+"."+n.id.version.minor+"."+n.id.version.build+"."+n.id.version.revision}),t},getDisplayResolution:function(){var n=c;if(typeof Windows!=a&&Windows&&Windows.Xbox&&Windows.Xbox.Graphics&&Windows.Xbox.Graphics.Display&&Windows.Xbox.Graphics.Display.DisplayConfiguration&&Windows.Xbox.Graphics.Display.DisplayConfiguration.getForCurrentView&&Windows.Xbox.Graphics.Display.DisplayConfiguration.getForCurrentView()&&Windows.Xbox.Graphics.Display.DisplayConfiguration.getForCurrentView().currentDisplayMode&&Windows.Xbox.Graphics.Display.DisplayConfiguration.getForCurrentView().currentDisplayMode.rawWidth&&Windows.Xbox.Graphics.Display.DisplayConfiguration.getForCurrentView().currentDisplayMode.rawHeight){var t=Windows.Xbox.Graphics.Display.DisplayConfiguration.getForCurrentView().currentDisplayMode;n=t.rawWidth+"x"+t.rawHeight}return n},getApplicationResolution:function(){var n=c;return typeof window!=a&&window.innerWidth&&window.innerHeight&&(n=window.innerWidth+"x"+window.innerHeight),n},getLanguage:function(){var n=f;return typeof Windows!=a&&Windows&&Windows.System&&Windows.System.UserProfile&&Windows.System.UserProfile.GlobalizationPreferences&&Windows.System.UserProfile.GlobalizationPreferences.languages&&(n=Windows.System.UserProfile.GlobalizationPreferences.languages.getAt(0)),n},getPackageName:function(){var n=f;return typeof Windows!=a&&Windows&&Windows.ApplicationModel&&Windows.ApplicationModel.Package&&Windows.ApplicationModel.Package.current&&Windows.ApplicationModel.Package.current.id&&Windows.ApplicationModel.Package.current.id.name&&(n=Windows.ApplicationModel.Package.current.id.name),n},isConnectionAvailable:function(){return!(typeof Windows!=a&&Windows&&Windows.Networking&&Windows.Networking.Connectivity&&Windows.Networking.Connectivity.NetworkInformation&&Windows.Networking.Connectivity.NetworkInformation.getInternetConnectionProfile&&Windows.Networking.Connectivity.NetworkInformation.getInternetConnectionProfile()&&Windows.Networking.Connectivity.NetworkInformation.getInternetConnectionProfile().getNetworkConnectivityLevel&&Windows.Networking.Connectivity.NetworkInformation.getInternetConnectionProfile().getNetworkConnectivityLevel())||4==Windows.Networking.Connectivity.NetworkInformation.getInternetConnectionProfile().getNetworkConnectivityLevel()},isCompatible:function(){return typeof WinJS!=a&&WinJS&&typeof Windows!=a&&Windows&&Windows.Xbox},setPlatformAPI:function(){},isCrossPublisherIdChanged:function(){return _||g(),h},getDeviceArchitecture:function(){var n="unknown";if(typeof Windows!=a&&Windows&&Windows.ApplicationModel&&Windows.ApplicationModel.Package&&Windows.ApplicationModel.Package.current&&Windows.ApplicationModel.Package.current.id&&Windows.ApplicationModel.Package.current.id.architecture)switch(Windows.ApplicationModel.Package.current.id.architecture){case 5:n="arm";break;case 11:n="neutral";break;case 9:n="x64";break;case 0:n="x86"}return n},getConnectionType:function(){var n=f;if(typeof Windows!=a&&Windows&&Windows.Networking&&Windows.Networking.Connectivity&&Windows.Networking.Connectivity.NetworkInformation&&Windows.Networking.Connectivity.NetworkInformation.getInternetConnectionProfile&&Windows.Networking.Connectivity.NetworkInformation.getInternetConnectionProfile()&&Windows.Networking.Connectivity.NetworkInformation.getInternetConnectionProfile().networkAdapter&&Windows.Networking.Connectivity.NetworkInformation.getInternetConnectionProfile().networkAdapter.ianaInterfaceType)switch(Windows.Networking.Connectivity.NetworkInformation.getInternetConnectionProfile().networkAdapter.ianaInterfaceType){case 6:n="eth";break;case 71:n="wifi"}return n},getDeviceJailBrokenFlag:function(){return f},isConnectionSecure:function(){return typeof document!=a&&null!=document&&"s"===document.location.href.charAt(4)}};t.exports=w},{17:17,27:27,46:46,53:53}],45:[function(n,t,e){var i=n(24),r="undefined",o="cs_";t.exports=function(){var e=typeof atv!=r&&typeof atv.localStorage!=r&&atv.localStorage||null;i.extend(this,{get:function(n){return e&&n&&e.getItem(o+n)||null},set:function(n,t){e&&n&&(e[o+n]=t)},has:function(n){return e&&n&&null!=e.getItem(o+n)||!1},remove:function(n){e&&n&&e.removeItem(o+n)},clear:function(){}})}},{24:24}],46:[function(n,t,e){var i=n(24),r="cs_";t.exports=function(){var e="undefined"!=typeof localStorage?localStorage:null;i.extend(this,{get:function(n){try{return e&&"function"==typeof e.getItem?e.getItem(r+n):e?e[r+n]:e}catch(n){}},set:function(n,t){try{e&&"function"==typeof e.setItem?e.setItem(r+n,t):e&&(e[r+n]=t)}catch(n){}},has:function(n){try{return e&&"function"==typeof e.getItem?e.getItem(r+n):e?e[r+n]:e}catch(n){}},remove:function(n){try{e&&"function"==typeof e.removeItem?e.removeItem(r+n):e&&delete e[r+n]}catch(n){}},clear:function(){try{for(var n=0;e&&n<e.length;++n){var t=e.key(n);t.substr(0,r.length)===r&&("function"==typeof e.removeItem?e.removeItem(t):delete e[t])}}catch(n){}}})}},{24:24}],47:[function(n,t,e){var i,r,o=n(24),u="cs_";"undefined"!=typeof sf?r=i=function(n,t){sf.core.localData(n,t)}:(r=function(n,t){$.sf.setData(n,void 0===t?null:t)},i=function(n){return $.sf.getData(n)});t.exports=function(){o.extend(this,{get:function(n){return i(u+n)},set:function(n,t){r(u+n,t)},has:function(n){return void 0!==i(u+n)},remove:function(n){r(u+n,null)}})}},{24:24}],48:[function(n,t,e){var r="undefined";e.gr=function(n,t){if(typeof XMLHttpRequest!=r){var e=new XMLHttpRequest;e.open("GET",n,!0),e.onreadystatechange=function(){4===e.readyState&&(t&&t(e.status),e=null)},e.send()}else"function"==typeof setTimeout?t&&setTimeout(t,0):t&&t()},e._r=function(n,t,e){if(typeof XMLHttpRequest!=r){var i=new XMLHttpRequest;i.open("POST",n,!0),i.onreadystatechange=function(){4===i.readyState&&(e&&e(i.status),i=null)},i.send(t)}else"function"==typeof setTimeout?e&&setTimeout(e,0):e&&e()}},{}],49:[function(n,t,e){var r="undefined";e.dr=function(n,t){if(typeof atv!=r&&typeof XMLHttpRequest!=r){var e=new XMLHttpRequest;e.open("GET",n,!0),e.onreadystatechange=function(){4==e.readyState&&(t&&t(e.status),e=null)},e.send()}else typeof atv!=r&&"function"==typeof atv.setTimeout?t&&atv.setTimeout(t,0):t&&t()},e.hr=function(n,t,e){if(typeof atv!=r&&typeof XMLHttpRequest!=r){var i=new XMLHttpRequest;i.open("POST",n,!0),i.onreadystatechange=function(){4===i.readyState&&(e&&e(i.status),i=null)},i.send(t)}else typeof atv!=r&&"function"==typeof atv.setTimeout?e&&atv.setTimeout(e,0):e&&e()}},{}],50:[function(n,t,e){t.exports=function(n,t){if("undefined"!=typeof Image){var e=new Image;e.onload=function(){t&&t(200),e=null},e.onerror=function(){t&&t(),e=null},e.src=n}else"function"==typeof setTimeout?t&&setTimeout(t,0):t&&t()}},{}],51:[function(n,t,e){t.exports=function(n,t){"undefined"!=typeof engine?(engine.createHttpClient().createRequest("GET",n,null).start(),t&&setTimeout(t,0)):"function"==typeof setTimeout?t&&setTimeout(t,0):t&&t()}},{}],52:[function(n,t,e){t.exports.Sr=function(n,t){"function"==typeof setTimeout?t&&setTimeout(function(){t(200)},0):t&&t(200)},t.exports.mr=function(n,t,e){"function"==typeof setTimeout?e&&setTimeout(function(){e(200)},0):e&&e(200)}},{}],53:[function(n,t,e){var i="undefined";e.wr=function(n,t){typeof WinJS!=i&&typeof WinJS.xhr!=i?WinJS.xhr({url:n}).then(function(n){t&&t(n.status)},function(){t&&t()}):"function"==typeof setTimeout?t&&setTimeout(t,0):t&&t()},e.yr=function(n,t,e){typeof WinJS!=i&&typeof WinJS.xhr!=i?WinJS.xhr({type:"post",url:n,data:t,headers:{"Content-type":"application/xml"}}).then(function(n){e&&e(n.status)},function(){e&&e()}):"function"==typeof setTimeout?e&&setTimeout(e,0):e&&e()}},{}],54:[function(n,t,e){var on=n(24),un=n(17),sn=n(21),an=n(68),fn=n(23),cn=500,ln=100;function i(){var t,e,I,S,i,r,o,u,P,A,C,k,s,a,E,T,f,N,L,c,D,R,M,O,W,V,x,U,B,F,j,l,G,K,n,q,p,v,d,H,h,_,g,Y,m,w,J,y,z,Q,X,Z,$,nn,b,tn,en=this,rn=cn;on.extend(en,{Pr:function(){return t},Ar:function(n){t=n},setPlaybackIntervalMergeTolerance:function(n){rn=n},getPlaybackIntervalMergeTolerance:function(){return rn},Cr:function(n,t){S[n]=t},kr:function(n){return S[n]},Er:function(n){return null!=S[n]},setLabels:function(n){n&&on.extend(i,n)},getLabels:function(){return i},setLabel:function(n,t){i[n]=t},getLabel:function(n){return i[n]},dt:function(n){return n in i},Tr:function(){return parseInt(en.kr("ns_st_cn"))},Nr:function(n){en.Cr("ns_st_cn",n+"")},Lr:function(){return en.dt("ns_st_pn")?parseInt(en.getLabel("ns_st_pn")):parseInt(en.kr("ns_st_pn"))},Dr:function(n,t,e){var i=n,r=parseInt(i.ns_st_po),o=sn.jt(i.ns_st_ap)?D:parseInt(i.ns_st_ap);e&&tn<0&&0<k-r?(i.ns_st_ap=o+k-r,i.ns_st_dap=o+k-r-R):e&&0<tn&&0<r-k?(i.ns_st_ap=o+r-k,i.ns_st_dap=o+r-k-R):(i.ns_st_ap=o,i.ns_st_dap=o-R);var u=sn.jt(i.ns_st_pt)?en.Rr():parseInt(i.ns_st_pt);i.ns_st_pt=u+(isNaN(P)?0:t-P)+"",i.ns_st_dpt=u+(isNaN(P)?0:t-P)-A+"",i.ns_st_ipt=u+(isNaN(P)?0:t-P)-C+"";var s=sn.jt(i.ns_st_et)?en.Mr():parseInt(i.ns_st_et);i.ns_st_et=s+(isNaN(E)?0:t-E)+"",i.ns_st_det=s+(isNaN(E)?0:t-E)-T+"";var a=sn.jt(i.ns_st_bt)?en.Or():parseInt(i.ns_st_bt);i.ns_st_bt=a+"",i.ns_st_dbt=a+(isNaN(G)?0:t-G)-K+"";var f=M,c=O;e&&(f=an.Wr(fn(M),tn<0?r:W,tn<0?W:r,rn),c=an.Wr(fn(O),tn<0?r:W,tn<0?W:r,rn));for(var l,p=0,v=0,d=0;d<f.length;d++)p+=l=Math.abs(f[d].end-f[d].start),v<l&&(v=l);var h=0,_=0;for(d=0;d<c.length;d++)h+=l=Math.abs(c[d].end-c[d].start),_<l&&(_=l);i.ns_st_upc=p+"",i.ns_st_dupc=p-V+"",i.ns_st_iupc=p-x+"",i.ns_st_iupc=x<p?p-x+"":"0",i.ns_st_lpc=v+"",i.ns_st_dlpc=v-U+"",i.ns_st_upa=h+"",i.ns_st_dupa=h-B+"",i.ns_st_iupa=F<h?h-F+"":"0",i.ns_st_lpa=_+"",i.ns_st_dlpa=_-j+"";var g=sn.jt(i.ns_st_pc)?en.Vr():parseInt(i.ns_st_pc);i.ns_st_pc=g+"",i.ns_st_dpc=g-J+"";var m=sn.jt(i.ns_st_skc)?en.xr():parseInt(i.ns_st_skc);i.ns_st_skc=m+"",i.ns_st_dskc=m-z+"";var w=sn.jt(i.ns_st_bc)?en.Ur():parseInt(i.ns_st_bc);i.ns_st_bc=w+"",i.ns_st_dbc=w-q+"";var y=sn.jt(i.ns_st_skt)?en.Br():parseInt(i.ns_st_skt);i.ns_st_skt=y+"",i.ns_st_dskt=y-H+"";var b=sn.jt(i.ns_st_ska)?en.Fr():parseInt(i.ns_st_ska);i.ns_st_ska=b+"",i.ns_st_dska=b-Y+"",I&&(i.ns_st_spc=Q+"",i.ns_st_apc=X+"",i.ns_st_sq=Z+"",i.ns_st_asq=$+""),i.ns_st_sc=I||0!=nn?nn+"":"1",i.ns_st_rt=tn+"",i.ns_st_ldw=N,i.ns_st_ldo=L,on.extend(i,S)},jr:function(n){A=parseInt(n.ns_st_pt),R=parseInt(n.ns_st_ap),T=parseInt(n.ns_st_et),K=parseInt(n.ns_st_bt),V=parseInt(n.ns_st_upc),U=parseInt(n.ns_st_lpc),B=parseInt(n.ns_st_upa),j=parseInt(n.ns_st_lpa),J=parseInt(n.ns_st_pc),z=parseInt(n.ns_st_skc),q=parseInt(n.ns_st_bc),H=parseInt(n.ns_st_skt),Y=parseInt(n.ns_st_ska),en.Gr(0)},Kr:function(n){C=parseInt(n.ns_st_pt),x=parseInt(n.ns_st_upc),F=parseInt(n.ns_st_upa)},qr:function(){return en.kr("ns_st_vt")},Hr:function(n){en.Cr("ns_st_vt",n+"")},Yr:function(){return en.kr("ns_st_at")},Jr:function(n){en.Cr("ns_st_at",n+"")},zr:function(){return en.kr("ns_st_tt")},Qr:function(n){en.Cr("ns_st_tt",n+"")},Xr:function(){return en.kr("ns_st_cdn")},Zr:function(n){en.Cr("ns_st_cdn",n+"")},$r:function(){return M},no:function(n){M=n},to:function(){return O},eo:function(){w++},io:function(){y++},ro:function(){Z++},oo:function(){return Z},Or:function(){return l},uo:function(n){l=n},so:function(n){if(!isNaN(G)){var t=en.Or();t+=n-G,en.uo(t),G=NaN}},ao:function(n){W=parseInt(n)},fo:function(){return W},co:function(n){isNaN(W)||isNaN(n)||(M=an.Wr(M,tn<0?n:W,tn<0?W:n,rn),O=an.Wr(O,tn<0?n:W,tn<0?W:n,rn),W=NaN)},Mr:function(){return a},lo:function(n){a=n},po:function(n){if(!isNaN(E)){var t=en.Mr();t+=n-E,en.lo(t),E=NaN}},vo:function(){return E},do:function(n){E=n},ho:function(n){isNaN(P)||(u+=n-P,P=NaN)},Rr:function(){return u},_o:function(n){var t=k+c-L;return!o&&isNaN(P)||(t+=Math.floor((n-s)*tn/100)),t},mo:function(n,t){return o?k-n+Math.floor((t-s)*tn/100)+c:0},wo:function(n,t){k=n,s=t},yo:function(){return P},bo:function(n){P=n},Io:function(n){A=n},So:function(){return G},Po:function(n){G=n},Vr:function(){return w},Ao:function(n){w=n},xr:function(){return y},Co:function(n){y=n},ko:function(n){p=n},Eo:function(){return p},To:function(n){_=n},No:function(){return _},Lo:function(n){e=n},Do:function(){return e},Ro:function(n){I=n},Mo:function(){return I},Oo:function(n){v=n},Wo:function(){return v},Vo:function(n){if(!isNaN(v)){var t=en.Br();t+=n-v,en.xo(t),v=NaN}},Br:function(){return d},xo:function(n){d=n},Uo:function(n){m=n},Bo:function(){return m},Fo:function(n){h=n},jo:function(){return h},Go:function(n){g=n},Fr:function(){return g},Ko:function(n){var t,e=en.Fr();e+=Math.abs(n-h),en.Go(e),h==n?t=0:n<h?t=-1:h<n&&(t=1),en.Gr(t),h=0},qo:function(){return parseInt(en.kr("ns_st_skd"))},Gr:function(n){en.Cr("ns_st_skd",n+"")},Ho:function(){O=[],z=y=Y=g=H=d=T=a=j=F=B=Z=J=w=q=n=K=l=C=A=u=R=D=0},Yo:function(){Q++},Jo:function(){nn++},zo:function(){X++},Qo:function(){return V},Xo:function(n){V=n},Zo:function(){return x},$o:function(n){x=n},nu:function(n){U=n},tu:function(){return U},eu:function(){O=[],j=F=B=0},iu:function(n){Q=n},ru:function(n){nn=n},ou:function(n){X=n},uu:function(n){f=n},su:function(){return Q},au:function(){return nn},fu:function(){return X},cu:function(){return f},Ur:function(){return n},lu:function(){n++},pu:function(){return K},vu:function(n){$=n},du:function(){$++},hu:function(){return $},_u:function(){return b},gu:function(n){b=n},mu:function(n){r=!!n},wu:function(){return r},yu:function(){return tn},bu:function(n){tn=n},Iu:function(n){tn<0&&0<k-n?D+=k-n:0<tn&&0<n-k&&(D+=n-k)},Su:function(n){N=n},Pu:function(){return N},Au:function(n){L=n},Cu:function(){return L},ku:function(n){c=n},Eu:function(n){o=n}}),(S={}).ns_st_cl="0",S.ns_st_pn="1",S.ns_st_tp="0",S.ns_st_cn="1",S.ns_st_skd="0",S.ns_st_ci="0",S.c3="*null",S.c4="*null",S.c6="*null",S.ns_st_st="*null",S.ns_st_pu="*null",S.ns_st_pr="*null",S.ns_st_ep="*null",S.ns_st_sn="*null",S.ns_st_en="*null",S.ns_st_ct="*null",e=I=!(i={}),t=un.D,o=!(r=!0),M=[],v=G=W=E=P=NaN,nn=$=Z=X=Q=z=y=J=w=Y=g=H=d=m=h=q=n=K=l=j=F=B=U=x=V=R=D=c=L=N=C=T=f=a=A=k=u=0,b=_=p=!(O=[]),tn=ln}i.Tu=function(n,t,e){for(var i=n.getLabels(),r={},o=0;e&&o<e.length;++o)i.hasOwnProperty(e[o])&&(r[e[o]]=i[e[o]]);t.setLabels(r),t.setPlaybackIntervalMergeTolerance(n.getPlaybackIntervalMergeTolerance())},t.exports=i},{17:17,21:21,23:23,24:24,68:68}],55:[function(n,t,e){t.exports={PAGE_NAME_LABEL:"name",HASH_LABELS:["ns_st_st","ns_st_ci","ns_st_pr","ns_st_sn","ns_st_en","ns_st_ep","ns_st_ty","ns_st_ct","ns_st_li","ns_st_ad","ns_st_bn","ns_st_tb","ns_st_an","ns_st_ta","ns_st_pu","c3","c4","c6"]}},{}],56:[function(n,t,e){var f=n(73),p=n(74),v=n(76),d=n(77),h=n(69),g=n(71),m=n(72),w=n(70),y=n(75),Q=n(78),X=n(79),Z=n(80),$=n(81),nn=n(55),tn=n(68),en=n(65),rn=n(20),on=n(24),un=n(19),sn=n(82),an=n(62),fn=n(63),cn=n(58).Nu,ln=n(58).Lu,pn=n(58).Du,vn=n(61),dn=n(60),hn=n(59),_n=n(18),gn=n(66),mn=n(17),wn=n(2),yn="undefined",bn="6.2.3.180328",In="5.10",Sn="STA",Pn="js_api",An=500,Cn=500;t.exports=function(b){var I,S,P,A,C,k,E,T,N,L,D,R,M,O,t,e,W,V,i,r,o,x,U,s,c,B,F,j=this,n={},u=An,a=Cn,_={},l=!1,G=!0,K=!1,q=!1;function H(n){var t=I.Mu().Ru();if(t==cn.IDLE||t==cn.PLAYBACK_NOT_STARTED||t==cn.BUFFERING_BEFORE_PLAYBACK||t==cn.SEEKING_BEFORE_PLAYBACK){if(n==ln.PLAY)return!0}else if(t==cn.PLAYING){if(n==ln.END||n==ln.AD_SKIP||n==ln.SEEK_START||n==ln.PAUSE)return!0}else if(t==cn.PAUSED||t==cn.BUFFERING_DURING_PAUSE||t==cn.SEEKING_DURING_PLAYBACK||t==cn.SEEKING_DURING_BUFFERING||t==cn.SEEKING_DURING_PAUSE){if(n==ln.END||n==ln.AD_SKIP||n==ln.PLAY)return!0}else if(t==cn.BUFFERING_DURING_PLAYBACK){if(n==ln.PAUSE_ON_BUFFERING||n==ln.END||n==ln.AD_SKIP||n==ln.SEEK_START||n==ln.PAUSE||n==ln.PLAY)return!0}else if(t==cn.BUFFERING_DURING_SEEKING){if(n==ln.END||n==ln.AD_SKIP||n==ln.PAUSE||n==ln.PLAY)return!0}else if(t==cn.PAUSED_DURING_BUFFERING&&(n==ln.END||n==ln.AD_SKIP||n==ln.BUFFER_STOP||n==ln.PLAY))return!0;return!1}function Y(){K||(K=!0,sn.Ou(J))}function J(n){F=n,q=!0}function z(){var n={},t=tn.Wu(n);j.Vu(ln.END,t,n)}on.extend(j,{getConfiguration:function(){return b||{}},Dr:function(n,t,e){var i=I.getPlaybackSession(),r=i.getAsset(),o=!1;if(n==ln.HEARTBEAT){var u=isNaN(V)?W:V;((V=e)<u||q)&&(q=!(o=!0),e<u?(i.xu("1"),I.Uu().$t("System clock jump detected","to the far past")):F?(i.xu("3"),I.Uu().$t("System clock jump detected","to the future")):(i.xu("2"),I.Uu().$t("System clock jump detected","to the near past")),e=u)}var s={};if(l&&(s.c2=c),typeof document!=yn){var a=document;s.c7=a.URL,s.c8=a.title,s.c9=a.referrer}s.ns_ts=+new Date+"",s.ns_st_ev=ln.toString(n),s.ns_st_mp=Pn,s.ns_st_mv=bn,s.ns_st_ub="0",s.ns_st_br="0",s.ns_st_pn="1",s.ns_st_tp="0",s.ns_st_it=pn.toString(pn.Bu),s.ns_st_sv=bn,s.ns_st_smv=In,s.ns_type="hidden",s.ns_st_ec=I.ju().Fu()+"",s.ns_st_ki=I.S().Gu()+"",t.ns_st_po?s.ns_st_po=t.ns_st_po+"":r.wu()?s.ns_st_po=r._o(e)+"":s.ns_st_po=B+"",B=parseInt(s.ns_st_po),i.Dr(s,e),i.getAsset().Dr(s,e,n==ln.HEARTBEAT);var f={};return on.extend(f,_),on.extend(f,i.getLabels()),on.extend(f,i.getAsset().getLabels()),on.extend(f,t),o&&(r.wo(B,V),i.bo(V-parseInt(s.ns_st_dpt)),r.bo(V-parseInt(s.ns_st_dpt)),r.do(V-parseInt(s.ns_st_det))),{Wt:n,Ut:s,Ku:f}},Vu:function(n,t,e,i){j.qu();var r=I.Mu().Ru(),o=I.Mu().Hu(n);if(null!=o&&o!=r)if(!j.isThrottlingEnabled()||r!=cn.PLAYING&&r!=cn.PAUSED||o!=cn.PLAYING&&o!=cn.PAUSED||i){var u,s;b.systemClockJumpDetection&&(o==cn.IDLE?(sn.Yu(J),K=!1):r==cn.IDLE&&Y()),G&&tn.Ju(r)&&!tn.Ju(o)?an.zu(z):G&&!tn.Ju(r)&&tn.Ju(o)&&an.Qu(z);var a=I.getPlaybackSession(),f=a.getAsset(),c=isNaN(V)?W:V,l=!1;((V=t)<c||q)&&(q=!(l=!0),t<c?(a.xu("1"),I.Uu().$t("System clock jump detected","to the far past")):F?(a.xu("3"),I.Uu().$t("System clock jump detected","to the future")):(a.xu("2"),I.Uu().$t("System clock jump detected","to the near past")),t=c),e.ns_st_po?I.Mu().Ru()==cn.IDLE?f.Au(f.Pu()-parseInt(e.ns_st_po)):f.Au(f.mo(parseInt(e.ns_st_po),t)):f.wu()?I.Mu().Ru()==cn.IDLE?e.ns_st_po=f.Pu()-f.Cu()+"":e.ns_st_po=f._o(t)+"":e.ns_st_po=B+"";var p,v,d,h,_=parseInt(e.ns_st_po);B=_,p=n,v=t,d=e,h=I.Mu().Ru(),p==ln.AD_SKIP&&!d.hasOwnProperty("ns_st_ui")&&H(p)?d.ns_st_ui="skip":p==ln.SEEK_START&&!d.hasOwnProperty("ns_st_ui")&&H(p)&&(d.ns_st_ui="seek"),h==cn.IDLE?p==ln.BUFFER?S.Xu(v,d):p==ln.SEEK_START?S.Zu(v,d):p==ln.PLAY&&S.$u(v,d):h==cn.PLAYBACK_NOT_STARTED?p==ln.END||p==ln.AD_SKIP?A.ns(v,d):p==ln.SEEK_START?A.Zu(v,d):p==ln.PLAY?A.$u(v,d):p==ln.BUFFER&&A.Xu(v,d):h==cn.PLAYING?p==ln.END||p==ln.AD_SKIP?C.ns(v,d):p==ln.BUFFER?C.Xu(v,d):p==ln.SEEK_START?C.Zu(v,d):p==ln.PAUSE&&C.ts(v,d):h==cn.PAUSED?p==ln.END||p==ln.AD_SKIP?P.ns(v,d):p==ln.PLAY?P.$u(v,d):p==ln.BUFFER?O.es(v,d):p==ln.SEEK_START&&O.rs(v,d):h==cn.BUFFERING_BEFORE_PLAYBACK?p==ln.END||p==ln.AD_SKIP?k.ns(v,d):p==ln.BUFFER_STOP?k.os(v,d):p==ln.SEEK_START?k.Zu(v,d):p==ln.PAUSE?k.ts(v,d):p==ln.PLAY&&k.$u(v,d):h==cn.BUFFERING_DURING_PLAYBACK?p==ln.PAUSE_ON_BUFFERING?E.us(v,d):p==ln.BUFFER_STOP?O.ss(v,d):p==ln.END||p==ln.AD_SKIP?E.ns(v,d):p==ln.SEEK_START?E.Zu(v,d):p==ln.PAUSE?E.ts(v,d):p==ln.PLAY&&O.ss(v,d):h==cn.BUFFERING_DURING_SEEKING?p==ln.END||p==ln.AD_SKIP?T.ns(v,d):p==ln.PAUSE?T.ts(v,d):p==ln.PLAY?T.$u(v,d):p==ln.BUFFER_STOP&&O.as(v,d):h==cn.BUFFERING_DURING_PAUSE?p==ln.END||p==ln.AD_SKIP?N.fs(v,d):p==ln.PAUSE?N.ts(v,d):p==ln.PLAY?N.$u(v,d):p==ln.SEEK_START?O.rs(v,d):p==ln.BUFFER_STOP&&O.as(v,d):h==cn.SEEKING_BEFORE_PLAYBACK?p==ln.END||p==ln.AD_SKIP?D.ns(v,d):p==ln.PAUSE?D.ts(v,d):p==ln.PLAY?D.$u(v,d):p==ln.BUFFER&&O.es(v,d):h==cn.SEEKING_DURING_PLAYBACK?p==ln.END||p==ln.AD_SKIP?M.ns(v,d):p==ln.PLAY?M.$u(v,d):p==ln.BUFFER?O.es(v,d):p==ln.PAUSE&&O.cs(v,d):h==cn.SEEKING_DURING_BUFFERING?p==ln.PAUSE?R.ts(v,d):p==ln.BUFFER?O.es(v,d):p==ln.PLAY?O.ls(v,d):p==ln.END||p==ln.AD_SKIP?O.ps(v,d):p==ln.BUFFER_STOP&&O.vs(v,d):h==cn.PAUSED_DURING_BUFFERING?p==ln.END||p==ln.AD_SKIP?L.ns(v,d):p==ln.BUFFER_STOP?L.ds(v,d):p==ln.SEEK_START?L.Zu(v,d):p==ln.PAUSE?L.ts(v,d):p==ln.PLAY&&L.ds(v,d):h==cn.SEEKING_DURING_PAUSE&&(p==ln.BUFFER?O.es(v,d):p==ln.PLAY?O.ls(v,d):p==ln.PAUSE?O.cs(v,d):p==ln.END||p==ln.AD_SKIP?O.ps(v,d):p==ln.BUFFER_STOP&&O.vs(v,d)),H(p)&&I.getPlaybackSession().hs(!0),f.wo(_,t),f.ku(f.Cu());var g=0;isNaN(I.Mu()._s())||(g=t-I.Mu()._s()),I.Mu().Vu(n,t),l&&(f.wo(_,V),o!=cn.IDLE&&o!=cn.PLAYBACK_NOT_STARTED&&o!=cn.SEEKING_BEFORE_PLAYBACK&&o!=cn.BUFFERING_BEFORE_PLAYBACK&&f.do(V),o!=cn.BUFFERING_BEFORE_PLAYBACK&&o!=cn.BUFFERING_DURING_PAUSE&&o!=cn.BUFFERING_DURING_PLAYBACK&&o!=cn.BUFFERING_DURING_SEEKING&&o!=cn.PAUSED_DURING_BUFFERING||(a.Po(V),f.Po(V)),o==cn.PLAYING&&(a.bo(V),f.bo(V)),o!=cn.SEEKING_BEFORE_PLAYBACK&&o!=cn.SEEKING_DURING_BUFFERING&&o!=cn.SEEKING_DURING_PAUSE&&o!=cn.SEEKING_DURING_PLAYBACK&&o!=cn.BUFFERING_DURING_SEEKING||f.Oo(V)),I.Uu().log("Transition from",tn.gs(r),"to",tn.gs(o),"due to event:",ln.toString(n));for(var m=0,w=U.length;m<w;m++)U[m](r,o,e,g)}else{I.Uu().$t("Throttled event:",ln.toString(n),"during state",tn.gs(r),e,j.getThrottlingDelay(),"ms");var y=(u=n,s=e,function(){j.Vu(u,t,s,!0)});x=j.getPlatformAPI().setTimeout(y,j.getThrottlingDelay())}else I.Uu().$t("Ignored event:",ln.toString(n),"during state",tn.gs(r),e)},ms:function(n,t,e){var i=I.Mu().Ru();if(n!=ln.LOAD&&n!=ln.ENGAGE||i==cn.IDLE){n==ln.ERROR&&null==e.ns_st_er&&(e.ns_st_er=mn.D),n==ln.TRANSFER&&null==e.ns_st_rp&&(e.ns_st_rp=mn.D);var r,o,u,s,a=!0,f=!1;switch(n){case ln.BIT_RATE:r="ns_st_br",o="ns_st_pbr";break;case ln.PLAYBACK_RATE:r="ns_st_rt",o="ns_st_prt";break;case ln.VOLUME:r="ns_st_vo",o="ns_st_pvo";break;case ln.WINDOW_STATE:r="ns_st_ws",o="ns_st_pws";break;case ln.AUDIO:r="ns_st_at",o="ns_st_pat";break;case ln.VIDEO:r="ns_st_vt",o="ns_st_pvt";break;case ln.SUBS:r="ns_st_tt",o="ns_st_ptt";break;case ln.CDN:r="ns_st_cdn",o="ns_st_pcdn";break;default:a=!1}var c=I.getPlaybackSession(),l=c.getAsset();if(a&&r in e)switch(s=e[r],n){case ln.BIT_RATE:case ln.VOLUME:case ln.WINDOW_STATE:r in _&&(u=_[r],f=s==(e[o]=u)+""),_[r]=e[r];break;case ln.AUDIO:case ln.VIDEO:case ln.SUBS:case ln.CDN:l.Er(r)&&(u=l.kr(r),f=s==(e[o]=u)+""),l.Cr(r,e[r]);break;case ln.PLAYBACK_RATE:u=l.yu(),e[o]=u+""}if(a&&i!=cn.PLAYING&&i!=cn.BUFFERING_DURING_PLAYBACK||a&&f)return n==ln.PLAYBACK_RATE&&l.bu(parseInt(e.ns_st_rt)),void I.Uu().$t("No measurement send for the pseudo-event:",ln.toString(n),"during state",tn.gs(i),e);var p=isNaN(V)?W:V,v=!1;((V=t)<p||q)&&(q=!(v=!0),t<p?(c.xu("1"),I.Uu().$t("System clock jump detected","to the far past")):F?(c.xu("3"),I.Uu().$t("System clock jump detected","to the future")):(c.xu("2"),I.Uu().$t("System clock jump detected","to the near past")),t=p),e.ns_st_po?l.Au(l.mo(parseInt(e.ns_st_po),t)):l.wu()?e.ns_st_po=l._o(t)+"":e.ns_st_po=B+"";var d=parseInt(e.ns_st_po);B=d,I.getPlaybackSession().getAsset().wo(d,t),l.ku(l.Cu()),i!=cn.IDLE&&i!=cn.PLAYBACK_NOT_STARTED&&i!=cn.SEEKING_BEFORE_PLAYBACK&&i!=cn.BUFFERING_BEFORE_PLAYBACK&&(l.po(t),l.do(t)),i==cn.PLAYING&&(c.ho(t),c.bo(t),l.ho(t),l.bo(t),l.Iu(d),l.co(parseInt(e.ns_st_po)),l.ao(parseInt(e.ns_st_po))),i!=cn.BUFFERING_BEFORE_PLAYBACK&&i!=cn.BUFFERING_DURING_PAUSE&&i!=cn.BUFFERING_DURING_PLAYBACK&&i!=cn.BUFFERING_DURING_SEEKING||(c.so(t),c.Po(t),l.so(t),l.Po(t));var h=j.Dr(n,e,t);l.jr(h.Ut),l.Kr(h.Ut),I.ju().Vu(h),n==ln.PLAYBACK_RATE&&l.bu(parseInt(e.ns_st_rt)),v&&(l.wo(d,V),i==cn.PLAYING&&(c.bo(V),l.bo(V)),i!=cn.IDLE&&i!=cn.PLAYBACK_NOT_STARTED&&i!=cn.SEEKING_BEFORE_PLAYBACK&&i!=cn.BUFFERING_BEFORE_PLAYBACK&&l.do(V),i!=cn.BUFFERING_BEFORE_PLAYBACK&&i!=cn.BUFFERING_DURING_PAUSE&&i!=cn.BUFFERING_DURING_PLAYBACK&&i!=cn.BUFFERING_DURING_SEEKING&&i!=cn.PAUSED_DURING_BUFFERING||(c.Po(V),l.Po(V)),i!=cn.SEEKING_BEFORE_PLAYBACK&&i!=cn.SEEKING_DURING_BUFFERING&&i!=cn.SEEKING_DURING_PAUSE&&i!=cn.SEEKING_DURING_PLAYBACK&&i!=cn.BUFFERING_DURING_SEEKING||l.Oo(V))}else I.Uu().$t("Ignored pseudo-event:",ln.toString(n),"during state",tn.gs(i),e)},getState:function(){return I.Mu().Ru()},addListener:function(n){U.push(n)},removeListener:function(n){U.splice(un.indexOf(n,U),1)},getLabel:function(n){return _[n]},getLabels:function(){return _},setLabel:function(n,t){null==t?delete _[n]:_[n]=t},setLabels:function(n){for(var t in n)n.hasOwnProperty(t)&&j.setLabel(t,n[t])},getPlatformAPI:function(){return I.ws().getPlatformAPI()},ys:function(){return n},isProperlyInitialized:function(){var n=I.ws().Wn(),t=I.ws().g(),e=I.ws().getPixelURL();return n&&e&&t},setThrottlingDelay:function(n){a=n},getThrottlingDelay:function(){return a},isThrottlingEnabled:function(){return o},setThrottlingEnabled:function(n){o=n},bs:function(){return t},Is:function(n){t=n},getLoadTimeOffset:function(){return e},setLoadTimeOffset:function(n){e=n},Ss:function(){return W},setPauseOnBufferingInterval:function(n){u=n},getPauseOnBufferingInterval:function(){return u},isPauseOnBufferingEnabled:function(){return i},setPauseOnBufferingEnabled:function(n){i=n},setExitEndEventEnabled:function(n){if(G!=n){var t=I.Mu().Ru();n||tn.Ju(t)?n&&!tn.Ju(t)&&an.zu(z):an.Qu(z)}G=n},isExitEndEventEnabled:function(){return G},Ps:function(n,i){j.As(),r=j.getPlatformAPI().setTimeout(function(){var n={},t=tn.Wu(n),e=parseInt(i.ns_st_po);n.ns_st_po=e+"",j.Vu(ln.PAUSE_ON_BUFFERING,t,n)},u)},As:function(){null!=r&&(j.getPlatformAPI().clearTimeout(r),r=null)},qu:function(){x&&(j.getPlatformAPI().clearTimeout(x),x=null)},setLiveEndpointURL:function(n){if(null==n||0==n.length)return null;var t=decodeURIComponent||unescape,e=n.indexOf("?");if(0<=e){if(e<n.length-1){for(var i=n.substring(e+1).split("&"),r=0,o=i.length;r<o;r++){var u=i[r].split("=");2==u.length?j.setLabel(u[0],t(u[1])):1==u.length&&j.setLabel(nn.PAGE_NAME_LABEL,t(u[0]))}n=n.substring(0,e+1)}}else n+="?";return s=n},getLiveEndpointURL:function(){return s||(typeof ns_p!==yn&&"string"==typeof ns_p.src?s=ns_p.src.replace(/&amp;/,"&").replace(/&ns__t=\d+/,""):"string"==typeof ns_pixelUrl?s=ns_pixelUrl.replace(/&amp;/,"&").replace(/&ns__t=\d+/,""):null)},Cs:function(){return I},ks:function(n){var t=I.getPlaybackSession();I.Es(new fn(I)),fn.ks(I,t,n)},Ts:function(){I.Ns().pause();var n=I.Ns().Ls();I.Ds(new dn(I)),I.Ns().Rs(n)},getVersion:function(){return bn}}),function(){if((I=new en(j)).Ms(wn.getCore()),I.Os(new vn(I)),I.Ds(new dn(I)),I.Ws(new hn(I)),I.Vs(new gn),I.xs(new _n(Sn,b.debug)),I.Es(new fn(I)),S=new f(I),P=new p(I),A=new v(I),C=new d(I),k=new h(I),E=new g(I),T=new m(I),N=new w(I),L=new y(I),D=new Q(I),R=new X(I),M=new Z(I),O=new $(I),t=!1,e=0,W=+new Date,o=!(i=!0),U=[],b.publisherId){l=!0,c=b.publisherId+"";var n=(("secure"in b?b.secure:I.ws()&&I.ws().isProperlyInitialized()?I.ws().isSecure():tn.fe()&&rn.ce())?"https://sb":"http://b")+".scorecardresearch.com/p?c1=2";j.setLiveEndpointURL(n)}b.liveEndpointURL&&j.setLiveEndpointURL(b.liveEndpointURL),b.systemClockJumpDetection&&(sn.setPlatformAPI(j.getPlatformAPI()),b.systemClockJumpDetectionInterval?sn.Us(parseInt(b.systemClockJumpDetectionInterval),!0):sn.Us(),b.systemClockJumpDetectionPrecision?sn.Bs(parseInt(b.systemClockJumpDetectionPrecision),!0):sn.Bs(),Y())}()}},{17:17,18:18,19:19,2:2,20:20,24:24,55:55,58:58,59:59,60:60,61:61,62:62,63:63,65:65,66:66,68:68,69:69,70:70,71:71,72:72,73:73,74:74,75:75,76:76,77:77,78:78,79:79,80:80,81:81,82:82}],57:[function(n,t,e){var S,P,A=n(20),C=n(4),k="undefined";A.fe()?(S=window,P=document):(S={},P={location:{href:""},title:"",URL:"",referrer:"",cookie:""}),t.exports=function(n,t){for(var e,i=S.encodeURIComponent||escape,r=[],o=C.k,u=n.split("?"),s=u[0],a=u[1].split("&"),f=0,c=a.length;f<c;f++){var l=a[f].split("="),p=unescape(l[0]),v=unescape(l[1]);p&&(t[p]=v)}for(var d={},h=0,_=o.length;h<_;h++){var g=o[h];if(t.hasOwnProperty(g)){var m=t[g];typeof m!==k&&null!=m&&(d[g]=!0,r.push(i(g)+"="+i(t[g])))}}for(var w in t)if(t.hasOwnProperty(w)){if(d[w])continue;var y=t[w];typeof y!==k&&null!=y&&r.push(i(w)+"="+i(t[w]))}e=(e=s+"?"+r.join("&"))+(e.indexOf("&c8=")<0?"&c8="+i(P.title):"")+(e.indexOf("&c7=")<0?"&c7="+i(P.URL):"")+(e.indexOf("&c9=")<0?"&c9="+i(P.referrer):"");var b=A.Jt()?C.A:C.P;if(e.length>b&&0<e.indexOf("&")){var I=e.substr(0,b-8).lastIndexOf("&");e=(e.substring(0,I)+"&ns_cut="+i(e.substring(I+1))).substr(0,b)}return e}},{20:20,4:4}],58:[function(n,t,e){var i,r,o=(i=["play","pause","pause-on-buffering","end","buffer","buffer-stop","keep-alive","hb","custom","load","start","skstart","adskip","cta","error","trans","drmfa","drmap","drmde","bitrt","playrt","volume","window","audio","video","subs","cdn"],{PLAY:0,PAUSE:1,PAUSE_ON_BUFFERING:2,END:3,BUFFER:4,BUFFER_STOP:5,KEEPALIVE:6,HEARTBEAT:7,CUSTOM:8,LOAD:9,ENGAGE:10,SEEK_START:11,AD_SKIP:12,CTA:13,ERROR:14,TRANSFER:15,DRM_FAILED:16,DRM_APPROVED:17,DRM_DENIED:18,BIT_RATE:19,PLAYBACK_RATE:20,VOLUME:21,WINDOW_STATE:22,AUDIO:23,VIDEO:24,SUBS:25,CDN:26,toString:function(n){return i[n]}}),u=(r=["c","s","r"],{Bu:0,Fs:1,js:2,toString:function(n){return r[n]}});t.exports.Lu=o,t.exports.Nu={IDLE:0,PLAYBACK_NOT_STARTED:1,PLAYING:2,PAUSED:3,BUFFERING_BEFORE_PLAYBACK:4,BUFFERING_DURING_PLAYBACK:5,BUFFERING_DURING_SEEKING:6,BUFFERING_DURING_PAUSE:7,SEEKING_BEFORE_PLAYBACK:8,SEEKING_DURING_PLAYBACK:9,SEEKING_DURING_BUFFERING:10,SEEKING_DURING_PAUSE:11,PAUSED_DURING_BUFFERING:12},t.exports.Du=u},{}],59:[function(n,t,e){var s=n(24),a=n(57),f=n(58).Lu;t.exports=function(i){var t,r,o=this,u=[];s.extend(this,{Vu:function(n){for(var t=s.extend({},n.Ut,n.Ku),e=0;e<u.length;++e)u[e](t);!function(n){r=s.extend({},n);var t=i.Gs().getLiveEndpointURL();i.Gs().isProperlyInitialized()?i.ws().nt(n,t):t&&i.Gs().getPlatformAPI().httpGet(a(t,n))}(t),n.Wt!=f.HEARTBEAT&&o.Ks()},addMeasurementListener:function(n){"function"==typeof n&&u.push(n)},removeMeasurementListener:function(n){for(var t=NaN,e=0;e<u.length;++e)if(u[e]==n){t=e;break}isNaN(t)||u.splice(t,1)},Fu:function(){return t},Ks:function(){t++},qs:function(n){t=n},Hs:function(){return r}}),t=1}},{24:24,57:57,58:58}],60:[function(n,t,e){var c=n(58).Lu,l=n(68),p=n(24),v=[{Ys:6e4,interval:1e4},{Ys:null,interval:6e4}];t.exports=function(i){var e,r,o,u=this,s=v;function a(){o++;var n={},t=l.Wu(n);n.ns_st_hc=i.Ns().Js()+"";var e=i.Gs().Dr(c.HEARTBEAT,n,t);i.getPlaybackSession().getAsset().Kr(e.Ut),i.ju().Vu(e),r=0,u.resume()}function f(){null!=e&&(i.Gs().getPlatformAPI().clearTimeout(e),e=null)}p.extend(this,{Js:function(){return o},Rs:function(n){s=n},Gu:function(n){var t=0;if(null!=s)for(var e=0;e<s.length;e++){var i=s[e],r=i.Ys;if(!r||n<r){t=i.interval;break}}return t},Ls:function(){return s},resume:function(){f();var n=u.Gu(i.getPlaybackSession().getAsset().Rr()+(+new Date-i.getPlaybackSession().getAsset().yo()));if(0<n){var t=0<r?r:n;e=i.Gs().getPlatformAPI().setTimeout(a,t)}r=0},pause:function(){f();var n=u.Gu(i.getPlaybackSession().getAsset().Rr()+(+new Date-i.getPlaybackSession().getAsset().yo()));r=n-(i.getPlaybackSession().getAsset().Rr()+(+new Date-i.getPlaybackSession().getAsset().yo()))%n}}),o=r=0}},{24:24,58:58,68:68}],61:[function(n,t,e){var u=n(58).Lu,s=n(24),a=n(68),f=12e5;t.exports=function(e){var n,i=this,t=f;function r(){var n={},t=a.Wu(n);e.Gs().ms(u.KEEPALIVE,t,n),i.start()}function o(){null!=n&&(e.Gs().getPlatformAPI().clearTimeout(n),n=null)}s.extend(i,{start:function(){o(),n=e.Gs().getPlatformAPI().setTimeout(r,t)},stop:o,setInterval:function(n){t=n},Gu:function(){return t}})}},{24:24,58:58,68:68}],62:[function(n,t,e){var i=n(20),r=[],o=!1;function u(){for(var n=0;n<r.length;++n)r[n]()}t.exports={zu:function(n){r.push(n),o||i.fe()&&(window.addEventListener?(window.addEventListener("unload",u,!1),o=!0):window.attachEvent&&(window.attachEvent("onunload",u),o=!0))},Qu:function(n){for(var t=0;t<r.length;++t)if(r[t]==n){r.splice(t,1);break}0==r.length&&i.fe()&&(window.removeEventListener?(window.removeEventListener("unload",u,!1),o=!1):window.detachEvent&&(window.detachEvent("onunload",u),o=!1))}}},{20:20}],63:[function(n,t,e){var w=n(24),y=n(54),b=n(68),I=n(21),S=n(55).HASH_LABELS,P=n(58).Nu,A=n(58).Lu;function i(c){var r,e,t,o,u,i,s,a,f,l,p,v,d,h,_,g,m=this;w.extend(this,{Tu:function(){var n=r;r=new y,y.Tu(n,r)},zs:function(n){return null!=a[n]},Qs:function(n){a[n]={}},Xs:function(n){delete a[n]},Zs:function(){for(var n in a)if(a.hasOwnProperty(n)&&a[n].$s===r.Tr()){w.extend(a[n],{na:r.su(),ta:r.au(),ea:r.fu(),ia:r.cu(),seeking:r.Eo(),ra:r.Bo(),oa:r.jo(),ua:r.$r(),sa:r.qr(),aa:r.Yr(),fa:r.zr(),ca:r.Xr(),la:r.hu(),pa:r.Qo(),va:r.Zo(),da:r.tu()});break}},ha:function(n){return a[n]},Tr:function(n){return a[n].$s},_a:function(){return f},ga:function(n,t){a[n].$s=t,f<t&&(f=t)},setLabels:function(n){null!=n&&w.extend(i,n)},getLabels:function(){return i},setLabel:function(n,t){var e={};e[n]=t,m.setLabels(e)},getLabel:function(n){return i[n]},getAsset:function(){return r},xu:function(n){for(var t=0;t<g.length;++t)if(g[t]==n)return;g.push(n)},Dr:function(n,t){var e=n,i=I.jt(e.ns_st_pa)?m.Rr():parseInt(e.ns_st_pa);e.ns_st_pa=i+(isNaN(o)?0:t-o)+"",e.ns_st_pp=d+"",e.ns_st_sp=h+"",e.ns_st_bp=_+"",l||(e.ns_st_pb=null!=e.ns_st_pb?e.ns_st_pb:"1"),r.Mo()&&(e.ns_st_ppc=p+"",e.ns_st_psq=v+""),0<g.length&&(e.ns_st_ie=(e.ns_st_ie?e.ns_st_ie+";":"")+g.join(";")),w.extend(e,u)},ro:function(){h++},eo:function(){d++},ho:function(n){if(!isNaN(o)){var t=m.Rr();t+=n-o,m.ma(t),o=NaN}},so:function(n){if(!isNaN(e)){var t=m.Or();t+=n-e,m.uo(t),e=NaN}},Or:function(){return _},uo:function(n){_=n},Rr:function(){return t},Po:function(n){e=n},So:function(){return e},ma:function(n){t=n},bo:function(n){o=n},yo:function(){return o},Vr:function(){return d},Ao:function(n){d=n},wa:function(){return s},ya:function(n){s=n},ba:function(){return p},Ia:function(){p++},hs:function(n){l=n},vu:function(n){v=n},du:function(){v++},Sa:function(){return u.ns_st_id},setAsset:function(n,t){c.Uu().Zt("setAsset",n,t),n=b.Pa(n);var e=c.Mu().Ru();if(e!=P.IDLE){c.Uu().$t("Ending the current Clip. It was in state:",b.gs(e));var i={};c.Gs().Vu(A.END,b.Wu(i),i)}var r="",o=0;if(null!=n.ns_st_cn)r=n.ns_st_cn;else for(var u=0;u<S.length;u++)n[S[u]]&&(r+=S[u]+":"+n[S[u]]+";");var s=m,a=s.getAsset();a.Do()?(s.zs(a.Pr())||(s.Qs(a.Pr()),s.ga(a.Pr(),a.Tr())),s.Zs(),o=s.zs(r)?s.Tr(r):I.tn(n.ns_st_cn)?parseInt(n.ns_st_cn):s._a()+1):o=s.zs(r)?s.Tr(r):a.Tr(),s.Tu(),(a=s.getAsset()).Ar(r),a.Nr(o),a.setLabels(n);var f=s.ha(r);f&&(a.Lo(!0),a.iu(f.na),a.ru(f.ta),a.ou(f.ea),a.uu(f.ia),a.ko(f.seeking),a.Uo(f.ra),a.Fo(f.oa),a.no(f.ua),f.sa&&a.Hr(f.sa),f.aa&&a.Jr(f.aa),f.fa&&a.Qr(f.fa),f.ca&&a.Zr(f.ca),a.vu(f.la),a.Xo(f.pa),a.$o(f.va),a.nu(f.da)),a.Jo(),a.Do()&&t&&s.ro(),t&&(s.vu(0),a.gu(!0)),!I.tn(n.ns_st_tp)&&I.tn(n.ns_st_ad)&&I.lt(n.ns_st_ad)&&"0"!==n.ns_st_ad&&a.Cr("ns_st_tp","1")}}),r=new y,(u={}).ns_st_id=+new Date+"",i={},o=e=NaN,l=s=!(a={}),h=1,_=v=d=p=f=t=0,g=[]}i.ks=function(n,t,e){for(var i=t.getAsset(),r=t.getLabels(),o={},u=0;e&&u<e.length;u++)r.hasOwnProperty(e[u])&&(o[e[u]]=r[e[u]]);n.getPlaybackSession().setLabels(o),y.Tu(i,n.getPlaybackSession().getAsset(),e)},t.exports=i},{21:21,24:24,54:54,55:55,58:58,68:68}],64:[function(n,t,e){var p={LongFormOnDemand:"12",ShortFormOnDemand:"11",Live:"13",UserGeneratedLongFormOnDemand:"22",UserGeneratedShortFormOnDemand:"21",UserGeneratedLive:"23",Bumper:"99",Other:"00"},v={LinearOnDemandPreRoll:"11",LinearOnDemandMidRoll:"12",LinearOnDemandPostRoll:"13",LinearLive:"21",BrandedOnDemandPreRoll:"31",BrandedOnDemandMidRoll:"32",BrandedOnDemandPostRoll:"33",BrandedOnDemandContent:"34",BrandedOnDemandLive:"35",Other:"00"},d=n(67),h=n(58).Nu,_=n(58).Du,g=n(55).HASH_LABELS,m=n(21),w=n(24),y=n(18),i=function(n){var o=null,e=0,i=!1,r=null,u={Aa:0,Ca:1,ka:2},s=u.Aa,a=new y("TTSTA",(n||{}).debug);function f(n){r.getPlaybackSession().setAsset(n),o=n,r.notifyPlay()}function c(n){var t=n||{};t.ns_st_ad="1",t.ns_st_an=++e+"",r.getPlaybackSession().setAsset(t),r.notifyPlay(),i=!1}function l(n,t){s==u.Aa&&(s=t),i&&s==t?!function(n){for(var t in g)if(g.hasOwnProperty(t)&&(e=g[t],i=o,r=n,!(m.tn(e)&&m.tn(i)&&m.tn(r)&&(i.hasOwnProperty(e)&&r.hasOwnProperty(e)&&i[e]===r[e]||!i.hasOwnProperty(e)&&!r.hasOwnProperty(e)))))return!1;var e,i,r;return!0}(n)?f(n):(r.getPlaybackSession().getAsset().setLabels(n),r.getState()!=h.PLAYING&&r.notifyPlay()):f(n),i=!0,s=t}w.extend(this,{playVideoAdvertisement:function(n,t){a.Zt("playVideoAdvertisement",n,t);var e={ns_st_ct:"va"};t?e.ns_st_ct="va"+t:a.warn("Calling 'playVideoAdvertisement' without specifying the media type as a second parameter."),t!=v.LinearLive&&t!=v.BrandedOnDemandLive||(e.ns_st_li="1"),n&&w.extend(e,n),c(e)},playAudioAdvertisement:function(n,t){a.Zt("playAudioAdvertisement",n,t);var e={ns_st_ct:"aa"};t?e.ns_st_ct="aa"+t:a.warn("Calling 'playAudioAdvertisement' without specifying the media type as a second parameter."),t!=v.LinearLive&&t!=v.BrandedOnDemandLive||(e.ns_st_li="1"),n&&w.extend(e,n),c(e)},playVideoContentPart:function(n,t){a.Zt("playVideoContentPart",n,t);var e={ns_st_ct:"vc"};t?e.ns_st_ct="vc"+t:a.warn("Calling 'playVideoContentPart' without specifying the media type as a second parameter."),t!=p.Live&&t!=p.UserGeneratedLive||(e.ns_st_li="1"),n&&w.extend(e,n),l(e,u.ka)},playAudioContentPart:function(n,t){a.Zt("playAudioContentPart",n,t);var e={ns_st_ct:"ac"};t?e.ns_st_ct="ac"+t:a.warn("Calling 'playAudioContentPart' without specifying the media type as a second parameter."),t!=p.Live&&t!=p.UserGeneratedLive||(e.ns_st_li="1"),n&&w.extend(e,n),l(e,u.Ca)},stop:function(){a.Zt("stop"),r.notifyPause()}}),(r=new d(n)).setLabel("ns_st_it",_.toString(_.js))};i.ContentType=p,i.AdType=v,t.exports=i},{18:18,21:21,24:24,55:55,58:58,67:67}],65:[function(n,t,e){var a=n(24);t.exports=function(n){var t,e,i,r,o,u,s;a.extend(this,{ws:function(){return t},Gs:function(){return n},ju:function(){return e},Mu:function(){return i},Ns:function(){return r},S:function(){return o},getPlaybackSession:function(){return u},Uu:function(){return s},Ms:function(n){t=n},Os:function(n){o=n},Ds:function(n){r=n},Ws:function(n){e=n},Vs:function(n){i=n},Es:function(n){u=n},xs:function(n){s=n}})}},{24:24}],66:[function(n,t,e){var s=n(58).Nu,a=n(24),f=n(58).Lu;t.exports=function(n){var i,r,o,u=this;a.extend(u,{Hu:function(n){if(o==s.IDLE){if(n==f.PLAY)return s.PLAYING;if(n==f.SEEK_START)return s.SEEKING_BEFORE_PLAYBACK;if(n==f.BUFFER)return s.BUFFERING_BEFORE_PLAYBACK}else if(o==s.PLAYBACK_NOT_STARTED){if(n==f.PLAY)return s.PLAYING;if(n==f.SEEK_START)return s.SEEKING_BEFORE_PLAYBACK;if(n==f.BUFFER)return s.BUFFERING_BEFORE_PLAYBACK;if(n==f.END||n==f.AD_SKIP)return s.IDLE}else if(o==s.PLAYING){if(n==f.END||n==f.AD_SKIP)return s.IDLE;if(n==f.BUFFER)return s.BUFFERING_DURING_PLAYBACK;if(n==f.PAUSE)return s.PAUSED;if(n==f.SEEK_START)return s.SEEKING_DURING_PLAYBACK}else if(o==s.PAUSED){if(n==f.END||n==f.AD_SKIP)return s.IDLE;if(n==f.BUFFER)return s.BUFFERING_DURING_PAUSE;if(n==f.PLAY)return s.PLAYING;if(n==f.SEEK_START)return s.SEEKING_DURING_PAUSE}else if(o==s.BUFFERING_BEFORE_PLAYBACK){if(n==f.END||n==f.AD_SKIP)return s.IDLE;if(n==f.PAUSE||n==f.BUFFER_STOP)return s.PLAYBACK_NOT_STARTED;if(n==f.PLAY)return s.PLAYING;if(n==f.SEEK_START)return s.SEEKING_BEFORE_PLAYBACK}else if(o==s.BUFFERING_DURING_PLAYBACK){if(n==f.END||n==f.AD_SKIP)return s.IDLE;if(n==f.PLAY||n==f.BUFFER_STOP)return s.PLAYING;if(n==f.PAUSE_ON_BUFFERING)return s.PAUSED_DURING_BUFFERING;if(n==f.SEEK_START)return s.SEEKING_DURING_BUFFERING;if(n==f.PAUSE)return s.PAUSED}else if(o==s.BUFFERING_DURING_SEEKING){if(n==f.END||n==f.AD_SKIP)return s.IDLE;if(n==f.PLAY)return s.PLAYING;if(n==f.BUFFER_STOP)return s.SEEKING_DURING_PLAYBACK;if(n==f.PAUSE)return s.PAUSED}else if(o==s.BUFFERING_DURING_PAUSE){if(n==f.END||n==f.AD_SKIP)return s.IDLE;if(n==f.PLAY)return s.PLAYING;if(n==f.SEEK_START)return s.SEEKING_DURING_PAUSE;if(n==f.BUFFER_STOP||n==f.PAUSE)return s.PAUSED}else if(o==s.SEEKING_BEFORE_PLAYBACK){if(n==f.END||n==f.AD_SKIP)return s.IDLE;if(n==f.PAUSE)return s.PLAYBACK_NOT_STARTED;if(n==f.PLAY)return s.PLAYING;if(n==f.BUFFER)return s.BUFFERING_BEFORE_PLAYBACK}else if(o==s.SEEKING_DURING_PLAYBACK){if(n==f.END||n==f.AD_SKIP)return s.IDLE;if(n==f.PLAY)return s.PLAYING;if(n==f.PAUSE)return s.PAUSED;if(n==f.BUFFER)return s.BUFFERING_DURING_SEEKING}else if(o==s.SEEKING_DURING_BUFFERING){if(n==f.END||n==f.AD_SKIP)return s.IDLE;if(n==f.PLAY)return s.PLAYING;if(n==f.PAUSE||n==f.BUFFER_STOP)return s.PAUSED;if(n==f.BUFFER)return s.BUFFERING_DURING_SEEKING}else if(o==s.SEEKING_DURING_PAUSE){if(n==f.END||n==f.AD_SKIP)return s.IDLE;if(n==f.PLAY)return s.PLAYING;if(n==f.PAUSE||n==f.BUFFER_STOP)return s.PAUSED;if(n==f.BUFFER)return s.BUFFERING_DURING_PAUSE}else if(o==s.PAUSED_DURING_BUFFERING){if(n==f.END||n==f.AD_SKIP)return s.IDLE;if(n==f.SEEK_START)return s.SEEKING_DURING_BUFFERING;if(n==f.PAUSE)return s.PAUSED;if(n==f.PLAY||n==f.BUFFER_STOP)return s.PLAYING}return null},Ru:function(){return o},Vu:function(n,t){var e=u.Hu(n);o!=e&&(r=o,o=e,i=t)},Ea:function(){return r},_s:function(){return i}}),o=s.IDLE,r=null,i=NaN}},{24:24,58:58}],67:[function(n,t,e){var r=n(24),o=n(68),u=n(56),s=n(58).Lu,c=n(58).Nu,l=n(63),i=n(55),p={notifyPlay:s.PLAY,notifyPause:s.PAUSE,notifyEnd:s.END,notifyBufferStart:s.BUFFER,notifyBufferStop:s.BUFFER_STOP,notifyLoad:s.LOAD,notifyEngage:s.ENGAGE,notifySeekStart:s.SEEK_START,notifySkipAd:s.AD_SKIP,notifyCallToAction:s.CTA,notifyError:s.ERROR,notifyTransferPlayback:s.TRANSFER,notifyDrmFail:s.DRM_FAILED,notifyDrmApprove:s.DRM_APPROVED,notifyDrmDeny:s.DRM_DENIED,notifyCustomEvent:s.CUSTOM},v={notifyChangeBitrate:[s.BIT_RATE,"ns_st_br"],notifyChangePlaybackRate:[s.PLAYBACK_RATE,"ns_st_rt"],notifyChangeVolume:[s.VOLUME,"ns_st_vo"],notifyChangeWindowState:[s.WINDOW_STATE,"ns_st_ws"],notifyChangeAudioTrack:[s.AUDIO,"ns_st_at"],notifyChangeVideoTrack:[s.VIDEO,"ns_st_vt"],notifyChangeSubtitleTrack:[s.SUBS,"ns_st_tt"],notifyChangeCdn:[s.CDN,"ns_st_cdn"]};function a(n){var a,e=this;function f(n,t,e){if(s.toString(n)){e=o.Pa(e);var i=o.Wu(e);e.ns_st_po||isNaN(t)||(e.ns_st_po=parseInt(t)+""),n==s.PLAY||n==s.PAUSE||n==s.BUFFER||n==s.END||n==s.SEEK_START||n==s.AD_SKIP||n==s.BUFFER_STOP?a.Vu(n,i,e):a.ms(n,i,e)}}for(var t in r.extend(e,{isProperlyInitialized:function(){return a.isProperlyInitialized()},reset:function(n){f(s.END);var t=a;t.Cs().S().stop(),t.Cs().Ns().pause(),a=new u(t.getConfiguration()),l.ks(a.Cs(),t.Cs().getPlaybackSession(),n)},setPauseOnBufferingInterval:function(n){a.setPauseOnBufferingInterval(n)},getPauseOnBufferingInterval:function(){return a.getPauseOnBufferingInterval()},setKeepAliveInterval:function(n){a.Cs().S().setInterval(n)},getKeepAliveInterval:function(){return a.Cs().S().Gu()},setHeartbeatIntervals:function(n){a.Cs().Ns().Rs(n)},getLabels:function(){return a.getLabels()},getState:function(){return a.Cs().Mu().Ru()},setLabels:function(n){a.setLabels(n)},getLabel:function(n){return a.getLabel(n)},setLabel:function(n,t){a.setLabel(n,t)},getLoadTimeOffset:function(){return a.getLoadTimeOffset()},setLoadTimeOffset:function(n){a.setLoadTimeOffset(n)},setLiveEndpointURL:function(n){return a.setLiveEndpointURL(n)},getLiveEndpointURL:function(){return a.getLiveEndpointURL()},isPauseOnBufferingEnabled:function(){return a.isPauseOnBufferingEnabled()},setPauseOnBufferingEnabled:function(n){a.setPauseOnBufferingEnabled(n)},isThrottlingEnabled:function(){return a.isThrottlingEnabled()},setThrottlingEnabled:function(n){a.setThrottlingEnabled(n)},setThrottlingDelay:function(n){a.setThrottlingDelay(n)},getThrottlingDelay:function(){return a.getThrottlingDelay()},setPlaybackIntervalMergeTolerance:function(n){a.Cs().getPlaybackSession().getAsset().setPlaybackIntervalMergeTolerance(n)},getPlaybackIntervalMergeTolerance:function(){return a.Cs().getPlaybackSession().getAsset().getPlaybackIntervalMergeTolerance()},createPlaybackSession:function(n){a.Cs().Uu().Zt("createPlaybackSession",n),n=o.Pa(n);var t=a.Cs().Mu().Ru();t!=c.IDLE&&(a.Cs().Uu().$t("Ending the current Clip. It was in state:",o.gs(t)),e.notifyEnd()),a.Cs().getPlaybackSession().wa()&&a.ks(),a.Cs().getPlaybackSession().setLabels(n)},getVersion:function(){return a.getVersion()},addListener:function(n){a.addListener(n)},removeListener:function(n){a.removeListener(n)},addMeasurementListener:function(n){a.Cs().ju().addMeasurementListener(n)},removeMeasurementListener:function(n){a.Cs().ju().removeMeasurementListener(n)},getPlaybackSession:function(){return a.Cs().getPlaybackSession()},setExitEndEventEnabled:function(n){a.setExitEndEventEnabled(!!n)},isExitEndEventEnabled:function(){return a.isExitEndEventEnabled()},setDvrWindowLength:function(n){a.Cs().getPlaybackSession().getAsset().Su(n),a.Cs().getPlaybackSession().getAsset().Eu(!0)},setDvrWindowOffset:function(n){a.Cs().getPlaybackSession().getAsset().Au(n),a.Cs().getPlaybackSession().getAsset().Eu(!0)},getPlatformAPI:function(){return a.getPlatformAPI()},_getLogHistory:function(){return a.Cs().Uu().te()}}),p)!function(r,o){e[r]=function(n,t){a.Cs().Uu().Zt(r,n,t);var e={},i=NaN;"object"==typeof n?e=n:"object"==typeof t&&(e=t),"number"==typeof n?i=n:"number"==typeof t&&(i=t),f(o,i,e)}}(t,p[t]);for(var i in v)!function(o,u,s){e[o]=function(n,t,e){if(a.Cs().Uu().Zt(o,n,t,e),null!=n){var i={},r=NaN;"object"==typeof t?i=t:"object"==typeof e&&(i=e),"number"==typeof t?r=t:"number"==typeof e&&(r=e),i[s]=n+"",f(u,r,i)}}}(i,v[i][0],v[i][1]);n=r.extend({},n),(a=new u(n)).Cs().Uu().log("New StreamingAnalytics instance with configuration",n)}a.PlayerEvents=s,a.InternalStates=c,a.Constants=i,t.exports=a},{24:24,55:55,56:56,58:58,63:63,68:68}],68:[function(n,t,e){var f=n(23),i=n(58).Nu,r="undefined";e.Pa=function(n){var t={};for(var e in n){var i=n[e];t[e]=null==i?i:n[e]+""}return t},e.Ta=function(n,t){var e,i=[];for(e in n)t&&!t.test(e)||!n.hasOwnProperty(e)||(i[i.length]=e);return i},e.Wu=function(n){if(n.ns_ts)return parseInt(n.ns_ts);var t=+new Date;return n.ns_ts=t+"",t},e.fe=function(){return typeof window!=r&&typeof document!=r},e.Wr=function(n,t,e,i){var r,o,u={};if(!(t<=e))return f(n);if(u.start=t,u.end=e,0==n.length)return n.push(u),f(n);for(r=0;r<n.length;r++)if(u.start>=n[r].start&&u.end<=n[r].end)return f(n);var s=!1;for(o=0;o<n.length;o++)if(o+1===n.length&&u.start>=n[o].start||u.start>=n[o].start&&u.start<n[o+1].start){n.splice(o+1,0,u),s=!0;break}s||n.splice(0,0,u);var a=[n[0]];for(r=1;r<n.length;r++)a[a.length-1].end+i<n[r].start?a.push(n[r]):a[a.length-1].end<n[r].end&&(a[a.length-1].end=n[r].end);return f(a)},e.gs=function(n){for(var t in i)if(i.hasOwnProperty(t)&&i[t]==n)return t},e.Ju=function(n){return n==i.IDLE||n==i.BUFFERING_BEFORE_PLAYBACK||n==i.SEEKING_BEFORE_PLAYBACK||n==i.PLAYBACK_NOT_STARTED}},{23:23,58:58}],69:[function(n,t,e){var i=n(24),r=n(26),s=n(58).Lu;t.exports=function(u){i.extend(this,{ns:function(n,t){var e=u.getPlaybackSession(),i=e.getAsset();e.so(n),i.so(n),i.Eo()&&i.No()&&i.Uo(n-i.Wo()),i.Ho(),i.Ro(!1),t.hasOwnProperty("ns_st_pe")&&r.vr(t.ns_st_pe,!1)&&u.Gs().ks()},os:function(n,t){var e=u.getPlaybackSession(),i=e.getAsset();e.so(n),i.so(n),i.Eo()&&i.No()&&(i.Vo(n),i.To(!1))},Zu:function(n,t){var e=u.getPlaybackSession(),i=e.getAsset(),r=parseInt(t.ns_st_po);e.so(n),i.so(n),i.Eo()?i.No()||(i.Oo(n),i.To(!0)):i.io(),i.Eo()||(i.ko(!0),i.To(!0),i.Fo(r),i.Oo(n))},ts:function(n,t){var e=u.getPlaybackSession(),i=e.getAsset();e.so(n),i.so(n),i.Eo()&&i.No()&&(i.Vo(n),i.To(!1))},$u:function(n,t){var e=u.getPlaybackSession(),i=e.getAsset(),r=parseInt(t.ns_st_po);e.so(n),i.so(n),i.Eo()&&(i.No()&&(i.Vo(n),i.To(!1)),i.Ko(r),i.ko(!1)),i.Ro(!0),(i._u()||0==e.ba())&&(e.Ia(),i.gu(!1)),e.du(),i.Ro(!0),i.Yo(),i.ro(),e.bo(n),i.bo(n),i.do(n),i.ao(r),(0==i.cu()||i.Lr()<=i.cu())&&(i.uu(i.Lr()),i.zo(),i.vu(0),i.eu()),i.du(),u.Gs().bs()||(t.ns_st_lt=u.Gs().getLoadTimeOffset()+n-u.Gs().Ss()+"",u.Gs().Is(!0)),u.Ns().resume(),u.S().start();var o=u.Gs().Dr(s.PLAY,t,n);i.jr(o.Ut),i.Kr(o.Ut),u.ju().Vu(o)}})}},{24:24,26:26,58:58}],70:[function(n,t,e){var i=n(24),o=n(26),s=n(58).Lu;t.exports=function(u){i.extend(this,{fs:function(n,t){var e=u.getPlaybackSession(),i=e.getAsset();u.Gs().Ts(),u.S().stop(),e.so(n),i.so(n),i.po(n);var r=u.Gs().Dr(s.END,t,n);i.jr(r.Ut),i.Kr(r.Ut),u.ju().Vu(r),i.Eo()&&i.No()&&(i.Uo(n-i.Wo()),i.To(!1)),e.Zs(),i.Ho(),i.Ro(!1),t.hasOwnProperty("ns_st_pe")&&o.vr(t.ns_st_pe,!1)&&u.Gs().ks()},ts:function(n,t){var e=u.getPlaybackSession(),i=e.getAsset();e.so(n),i.so(n),i.po(n),i.do(n)},$u:function(n,t){var e=u.getPlaybackSession(),i=e.getAsset(),r=parseInt(t.ns_st_po);e.du(),i.du(),i.ro(),e.so(n),i.so(n),i.Eo()&&(i.No()&&(i.Vo(n),i.To(!1)),i.Ko(r),i.ko(!1)),i.po(n),i.do(n),e.bo(n),i.bo(n),i.ao(r),u.Ns().resume(),u.S().start();var o=u.Gs().Dr(s.PLAY,t,n);i.jr(o.Ut),i.Kr(o.Ut),u.ju().Vu(o)}})}},{24:24,26:26,58:58}],71:[function(n,t,e){var i=n(24),o=n(26),s=n(58).Lu;t.exports=function(u){i.extend(this,{us:function(n,t){var e=u.getPlaybackSession(),i=e.getAsset();u.Gs().As(),i.po(n),i.do(n),e.so(n),i.so(n),e.eo(),i.eo();var r=u.Gs().Dr(s.PAUSE,t,n);i.jr(r.Ut),i.Kr(r.Ut),u.ju().Vu(r),e.Po(n),i.Po(n)},ns:function(n,t){var e=u.getPlaybackSession(),i=e.getAsset();u.Gs().As(),u.Gs().Ts(),u.S().stop(),e.so(n),i.so(n),i.po(n);var r=u.Gs().Dr(s.END,t,n);i.jr(r.Ut),i.Kr(r.Ut),u.ju().Vu(r),i.Ho(),i.Ro(!1),t.hasOwnProperty("ns_st_pe")&&o.vr(t.ns_st_pe,!1)&&u.Gs().ks()},Zu:function(n,t){var e=u.getPlaybackSession(),i=e.getAsset(),r=parseInt(t.ns_st_po);u.Gs().As(),u.Ns().pause(),u.S().stop(),i.po(n),i.do(n),e.so(n),i.so(n),i.io(),i.ko(!0),i.To(!0),i.Fo(r),i.Oo(n),e.eo(),i.eo();var o=u.Gs().Dr(s.PAUSE,t,n);i.jr(o.Ut),i.Kr(o.Ut),u.ju().Vu(o)},ts:function(n,t){var e=u.getPlaybackSession(),i=e.getAsset();u.Gs().As(),i.po(n),i.do(n),e.so(n),i.so(n),e.eo(),i.eo();var r=u.Gs().Dr(s.PAUSE,t,n);i.jr(r.Ut),i.Kr(r.Ut),u.ju().Vu(r)}})}},{24:24,26:26,58:58}],72:[function(n,t,e){var i=n(24),o=n(26),s=n(58).Lu;t.exports=function(u){i.extend(this,{ns:function(n,t){var e=u.getPlaybackSession(),i=e.getAsset();u.Gs().Ts(),u.S().stop(),u.Gs().As(),e.so(n),i.so(n),i.po(n);var r=u.Gs().Dr(s.END,t,n);i.jr(r.Ut),i.Kr(r.Ut),u.ju().Vu(r),i.Eo()&&i.No()&&(i.Uo(n-i.Wo()),i.To(!1)),e.Zs(),i.Ho(),i.Ro(!1),t.hasOwnProperty("ns_st_pe")&&o.vr(t.ns_st_pe,!1)&&u.Gs().ks()},ts:function(n,t){var e=u.getPlaybackSession(),i=e.getAsset();e.so(n),i.so(n),e.eo(),i.eo(),i.Eo()&&i.No()&&(i.Vo(n),i.To(!1)),i.po(n),i.do(n)},$u:function(n,t){var e=u.getPlaybackSession(),i=e.getAsset(),r=parseInt(t.ns_st_po);e.du(),i.du(),i.ro(),e.so(n),i.so(n),i.Eo()&&(i.No()&&(i.Vo(n),i.To(!1)),i.Ko(r),i.ko(!1)),i.po(n),i.do(n),e.bo(n),i.bo(n),i.ao(r),u.Ns().resume(),u.S().start();var o=u.Gs().Dr(s.PLAY,t,n);i.jr(o.Ut),i.Kr(o.Ut),u.ju().Vu(o)}})}},{24:24,26:26,58:58}],73:[function(n,t,e){var i=n(24),s=n(58).Lu;t.exports=function(u){i.extend(this,{Xu:function(n,t){var e=u.getPlaybackSession(),i=e.getAsset();e.ya(!0),i.Lo(!0),i.Eo()&&i.xo(i.Bo()),e.Po(n),i.Po(n)},Zu:function(n,t){var e=u.getPlaybackSession(),i=e.getAsset(),r=parseInt(t.ns_st_po);e.ya(!0),i.Lo(!0),i.Eo()&&i.xo(i.Bo()),i.io(),i.ko(!0),i.To(!0),i.Fo(r),i.Oo(n)},$u:function(n,t){var e=u.getPlaybackSession(),i=e.getAsset(),r=parseInt(t.ns_st_po);e.ya(!0),i.Lo(!0),(i._u()||0==e.ba())&&(e.Ia(),i.gu(!1)),i.Eo()&&(i.xo(i.Bo()),i.Ko(r),i.ko(!1)),e.du(),i.Ro(!0),i.Yo(),(0==i.cu()||i.Lr()<=i.cu())&&(i.uu(i.Lr()),i.zo(),i.vu(0),i.eu()),i.du(),i.ro(),e.bo(n),i.bo(n),i.do(n),i.ao(r),u.Gs().bs()||(t.ns_st_lt=u.Gs().getLoadTimeOffset()+n-u.Gs().Ss()+"",u.Gs().Is(!0)),u.Ns().resume(),u.S().start();var o=u.Gs().Dr(s.PLAY,t,n);i.jr(o.Ut),i.Kr(o.Ut),u.ju().Vu(o)}})}},{24:24,58:58}],74:[function(n,t,e){var i=n(24),o=n(26),s=n(58).Lu;t.exports=function(u){i.extend(this,{ns:function(n,t){var e=u.getPlaybackSession(),i=e.getAsset();u.Gs().Ts(),u.S().stop(),i.po(n);var r=u.Gs().Dr(s.END,t,n);i.jr(r.Ut),i.Kr(r.Ut),u.ju().Vu(r),i.Eo()&&i.No()&&(i.Uo(n-i.Wo()),i.ko(!1)),e.Zs(),i.Ho(),i.Ro(!1),t.hasOwnProperty("ns_st_pe")&&o.vr(t.ns_st_pe,!1)&&u.Gs().ks()},$u:function(n,t){var e=u.getPlaybackSession(),i=e.getAsset(),r=parseInt(t.ns_st_po);e.du(),i.Eo()&&(i.No()&&(i.Vo(n),i.To(!1)),i.Ko(r),i.ko(!1)),i.ro(),i.du(),e.bo(n),i.bo(n),i.po(n),i.do(n),i.ao(r),u.Ns().resume(),u.S().start();var o=u.Gs().Dr(s.PLAY,t,n);i.jr(o.Ut),i.Kr(o.Ut),u.ju().Vu(o)}})}},{24:24,26:26,58:58}],75:[function(n,t,e){var i=n(24),o=n(26),s=n(58).Lu;t.exports=function(u){i.extend(this,{ns:function(n,t){var e=u.getPlaybackSession(),i=e.getAsset();u.Gs().Ts(),u.S().stop(),e.so(n),i.so(n),i.po(n),i.Eo()&&i.No()&&(i.Uo(n-i.Wo()),i.To(!1));var r=u.Gs().Dr(s.END,t,n);i.jr(r.Ut),i.Kr(r.Ut),u.ju().Vu(r),i.Ho(),i.Ro(!1),t.hasOwnProperty("ns_st_pe")&&o.vr(t.ns_st_pe,!1)&&u.Gs().ks()},Zu:function(n,t){var e=u.getPlaybackSession(),i=e.getAsset(),r=parseInt(t.ns_st_po);e.so(n),i.so(n),i.Eo()?i.No()||(i.Oo(n),i.To(!0)):i.io(),i.Eo()||(i.ko(!0),i.To(!0),i.Fo(r),i.Oo(n)),i.po(n),i.do(n)},ts:function(n,t){var e=u.getPlaybackSession(),i=e.getAsset();e.so(n),i.so(n),i.po(n),i.do(n)},ds:function(n,t){var e=u.getPlaybackSession(),i=e.getAsset(),r=parseInt(t.ns_st_po);e.du(),i.du(),e.so(n),i.so(n),i.ro(),e.bo(n),i.bo(n),i.po(n),i.do(n),i.ao(r),u.Ns().resume(),u.S().start();var o=u.Gs().Dr(s.PLAY,t,n);i.jr(o.Ut),i.Kr(o.Ut),u.ju().Vu(o)}})}},{24:24,26:26,58:58}],76:[function(n,t,e){var i=n(24),r=n(26),s=n(58).Lu;t.exports=function(u){i.extend(this,{ns:function(n,t){var e=u.getPlaybackSession(),i=e.getAsset();i.Eo()&&i.No()&&(i.Uo(n-i.Wo()),i.To(!1)),e.Zs(),i.Ho(),i.Ro(!1),t.hasOwnProperty("ns_st_pe")&&r.vr(t.ns_st_pe,!1)&&u.Gs().ks()},Zu:function(n,t){var e=u.getPlaybackSession().getAsset(),i=parseInt(t.ns_st_po);e.Eo()?e.Oo(n):e.io(),e.Eo()||(e.ko(!0),e.To(!0),e.Fo(i),e.Oo(n))},$u:function(n,t){var e=u.getPlaybackSession(),i=e.getAsset(),r=parseInt(t.ns_st_po);i.Eo()&&(i.Ko(r),i.ko(!1)),e.ya(!0),(i._u()||0==e.ba())&&(e.Ia(),i.gu(!1)),e.du(),i.Ro(!0),i.Yo(),(0==i.cu()||i.Lr()<=i.cu())&&(i.uu(i.Lr()),i.zo(),i.vu(0),i.eu()),i.du(),i.ro(),e.bo(n),i.bo(n),i.do(n),i.ao(r),u.Gs().bs()||(t.ns_st_lt=u.Gs().getLoadTimeOffset()+n-u.Gs().Ss()+"",u.Gs().Is(!0)),u.Ns().resume(),u.S().start();var o=u.Gs().Dr(s.PLAY,t,n);i.jr(o.Ut),i.Kr(o.Ut),u.ju().Vu(o)},Xu:function(n,t){var e=u.getPlaybackSession(),i=e.getAsset();e.Po(n),i.Po(n)}})}},{24:24,26:26,58:58}],77:[function(n,t,e){var i=n(24),s=n(26),a=n(58).Lu;t.exports=function(u){i.extend(this,{ns:function(n,t){var e=u.getPlaybackSession(),i=e.getAsset(),r=parseInt(t.ns_st_po);u.Gs().Ts(),u.S().stop(),e.ho(n),i.ho(n),i.Iu(r),i.po(n),i.co(r);var o=u.Gs().Dr(a.END,t,n);i.jr(o.Ut),i.Kr(o.Ut),u.ju().Vu(o),i.Ho(),i.Ro(!1),t.hasOwnProperty("ns_st_pe")&&s.vr(t.ns_st_pe,!1)&&u.Gs().ks()},Xu:function(n,t){var e=u.getPlaybackSession(),i=e.getAsset(),r=parseInt(t.ns_st_po);u.Ns().pause(),u.S().stop(),e.ho(n),i.ho(n),i.Iu(r),i.co(r),u.Gs().isPauseOnBufferingEnabled()&&u.Gs().Ps(n,t),i.lu(),e.Po(n),i.Po(n),i.po(n),i.do(n)},Zu:function(n,t){var e=u.getPlaybackSession(),i=e.getAsset(),r=parseInt(t.ns_st_po);u.Ns().pause(),u.S().stop(),e.ho(n),i.ho(n),i.Iu(r),i.co(r),i.io(),i.ko(!0),i.To(!0),i.Fo(r),i.Oo(n),i.po(n),i.do(n),e.eo(),i.eo();var o=u.Gs().Dr(a.PAUSE,t,n);i.jr(o.Ut),i.Kr(o.Ut),u.ju().Vu(o)},ts:function(n,t){var e=u.getPlaybackSession(),i=e.getAsset(),r=parseInt(t.ns_st_po);u.Ns().pause(),u.S().stop(),e.ho(n),i.ho(n),i.Iu(r),i.co(r),i.po(n),i.do(n),e.eo(),i.eo();var o=u.Gs().Dr(a.PAUSE,t,n);i.jr(o.Ut),i.Kr(o.Ut),u.ju().Vu(o)}})}},{24:24,26:26,58:58}],78:[function(n,t,e){var i=n(24),r=n(26),s=n(58).Lu;t.exports=function(u){i.extend(this,{ns:function(n,t){var e=u.getPlaybackSession(),i=e.getAsset();i.Eo()&&i.No()&&(i.Uo(n-i.Wo()),i.To(!1)),e.Zs(),i.Ho(),i.Ro(!1),t.hasOwnProperty("ns_st_pe")&&r.vr(t.ns_st_pe,!1)&&u.Gs().ks()},ts:function(n,t){var e=u.getPlaybackSession().getAsset();e.Eo()&&e.No()&&(e.Vo(n),e.To(!1))},$u:function(n,t){var e=u.getPlaybackSession(),i=e.getAsset(),r=parseInt(t.ns_st_po);i.Eo()&&(i.No()&&(i.Vo(n),i.To(!1)),i.Ko(r),i.ko(!1)),(i._u()||0==e.ba())&&(e.Ia(),i.gu(!1)),e.du(),i.du(),i.ro(),i.Ro(!0),i.Yo(),(0==i.cu()||i.Lr()<=i.cu())&&(i.uu(i.Lr()),i.zo(),i.vu(0),i.eu()),e.bo(n),i.bo(n),i.do(n),i.ao(r),u.Gs().bs()||(t.ns_st_lt=u.Gs().getLoadTimeOffset()+n-u.Gs().Ss()+"",u.Gs().Is(!0)),u.Ns().resume(),u.S().start();var o=u.Gs().Dr(s.PLAY,t,n);i.jr(o.Ut),i.Kr(o.Ut),u.ju().Vu(o)}})}},{24:24,26:26,58:58}],79:[function(n,t,e){var i=n(24);t.exports=function(r){i.extend(this,{ts:function(n,t){var e=r.getPlaybackSession(),i=e.getAsset();e.eo(),i.eo(),i.Eo()&&i.No()&&(i.Vo(n),i.To(!1)),i.po(n),i.do(n)}})}},{24:24}],80:[function(n,t,e){var i=n(24),o=n(26),s=n(58).Lu;t.exports=function(u){i.extend(this,{ns:function(n,t){var e=u.getPlaybackSession(),i=e.getAsset();u.Gs().Ts(),u.S().stop(),i.po(n);var r=u.Gs().Dr(s.END,t,n);i.jr(r.Ut),i.Kr(r.Ut),u.ju().Vu(r),i.Eo()&&i.No()&&(i.Uo(n-i.Wo()),i.To(!1)),e.Zs(),i.Ho(),i.Ro(!1),t.hasOwnProperty("ns_st_pe")&&o.vr(t.ns_st_pe,!1)&&u.Gs().ks()},$u:function(n,t){var e=u.getPlaybackSession(),i=e.getAsset(),r=parseInt(t.ns_st_po);e.du(),i.du(),i.ro(),i.Eo()&&(i.No()&&(i.Vo(n),i.To(!1)),i.Ko(r),i.ko(!1)),i.po(n),i.do(n),e.bo(n),i.bo(n),i.ao(r),u.Gs().bs()||(t.ns_st_lt=u.Gs().getLoadTimeOffset()+n-u.Gs().Ss()+"",u.Gs().Is(!0)),u.Ns().resume(),u.S().start();var o=u.Gs().Dr(s.PLAY,t,n);i.jr(o.Ut),i.Kr(o.Ut),u.ju().Vu(o)}})}},{24:24,26:26,58:58}],81:[function(n,t,e){var i=n(24),o=n(26),s=n(58).Lu;t.exports=function(u){i.extend(this,{rs:function(n,t){var e=u.getPlaybackSession().getAsset(),i=parseInt(t.ns_st_po);e.Eo()?e.No()||(e.Oo(n),e.To(!0)):e.io(),e.Eo()||(e.ko(!0),e.To(!0),e.Fo(i),e.Oo(n)),e.po(n),e.do(n)},es:function(n,t){var e=u.getPlaybackSession(),i=e.getAsset();e.Po(n),i.Po(n),i.po(n),i.do(n)},ls:function(n,t){var e=u.getPlaybackSession(),i=e.getAsset(),r=parseInt(t.ns_st_po);e.du(),i.du(),i.Eo()&&(i.No()&&(i.Vo(n),i.To(!1)),i.Ko(r),i.ko(!1)),i.ro(),e.bo(n),i.bo(n),i.po(n),i.do(n),i.ao(r),u.Ns().resume(),u.S().start();var o=u.Gs().Dr(s.PLAY,t,n);i.jr(o.Ut),i.Kr(o.Ut),u.ju().Vu(o)},as:function(n,t){var e=u.getPlaybackSession(),i=e.getAsset();e.so(n),i.so(n),i.po(n),i.do(n)},cs:function(n,t){var e=u.getPlaybackSession().getAsset();e.Eo()&&e.No()&&(e.Vo(n),e.To(!1)),e.po(n),e.do(n)},ps:function(n,t){var e=u.getPlaybackSession(),i=e.getAsset();u.Gs().Ts(),u.S().stop(),i.po(n);var r=u.Gs().Dr(s.END,t,n);i.jr(r.Ut),i.Kr(r.Ut),u.ju().Vu(r),i.Eo()&&i.No()&&(i.Uo(n-i.Wo()),i.To(!1)),e.Zs(),i.Ho(),i.Ro(!1),t.hasOwnProperty("ns_st_pe")&&o.vr(t.ns_st_pe,!1)&&u.Gs().ks()},vs:function(n,t){var e=u.getPlaybackSession().getAsset();e.Eo()&&e.No()&&(e.Vo(n),e.To(!1)),e.po(n),e.do(n)},ss:function(n,t){var e=u.getPlaybackSession(),i=e.getAsset(),r=parseInt(t.ns_st_po);u.Gs().As(),e.so(n),i.so(n),e.bo(n),i.bo(n),i.ao(r),i.po(n),i.do(n),u.Ns().resume(),u.S().start()}})}},{24:24,26:26,58:58}],82:[function(n,t,e){var u,s,i,r=null,a=[],o=1e3,f=1e3;function c(){var o=+new Date;r=i.setInterval(function(){var n=o+u,t=+new Date,e=t-n;if(o=t,Math.abs(e)>s)for(var i=0<e,r=0;r<a.length;++r)a[r](i)},u)}function l(){clearInterval(r),r=null}t.exports={Ou:function(n){a.push(n),r||c()},Yu:function(n){for(var t=0;t<a.length;++t)if(a[t]==n){a.splice(t,1);break}a.length||l()},setPlatformAPI:function(n){i=n},Us:function(n,t){!t&&u||(u=n||o),(r&&t||!r)&&(l(),c())},Bs:function(n,t){s=n||f}}},{}]},{},[16])(16)});

/*@
  @end
@*/
!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.f59=e()}}(function(){var define,module,exports;return function(){function e(t,n,i){function o(a,s){if(!n[a]){if(!t[a]){var u="function"==typeof require&&require;if(!s&&u)return u(a,!0);if(r)return r(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var c=n[a]={exports:{}};t[a][0].call(c.exports,function(e){var n=t[a][1][e];return o(n||e)},c,c.exports,e,t,n,i)}return n[a].exports}for(var r="function"==typeof require&&require,a=0;a<i.length;a++)o(i[a]);return o}return e}()({1:[function(e,t,n){!function(e,n,i){"undefined"!=typeof t&&t.exports?t.exports=i():"function"==typeof define&&define.amd?define(i):n[e]=i()}("bean",this,function(e,t){e=e||"bean",t=t||this;var n,i=window,o=t[e],r=/[^\.]*(?=\..*)\.|.*/,a=/\..*/,s="addEventListener",u="removeEventListener",l=document||{},c=l.documentElement||{},d=c[s],f=d?s:"attachEvent",p={},h=Array.prototype.slice,m=function(e,t){return e.split(t||" ")},g=function(e){return"string"==typeof e},v=function(e){return"function"==typeof e},y="click dblclick mouseup mousedown contextmenu mousewheel mousemultiwheel DOMMouseScroll mouseover mouseout mousemove selectstart selectend keydown keypress keyup orientationchange focus blur change reset select submit load unload beforeunload resize move DOMContentLoaded readystatechange message error abort scroll ",A="show input invalid touchstart touchmove touchend touchcancel gesturestart gesturechange gestureend textinput readystatechange pageshow pagehide popstate hashchange offline online afterprint beforeprint dragstart dragenter dragover dragleave drag drop dragend loadstart progress suspend emptied stalled loadmetadata loadeddata canplay canplaythrough playing waiting seeking seeked ended durationchange timeupdate play pause ratechange volumechange cuechange checking noupdate downloading cached updateready obsolete ",C=function(e,t,n){for(n=0;n<t.length;n++)t[n]&&(e[t[n]]=1);return e}({},m(y+(d?A:""))),E=function(){var e="compareDocumentPosition"in c?function(e,t){return t.compareDocumentPosition&&16===(16&t.compareDocumentPosition(e))}:"contains"in c?function(e,t){return t=9===t.nodeType||t===window?c:t,t!==e&&t.contains(e)}:function(e,t){for(;e=e.parentNode;)if(e===t)return 1;return 0},t=function(t){var n=t.relatedTarget;return n?n!==this&&"xul"!==n.prefix&&!/document/.test(this.toString())&&!e(n,this):null==n};return{mouseenter:{base:"mouseover",condition:t},mouseleave:{base:"mouseout",condition:t},mousewheel:{base:/Firefox/.test(navigator.userAgent)?"DOMMouseScroll":"mousewheel"}}}(),b=function(){var e=m("altKey attrChange attrName bubbles cancelable ctrlKey currentTarget detail eventPhase getModifierState isTrusted metaKey relatedNode relatedTarget shiftKey srcElement target timeStamp type view which propertyName"),t=e.concat(m("button buttons clientX clientY dataTransfer fromElement offsetX offsetY pageX pageY screenX screenY toElement")),n=t.concat(m("wheelDelta wheelDeltaX wheelDeltaY wheelDeltaZ axis")),o=e.concat(m("char charCode key keyCode keyIdentifier keyLocation location")),r=e.concat(m("data")),a=e.concat(m("touches targetTouches changedTouches scale rotation")),s=e.concat(m("data origin source")),u=e.concat(m("state")),d=/over|out/,f=[{reg:/key/i,fix:function(e,t){return t.keyCode=e.keyCode||e.which,o}},{reg:/click|mouse(?!(.*wheel|scroll))|menu|drag|drop/i,fix:function(e,n,i){return n.rightClick=3===e.which||2===e.button,n.pos={x:0,y:0},e.pageX||e.pageY?(n.clientX=e.pageX,n.clientY=e.pageY):(e.clientX||e.clientY)&&(n.clientX=e.clientX+l.body.scrollLeft+c.scrollLeft,n.clientY=e.clientY+l.body.scrollTop+c.scrollTop),d.test(i)&&(n.relatedTarget=e.relatedTarget||e[("mouseover"==i?"from":"to")+"Element"]),t}},{reg:/mouse.*(wheel|scroll)/i,fix:function(){return n}},{reg:/^text/i,fix:function(){return r}},{reg:/^touch|^gesture/i,fix:function(){return a}},{reg:/^message$/i,fix:function(){return s}},{reg:/^popstate$/i,fix:function(){return u}},{reg:/.*/,fix:function(){return e}}],p={},h=function(e,t,n){if(arguments.length&&(e=e||((t.ownerDocument||t.document||t).parentWindow||i).event,this.originalEvent=e,this.isNative=n,this.isBean=!0,e)){var o,r,a,s,u,l=e.type,c=e.target||e.srcElement;if(this.target=c&&3===c.nodeType?c.parentNode:c,n){if(u=p[l],!u)for(o=0,r=f.length;o<r;o++)if(f[o].reg.test(l)){p[l]=u=f[o].fix;break}for(s=u(e,this,l),o=s.length;o--;)!((a=s[o])in this)&&a in e&&(this[a]=e[a])}}};return h.prototype.preventDefault=function(){this.originalEvent.preventDefault?this.originalEvent.preventDefault():this.originalEvent.returnValue=!1},h.prototype.stopPropagation=function(){this.originalEvent.stopPropagation?this.originalEvent.stopPropagation():this.originalEvent.cancelBubble=!0},h.prototype.stop=function(){this.preventDefault(),this.stopPropagation(),this.stopped=!0},h.prototype.stopImmediatePropagation=function(){this.originalEvent.stopImmediatePropagation&&this.originalEvent.stopImmediatePropagation(),this.isImmediatePropagationStopped=function(){return!0}},h.prototype.isImmediatePropagationStopped=function(){return this.originalEvent.isImmediatePropagationStopped&&this.originalEvent.isImmediatePropagationStopped()},h.prototype.clone=function(e){var t=new h(this,this.element,this.isNative);return t.currentTarget=e,t},h}(),w=function(e,t){return d||t||e!==l&&e!==i?e:c},F=function(){var e=function(e,t,n,i){var o=function(n,o){return t.apply(e,i?h.call(o,n?0:1).concat(i):o)},r=function(n,i){return t.__beanDel?t.__beanDel.ft(n.target,e):i},a=n?function(e){var t=r(e,this);if(n.apply(t,arguments))return e&&(e.currentTarget=t),o(e,arguments)}:function(e){return t.__beanDel&&(e=e.clone(r(e))),o(e,arguments)};return a.__beanDel=t.__beanDel,a},t=function(t,n,i,o,r,a,s){var u,l=E[n];"unload"==n&&(i=_(T,t,n,i,o)),l&&(l.condition&&(i=e(t,i,l.condition,a)),n=l.base||n),this.isNative=u=C[n]&&!!t[f],this.customType=!d&&!u&&n,this.element=t,this.type=n,this.original=o,this.namespaces=r,this.eventType=d||u?n:"propertychange",this.target=w(t,u),this[f]=!!this.target[f],this.root=s,this.handler=e(t,i,null,a)};return t.prototype.inNamespaces=function(e){var t,n,i=0;if(!e)return!0;if(!this.namespaces)return!1;for(t=e.length;t--;)for(n=this.namespaces.length;n--;)e[t]==this.namespaces[n]&&i++;return e.length===i},t.prototype.matches=function(e,t,n){return!(this.element!==e||t&&this.original!==t||n&&this.handler!==n)},t}(),D=function(){var e={},t=function(n,i,o,r,a,s){var u=a?"r":"$";if(i&&"*"!=i){var l,c=0,d=e[u+i],f="*"==n;if(!d)return;for(l=d.length;c<l;c++)if((f||d[c].matches(n,o,r))&&!s(d[c],d,c,i))return}else for(var p in e)p.charAt(0)==u&&t(n,p.substr(1),o,r,a,s)},n=function(t,n,i,o){var r,a=e[(o?"r":"$")+n];if(a)for(r=a.length;r--;)if(!a[r].root&&a[r].matches(t,i,null))return!0;return!1},i=function(e,n,i,o){var r=[];return t(e,n,i,null,o,function(e){return r.push(e)}),r},o=function(t){var n=!t.root&&!this.has(t.element,t.type,null,!1),i=(t.root?"r":"$")+t.type;return(e[i]||(e[i]=[])).push(t),n},r=function(n){t(n.element,n.type,null,n.handler,n.root,function(t,n,i){return n.splice(i,1),t.removed=!0,0===n.length&&delete e[(t.root?"r":"$")+t.type],!1})},a=function(){var t,n=[];for(t in e)"$"==t.charAt(0)&&(n=n.concat(e[t]));return n};return{has:n,get:i,put:o,del:r,entries:a}}(),S=function(e){n=arguments.length?e:l.querySelectorAll?function(e,t){return t.querySelectorAll(e)}:function(){throw new Error("Bean: No selector engine installed")}},x=function(e,t){if(d||!t||!e||e.propertyName=="_on"+t){var n=D.get(this,t||e.type,null,!1),i=n.length,o=0;for(e=new b(e,this,(!0)),t&&(e.type=t);o<i&&!e.isImmediatePropagationStopped();o++)n[o].removed||n[o].handler.call(this,e)}},B=d?function(e,t,n){e[n?s:u](t,x,!1)}:function(e,t,n,i){var o;n?(D.put(o=new F(e,i||t,function(t){x.call(e,t,i)},x,null,null,(!0))),i&&null==e["_on"+i]&&(e["_on"+i]=0),o.target.attachEvent("on"+o.eventType,o.handler)):(o=D.get(e,i||t,x,!0)[0],o&&(o.target.detachEvent("on"+o.eventType,o.handler),D.del(o)))},_=function(e,t,n,i,o){return function(){i.apply(this,arguments),e(t,n,o)}},T=function(e,t,n,i){var o,r,s=t&&t.replace(a,""),u=D.get(e,s,null,!1),l={};for(o=0,r=u.length;o<r;o++)n&&u[o].original!==n||!u[o].inNamespaces(i)||(D.del(u[o]),!l[u[o].eventType]&&u[o][f]&&(l[u[o].eventType]={t:u[o].eventType,c:u[o].type}));for(o in l)D.has(e,l[o].t,null,!1)||B(e,l[o].t,!1,l[o].c)},k=function(e,t){var i=function(t,i){for(var o,r=g(e)?n(e,i):e;t&&t!==i;t=t.parentNode)for(o=r.length;o--;)if(r[o]===t)return t},o=function(e){var n=i(e.target,this);n&&t.apply(n,arguments)};return o.__beanDel={ft:i,selector:e},o},P=d?function(e,t,n){var o=l.createEvent(e?"HTMLEvents":"UIEvents");o[e?"initEvent":"initUIEvent"](t,!0,!0,i,1),n.dispatchEvent(o)}:function(e,t,n){n=w(n,e),e?n.fireEvent("on"+t,l.createEventObject()):n["_on"+t]++},O=function(e,t,n){var i,o,s,u,l=g(t);if(l&&t.indexOf(" ")>0){for(t=m(t),u=t.length;u--;)O(e,t[u],n);return e}if(o=l&&t.replace(a,""),o&&E[o]&&(o=E[o].base),!t||l)(s=l&&t.replace(r,""))&&(s=m(s,".")),T(e,o,n,s);else if(v(t))T(e,null,t);else for(i in t)t.hasOwnProperty(i)&&O(e,i,t[i]);return e},I=function(e,t,i,o){var s,u,l,c,d,g,y;{if(void 0!==i||"object"!=typeof t){for(v(i)?(d=h.call(arguments,3),o=s=i):(s=o,d=h.call(arguments,4),o=k(i,s,n)),l=m(t),this===p&&(o=_(O,e,t,o,s)),c=l.length;c--;)y=D.put(g=new F(e,l[c].replace(a,""),o,s,m(l[c].replace(r,""),"."),d,(!1))),g[f]&&y&&B(e,g.eventType,!0,g.customType);return e}for(u in t)t.hasOwnProperty(u)&&I.call(this,e,u,t[u])}},L=function(e,t,n,i){return I.apply(null,g(n)?[e,n,t,i].concat(arguments.length>3?h.call(arguments,5):[]):h.call(arguments))},R=function(){return I.apply(p,arguments)},M=function(e,t,n){var i,o,s,u,l,c=m(t);for(i=c.length;i--;)if(t=c[i].replace(a,""),(u=c[i].replace(r,""))&&(u=m(u,".")),u||n||!e[f])for(l=D.get(e,t,null,!1),n=[!1].concat(n),o=0,s=l.length;o<s;o++)l[o].inNamespaces(u)&&l[o].handler.apply(e,n);else P(C[t],t,e);return e},N=function(e,t,n){for(var i,o,r=D.get(t,n,null,!1),a=r.length,s=0;s<a;s++)r[s].original&&(i=[e,r[s].type],(o=r[s].handler.__beanDel)&&i.push(o.selector),i.push(r[s].original),I.apply(null,i));return e},q={on:I,add:L,one:R,off:O,remove:O,clone:N,fire:M,Event:b,setSelectorEngine:S,noConflict:function(){return t[e]=o,this}};if(i.attachEvent){var z=function(){var e,t=D.entries();for(e in t)t[e].type&&"unload"!==t[e].type&&O(t[e].element,t[e].type);i.detachEvent("onunload",z),i.CollectGarbage&&i.CollectGarbage()};i.attachEvent("onunload",z)}return S(),q})},{}],2:[function(e,t,n){!function(e,n,i){"undefined"!=typeof t&&t.exports?t.exports=i():"function"==typeof define&&define.amd?define(i):n[e]=i()}("bonzo",this,function(){function e(e,t){var n=null,i=x.defaultView.getComputedStyle(e,"");return i&&(n=i[t]),e.style[t]||n}function t(e){return e&&e.nodeName&&(1==e.nodeType||11==e.nodeType)}function n(e,n,i){var o,r,a;if("string"==typeof e)return b.create(e);if(t(e)&&(e=[e]),i){for(a=[],o=0,r=e.length;o<r;o++)a[o]=y(n,e[o]);return a}return e}function i(e){return new RegExp("(^|\\s+)"+e+"(\\s+|$)")}function o(e,t,n,i){for(var o,r=0,a=e.length;r<a;r++)o=i?e.length-r-1:r,t.call(n||e[o],e[o],o,e);return e}function r(e,n,i){for(var o=0,a=e.length;o<a;o++)t(e[o])&&(r(e[o].childNodes,n,i),n.call(i||e[o],e[o],o,e));return e}function a(e){return e.replace(/-(.)/g,function(e,t){return t.toUpperCase()})}function s(e){return e?e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase():e}function u(e){e[V]("data-node-uid")||e[W]("data-node-uid",++z);var t=e[V]("data-node-uid");return q[t]||(q[t]={})}function l(e){var t=e[V]("data-node-uid");t&&delete q[t]}function c(e){var t;try{return null===e||void 0===e?void 0:"true"===e||"false"!==e&&("null"===e?null:(t=parseFloat(e))==e?t:e)}catch(n){}}function d(e,t,n){for(var i=0,o=e.length;i<o;++i)if(t.call(n||null,e[i],i,e))return!0;return!1}function f(e){return"transform"==e&&(e=$.transform)||/^transform-?[Oo]rigin$/.test(e)&&(e=$.transform+"Origin"),e?a(e):null}function p(e,t,i,r){var a=0,s=t||this,u=[],l=J&&"string"==typeof e&&"<"!=e.charAt(0)?J(e):e;return o(n(l),function(e,t){o(s,function(n){i(e,u[a++]=t>0?y(s,n):n)},null,r)},this,r),s.length=a,o(u,function(e){s[--a]=e},null,!r),s}function h(e,t,n){var i=b(e),o=i.css("position"),r=i.offset(),a="relative",s=o==a,u=[parseInt(i.css("left"),10),parseInt(i.css("top"),10)];"static"==o&&(i.css("position",a),o=a),isNaN(u[0])&&(u[0]=s?0:e.offsetLeft),isNaN(u[1])&&(u[1]=s?0:e.offsetTop),null!=t&&(e.style.left=t-r.left+u[0]+j),null!=n&&(e.style.top=n-r.top+u[1]+j)}function m(e,t){return"function"==typeof t?t.call(e,e):t}function g(e,t,n){var i=this[0];return i?null==e&&null==t?(A(i)?C():{x:i.scrollLeft,y:i.scrollTop})[n]:(A(i)?S.scrollTo(e,t):(null!=e&&(i.scrollLeft=e),null!=t&&(i.scrollTop=t)),this):this}function v(e){if(this.length=0,e){e="string"==typeof e||e.nodeType||"undefined"==typeof e.length?[e]:e,this.length=e.length;for(var t=0;t<e.length;t++)this[t]=e[t]}}function y(e,t){var n,i,o,r=t.cloneNode(!0);if(e.$&&"function"==typeof e.cloneEvents)for(e.$(r).cloneEvents(t),n=e.$(r).find("*"),i=e.$(t).find("*"),o=0;o<i.length;o++)e.$(n[o]).cloneEvents(i[o]);return r}function A(e){return e===S||/^(?:body|html)$/i.test(e.tagName)}function C(){return{x:S.pageXOffset||B.scrollLeft,y:S.pageYOffset||B.scrollTop}}function E(e){var t=document.createElement("script"),n=e.match(P);return t.src=n[1],t}function b(e){return new v(e)}var w,F,D,S=window,x=S.document,B=x.documentElement,_="parentNode",T=/^(checked|value|selected|disabled)$/i,k=/^(select|fieldset|table|tbody|tfoot|td|tr|colgroup)$/i,P=/\s*<script +src=['"]([^'"]+)['"]>/,O=["<table>","</table>",1],I=["<table><tbody><tr>","</tr></tbody></table>",3],L=["<select>","</select>",1],R=["_","",0,1],M={thead:O,tbody:O,tfoot:O,colgroup:O,caption:O,tr:["<table><tbody>","</tbody></table>",2],th:I,td:I,col:["<table><colgroup>","</colgroup></table>",2],fieldset:["<form>","</form>",1],legend:["<form><fieldset>","</fieldset></form>",2],option:L,optgroup:L,script:R,style:R,link:R,param:R,base:R},N=/^(checked|selected|disabled)$/,q={},z=0,H=/^-?[\d\.]+$/,U=/^data-(.+)$/,j="px",W="setAttribute",V="getAttribute",$=function(){var e=x.createElement("p");return{transform:function(){var t,n=["transform","webkitTransform","MozTransform","OTransform","msTransform"];for(t=0;t<n.length;t++)if(n[t]in e.style)return n[t]}(),classList:"classList"in e}}(),X=/\s+/,G=String.prototype.toString,Y={lineHeight:1,zoom:1,zIndex:1,opacity:1,boxFlex:1,WebkitBoxFlex:1,MozBoxFlex:1},J=x.querySelectorAll&&function(e){return x.querySelectorAll(e)};return $.classList?(w=function(e,t){return e.classList.contains(t)},F=function(e,t){e.classList.add(t)},D=function(e,t){e.classList.remove(t)}):(w=function(e,t){return i(t).test(e.className)},F=function(e,t){e.className=(e.className+" "+t).trim()},D=function(e,t){e.className=e.className.replace(i(t)," ").trim()}),v.prototype={get:function(e){return this[e]||null},each:function(e,t){return o(this,e,t)},deepEach:function(e,t){return r(this,e,t)},map:function(e,t){var n,i,o=[];for(i=0;i<this.length;i++)n=e.call(this,this[i],i),t?t(n)&&o.push(n):o.push(n);return o},html:function(e,t){var i=t?"textContent":"innerHTML",r=this,a=function(t,i){o(n(e,r,i),function(e){t.appendChild(e)})},s=function(n,o){try{if(t||"string"==typeof e&&!k.test(n.tagName))return n[i]=e}catch(r){}a(n,o)};return"undefined"!=typeof e?this.empty().each(s):this[0]?this[0][i]:""},text:function(e){return this.html(e,!0)},append:function(e){var t=this;return this.each(function(i,r){o(n(e,t,r),function(e){i.appendChild(e)})})},prepend:function(e){var t=this;return this.each(function(i,r){var a=i.firstChild;o(n(e,t,r),function(e){i.insertBefore(e,a)})})},appendTo:function(e,t){return p.call(this,e,t,function(e,t){e.appendChild(t)})},prependTo:function(e,t){return p.call(this,e,t,function(e,t){e.insertBefore(t,e.firstChild)},1)},before:function(e){var t=this;return this.each(function(i,r){o(n(e,t,r),function(e){i[_].insertBefore(e,i)})})},after:function(e){var t=this;return this.each(function(i,r){o(n(e,t,r),function(e){i[_].insertBefore(e,i.nextSibling)},null,1)})},insertBefore:function(e,t){return p.call(this,e,t,function(e,t){e[_].insertBefore(t,e)})},insertAfter:function(e,t){return p.call(this,e,t,function(e,t){var n=e.nextSibling;n?e[_].insertBefore(t,n):e[_].appendChild(t)},1)},replaceWith:function(e){var t=this;return this.each(function(i,r){o(n(e,t,r),function(e){i[_]&&i[_].replaceChild(e,i)})})},clone:function(e){var t,n,i=[];for(n=0,t=this.length;n<t;n++)i[n]=y(e||this,this[n]);return b(i)},addClass:function(e){return e=G.call(e).split(X),this.each(function(t){o(e,function(e){e&&!w(t,m(t,e))&&F(t,m(t,e))})})},removeClass:function(e){return e=G.call(e).split(X),this.each(function(t){o(e,function(e){e&&w(t,m(t,e))&&D(t,m(t,e))})})},hasClass:function(e){return e=G.call(e).split(X),d(this,function(t){return d(e,function(e){return e&&w(t,e)})})},toggleClass:function(e,t){return e=G.call(e).split(X),this.each(function(n){o(e,function(e){e&&("undefined"!=typeof t?t?!w(n,e)&&F(n,e):D(n,e):w(n,e)?D(n,e):F(n,e))})})},show:function(e){return e="string"==typeof e?e:"",this.each(function(t){t.style.display=e})},hide:function(){return this.each(function(e){e.style.display="none"})},toggle:function(e,t){return t="string"==typeof t?t:"","function"!=typeof e&&(e=null),this.each(function(n){n.style.display=n.offsetWidth||n.offsetHeight?"none":t,e&&e.call(n)})},first:function(){return b(this.length?this[0]:[])},last:function(){return b(this.length?this[this.length-1]:[])},next:function(){return this.related("nextSibling")},previous:function(){return this.related("previousSibling")},parent:function(){return this.related(_)},related:function(e){return b(this.map(function(t){for(t=t[e];t&&1!==t.nodeType;)t=t[e];return t||0},function(e){return e}))},focus:function(){return this.length&&this[0].focus(),this},blur:function(){return this.length&&this[0].blur(),this},css:function(t,n){function i(e,t,n){for(var i in r)if(r.hasOwnProperty(i)){n=r[i],(t=f(i))&&H.test(n)&&!(t in Y)&&(n+=j);try{e.style[t]=m(e,n)}catch(o){}}}var o,r=t;return void 0===n&&"string"==typeof t?(n=this[0],n?n===x||n===S?(o=n===x?b.doc():b.viewport(),"width"==t?o.width:"height"==t?o.height:""):(t=f(t))?e(n,t):null:null):("string"==typeof t&&(r={},r[t]=n),this.each(i))},offset:function(e,t){if(e&&"object"==typeof e&&("number"==typeof e.top||"number"==typeof e.left))return this.each(function(t){h(t,e.left,e.top)});if("number"==typeof e||"number"==typeof t)return this.each(function(n){h(n,e,t)});if(!this[0])return{top:0,left:0,height:0,width:0};var n=this[0],i=n.ownerDocument.documentElement,o=n.getBoundingClientRect(),r=C(),a=n.offsetWidth,s=n.offsetHeight,u=o.top+r.y-Math.max(0,i&&i.clientTop,x.body.clientTop),l=o.left+r.x-Math.max(0,i&&i.clientLeft,x.body.clientLeft);return{top:u,left:l,height:s,width:a}},dim:function(){if(!this.length)return{height:0,width:0};var e=this[0],t=9==e.nodeType&&e.documentElement,n=t||!e.style||e.offsetWidth||e.offsetHeight?null:function(t){var n={position:e.style.position||"",visibility:e.style.visibility||"",display:e.style.display||""};return t.first().css({position:"absolute",visibility:"hidden",display:"block"}),n}(this),i=t?Math.max(e.body.scrollWidth,e.body.offsetWidth,t.scrollWidth,t.offsetWidth,t.clientWidth):e.offsetWidth,o=t?Math.max(e.body.scrollHeight,e.body.offsetHeight,t.scrollHeight,t.offsetHeight,t.clientHeight):e.offsetHeight;return n&&this.first().css(n),{height:o,width:i}},attr:function(e,t){var n,i=this[0];if("string"!=typeof e&&!(e instanceof String)){for(n in e)e.hasOwnProperty(n)&&this.attr(n,e[n]);return this}return"undefined"==typeof t?i?T.test(e)?!(!N.test(e)||"string"!=typeof i[e])||i[e]:i[V](e):null:this.each(function(n){T.test(e)?n[e]=m(n,t):n[W](e,m(n,t))})},removeAttr:function(e){return this.each(function(t){N.test(e)?t[e]=!1:t.removeAttribute(e)})},val:function(e){return"string"==typeof e||"number"==typeof e?this.attr("value",e):this.length?this[0].value:null},data:function(e,t){var n,i,r=this[0];return"undefined"==typeof t?r?(n=u(r),"undefined"==typeof e?(o(r.attributes,function(e){(i=(""+e.name).match(U))&&(n[a(i[1])]=c(e.value))}),n):("undefined"==typeof n[e]&&(n[e]=c(this.attr("data-"+s(e)))),n[e])):null:this.each(function(n){u(n)[e]=t})},remove:function(){return this.deepEach(l),this.detach()},empty:function(){return this.each(function(e){for(r(e.childNodes,l);e.firstChild;)e.removeChild(e.firstChild)})},detach:function(){return this.each(function(e){e[_]&&e[_].removeChild(e)})},scrollTop:function(e){return g.call(this,null,e,"y")},scrollLeft:function(e){return g.call(this,e,null,"x")}},b.setQueryEngine=function(e){J=e,delete b.setQueryEngine},b.aug=function(e,t){for(var n in e)e.hasOwnProperty(n)&&((t||v.prototype)[n]=e[n])},b.create=function(e){return"string"==typeof e&&""!==e?function(){if(P.test(e))return[E(e)];var t=e.match(/^\s*<([^\s>]+)/),n=x.createElement("div"),i=[],r=t?M[t[1].toLowerCase()]:null,a=r?r[2]+1:1,s=r&&r[3],u=_;for(n.innerHTML=r?r[0]+e+r[1]:e;a--;)n=n.firstChild;s&&n&&1!==n.nodeType&&(n=n.nextSibling);do t&&1!=n.nodeType||i.push(n);while(n=n.nextSibling);return o(i,function(e){e[u]&&e[u].removeChild(e)}),i}():t(e)?[e.cloneNode(!0)]:[]},b.doc=function(){var e=b.viewport();return{width:Math.max(x.body.scrollWidth,B.scrollWidth,e.width),height:Math.max(x.body.scrollHeight,B.scrollHeight,e.height)}},b.firstChild=function(e){for(var t,n=e.childNodes,i=0,o=n&&n.length||0;i<o;i++)1===n[i].nodeType&&(t=n[o=i]);return t},b.viewport=function(){return{width:S.innerWidth,height:S.innerHeight}},b.isAncestor="compareDocumentPosition"in B?function(e,t){return 16==(16&e.compareDocumentPosition(t))}:function(e,t){return e!==t&&e.contains(t)},b})},{}],3:[function(e,t,n){},{}],4:[function(e,t,n){"use strict";function i(e){return Object.assign({muted:!1,timeout:250,inline:!1},e)}function o(e,t){var n=e.muted,i=e.timeout,o=e.inline,r=t(),a=r.element,s=r.source,u=void 0,l=void 0,c=void 0;return a.muted=n,n===!0&&a.setAttribute("muted","muted"),o===!0&&a.setAttribute("playsinline","playsinline"),a.src=s,new Promise(function(e){u=a.play(),l=setTimeout(function(){c(!1,new Error("Timeout "+i+" ms has been reached"))},i),c=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;a.remove(),a.srcObject=null,clearTimeout(l),e({result:t,error:n})},void 0!==u?u.then(function(){return c(!0)})["catch"](function(e){return c(!1,e)}):c(!0)})}function r(e){return e=i(e),o(e,function(){return{element:document.createElement("video"),source:URL.createObjectURL(u)}})}function a(e){return e=i(e),o(e,function(){return{element:document.createElement("audio"),source:URL.createObjectURL(s)}})}var s=new Blob([new Uint8Array([255,227,24,196,0,0,0,3,72,1,64,0,0,4,132,16,31,227,192,225,76,255,67,12,255,221,27,255,228,97,73,63,255,195,131,69,192,232,223,255,255,207,102,239,255,255,255,101,158,206,70,20,59,255,254,95,70,149,66,4,16,128,0,2,2,32,240,138,255,36,106,183,255,227,24,196,59,11,34,62,80,49,135,40,0,253,29,191,209,200,141,71,7,255,252,152,74,15,130,33,185,6,63,255,252,195,70,203,86,53,15,255,255,247,103,76,121,64,32,47,255,34,227,194,209,138,76,65,77,69,51,46,57,55,170,170,170,170,170,170,170,170,170,170,255,227,24,196,73,13,153,210,100,81,135,56,0,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170])],{type:"audio/mpeg"}),u=new Blob([new Uint8Array([0,0,0,28,102,116,121,112,105,115,111,109,0,0,2,0,105,115,111,109,105,115,111,50,109,112,52,49,0,0,0,8,102,114,101,101,0,0,2,239,109,100,97,116,33,16,5,32,164,27,255,192,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,55,167,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,112,33,16,5,32,164,27,255,192,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,55,167,128,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,112,0,0,2,194,109,111,111,118,0,0,0,108,109,118,104,100,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,232,0,0,0,47,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,1,236,116,114,97,107,0,0,0,92,116,107,104,100,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,47,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,36,101,100,116,115,0,0,0,28,101,108,115,116,0,0,0,0,0,0,0,1,0,0,0,47,0,0,0,0,0,1,0,0,0,0,1,100,109,100,105,97,0,0,0,32,109,100,104,100,0,0,0,0,0,0,0,0,0,0,0,0,0,0,172,68,0,0,8,0,85,196,0,0,0,0,0,45,104,100,108,114,0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0,0,0,1,15,109,105,110,102,0,0,0,16,115,109,104,100,0,0,0,0,0,0,0,0,0,0,0,36,100,105,110,102,0,0,0,28,100,114,101,102,0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1,0,0,0,211,115,116,98,108,0,0,0,103,115,116,115,100,0,0,0,0,0,0,0,1,0,0,0,87,109,112,52,97,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,2,0,16,0,0,0,0,172,68,0,0,0,0,0,51,101,115,100,115,0,0,0,0,3,128,128,128,34,0,2,0,4,128,128,128,20,64,21,0,0,0,0,1,244,0,0,1,243,249,5,128,128,128,2,18,16,6,128,128,128,1,2,0,0,0,24,115,116,116,115,0,0,0,0,0,0,0,1,0,0,0,2,0,0,4,0,0,0,0,28,115,116,115,99,0,0,0,0,0,0,0,1,0,0,0,1,0,0,0,2,0,0,0,1,0,0,0,28,115,116,115,122,0,0,0,0,0,0,0,0,0,0,0,2,0,0,1,115,0,0,1,116,0,0,0,20,115,116,99,111,0,0,0,0,0,0,0,1,0,0,0,44,0,0,0,98,117,100,116,97,0,0,0,90,109,101,116,97,0,0,0,0,0,0,0,33,104,100,108,114,0,0,0,0,0,0,0,0,109,100,105,114,97,112,112,108,0,0,0,0,0,0,0,0,0,0,0,0,45,105,108,115,116,0,0,0,37,169,116,111,111,0,0,0,29,100,97,116,97,0,0,0,1,0,0,0,0,76,97,118,102,53,54,46,52,48,46,49,48,49])],{type:"video/mp4"}),l={audio:a,video:r};t.exports=l},{}],5:[function(e,t,n){function i(e){function t(e){var t=c();a(t,e)>-1||(t.push(e),d(t))}function n(e){var t=c(),n=a(t,e);n!==-1&&(t.splice(n,1),d(t))}function i(e){return a(c(),e)>-1}function s(e){return i(e)?(n(e),!1):(t(e),!0)}function u(){return e.className}function l(e){var t=c();return t[e]||null}function c(){var t=e.className;return o(t.split(" "),r)}function d(t){var n=t.length;e.className=t.join(" "),p.length=n;for(var i=0;i<t.length;i++)p[i]=t[i];delete t[n]}var f=e.classList;if(f)return f;var p={add:t,remove:n,contains:i,toggle:s,toString:u,length:0,item:l};return p}function o(e,t){for(var n=[],i=0;i<e.length;i++)t(e[i])&&n.push(e[i]);return n}function r(e){return!!e}var a=e("indexof");t.exports=i},{indexof:9}],6:[function(e,t,n){!function(e,n){"function"==typeof define&&define.amd?define(n):"object"==typeof t&&t.exports?t.exports.Dragdealer=n():e.Dragdealer=n()}(this,function(){function e(e){var t="Webkit Moz ms O".split(" "),n=document.documentElement.style;if(void 0!==n[e])return e;e=e.charAt(0).toUpperCase()+e.substr(1);for(var i=0;i<t.length;i++)if(void 0!==n[t[i]+e])return t[i]+e}function t(e){c.backfaceVisibility&&c.perspective&&(e.style[c.perspective]="1000px",e.style[c.backfaceVisibility]="hidden")}var n=function(e,t){this.options=this.applyDefaults(t||{}),this.bindMethods(),this.wrapper=this.getWrapperElement(e),this.wrapper&&(this.handle=this.getHandleElement(this.wrapper,this.options.handleClass),this.handle&&(this.init(),this.bindEventListeners()))};n.prototype={defaults:{disabled:!1,horizontal:!0,vertical:!1,slide:!0,steps:0,snap:!1,loose:!1,speed:.1,xPrecision:0,yPrecision:0,handleClass:"handle",css3:!0,activeClass:"active",tapping:!0},init:function(){this.options.css3&&t(this.handle),this.value={prev:[-1,-1],current:[this.options.x||0,this.options.y||0],target:[this.options.x||0,this.options.y||0]},this.offset={wrapper:[0,0],mouse:[0,0],prev:[-999999,-999999],current:[0,0],target:[0,0]},this.dragStartPosition={x:0,y:0},this.change=[0,0],this.stepRatios=this.calculateStepRatios(),this.activity=!1,this.dragging=!1,this.tapping=!1,this.reflow(),this.options.disabled&&this.disable()},applyDefaults:function(e){for(var t in this.defaults)e.hasOwnProperty(t)||(e[t]=this.defaults[t]);return e},getWrapperElement:function(e){return"string"==typeof e?document.getElementById(e):e},getHandleElement:function(e,t){var n,i,o;if(e.getElementsByClassName){if(n=e.getElementsByClassName(t),n.length>0)return n[0]}else for(i=new RegExp("(^|\\s)"+t+"(\\s|$)"),n=e.getElementsByTagName("*"),o=0;o<n.length;o++)if(i.test(n[o].className))return n[o]},calculateStepRatios:function(){var e=[];if(this.options.steps>=1)for(var t=0;t<=this.options.steps-1;t++)this.options.steps>1?e[t]=t/(this.options.steps-1):e[t]=0;return e},setWrapperOffset:function(){this.offset.wrapper=l.get(this.wrapper)},calculateBounds:function(){var e={top:this.options.top||0,bottom:-(this.options.bottom||0)+this.wrapper.offsetHeight,left:this.options.left||0,right:-(this.options.right||0)+this.wrapper.offsetWidth};return e.availWidth=e.right-e.left-this.handle.offsetWidth,e.availHeight=e.bottom-e.top-this.handle.offsetHeight,e},calculateValuePrecision:function(){var e=this.options.xPrecision||Math.abs(this.bounds.availWidth),t=this.options.yPrecision||Math.abs(this.bounds.availHeight);return[e?1/e:0,t?1/t:0]},bindMethods:function(){"function"==typeof this.options.customRequestAnimationFrame?this.requestAnimationFrame=i(this.options.customRequestAnimationFrame,window):this.requestAnimationFrame=i(f,window),"function"==typeof this.options.customCancelAnimationFrame?this.cancelAnimationFrame=i(this.options.customCancelAnimationFrame,window):this.cancelAnimationFrame=i(p,window),this.animateWithRequestAnimationFrame=i(this.animateWithRequestAnimationFrame,this),this.animate=i(this.animate,this),this.onHandleMouseDown=i(this.onHandleMouseDown,this),this.onHandleTouchStart=i(this.onHandleTouchStart,this),this.onDocumentMouseMove=i(this.onDocumentMouseMove,this),this.onWrapperTouchMove=i(this.onWrapperTouchMove,this),this.onWrapperMouseDown=i(this.onWrapperMouseDown,this),this.onWrapperTouchStart=i(this.onWrapperTouchStart,this),this.onDocumentMouseUp=i(this.onDocumentMouseUp,this),this.onDocumentTouchEnd=i(this.onDocumentTouchEnd,this),this.onHandleClick=i(this.onHandleClick,this),this.onWindowResize=i(this.onWindowResize,this)},bindEventListeners:function(){o(this.handle,"mousedown",this.onHandleMouseDown),o(this.handle,"touchstart",this.onHandleTouchStart),o(document,"mousemove",this.onDocumentMouseMove),o(this.wrapper,"touchmove",this.onWrapperTouchMove),o(this.wrapper,"mousedown",this.onWrapperMouseDown),o(this.wrapper,"touchstart",this.onWrapperTouchStart),o(document,"mouseup",this.onDocumentMouseUp),o(document,"touchend",this.onDocumentTouchEnd),
o(this.handle,"click",this.onHandleClick),o(window,"resize",this.onWindowResize),this.animate(!1,!0),this.interval=this.requestAnimationFrame(this.animateWithRequestAnimationFrame)},unbindEventListeners:function(){r(this.handle,"mousedown",this.onHandleMouseDown),r(this.handle,"touchstart",this.onHandleTouchStart),r(document,"mousemove",this.onDocumentMouseMove),r(this.wrapper,"touchmove",this.onWrapperTouchMove),r(this.wrapper,"mousedown",this.onWrapperMouseDown),r(this.wrapper,"touchstart",this.onWrapperTouchStart),r(document,"mouseup",this.onDocumentMouseUp),r(document,"touchend",this.onDocumentTouchEnd),r(this.handle,"click",this.onHandleClick),r(window,"resize",this.onWindowResize),this.cancelAnimationFrame(this.interval)},onHandleMouseDown:function(e){u.refresh(e),a(e),s(e),this.activity=!1,this.startDrag()},onHandleTouchStart:function(e){u.refresh(e),s(e),this.activity=!1,this.startDrag()},onDocumentMouseMove:function(e){e.clientX-this.dragStartPosition.x===0&&e.clientY-this.dragStartPosition.y===0||(u.refresh(e),this.dragging&&(this.activity=!0,a(e)))},onWrapperTouchMove:function(e){return u.refresh(e),!this.activity&&this.draggingOnDisabledAxis()?void(this.dragging&&this.stopDrag()):(a(e),void(this.activity=!0))},onWrapperMouseDown:function(e){u.refresh(e),a(e),this.startTap()},onWrapperTouchStart:function(e){u.refresh(e),a(e),this.startTap()},onDocumentMouseUp:function(e){this.stopDrag(),this.stopTap()},onDocumentTouchEnd:function(e){this.stopDrag(),this.stopTap()},onHandleClick:function(e){this.activity&&(a(e),s(e))},onWindowResize:function(e){this.reflow()},enable:function(){this.disabled=!1,this.handle.className=this.handle.className.replace(/\s?disabled/g,"")},disable:function(){this.disabled=!0,this.handle.className+=" disabled"},reflow:function(){this.setWrapperOffset(),this.bounds=this.calculateBounds(),this.valuePrecision=this.calculateValuePrecision(),this.updateOffsetFromValue()},getStep:function(){return[this.getStepNumber(this.value.target[0]),this.getStepNumber(this.value.target[1])]},getStepWidth:function(){return Math.abs(this.bounds.availWidth/this.options.steps)},getValue:function(){return this.value.target},setStep:function(e,t,n){this.setValue(this.options.steps&&e>1?(e-1)/(this.options.steps-1):0,this.options.steps&&t>1?(t-1)/(this.options.steps-1):0,n)},setValue:function(e,t,n){this.setTargetValue([e,t||0]),n&&(this.groupCopy(this.value.current,this.value.target),this.updateOffsetFromValue(),this.callAnimationCallback())},startTap:function(){!this.disabled&&this.options.tapping&&(this.tapping=!0,this.setWrapperOffset(),this.setTargetValueByOffset([u.x-this.offset.wrapper[0]-this.handle.offsetWidth/2,u.y-this.offset.wrapper[1]-this.handle.offsetHeight/2]))},stopTap:function(){!this.disabled&&this.tapping&&(this.tapping=!1,this.setTargetValue(this.value.current))},startDrag:function(){this.disabled||(this.dragging=!0,this.setWrapperOffset(),this.dragStartPosition={x:u.x,y:u.y},this.offset.mouse=[u.x-l.get(this.handle)[0],u.y-l.get(this.handle)[1]],this.wrapper.className.match(this.options.activeClass)||(this.wrapper.className+=" "+this.options.activeClass),this.callDragStartCallback())},stopDrag:function(){if(!this.disabled&&this.dragging){this.dragging=!1;var e=0===this.bounds.availWidth?0:(u.x-this.dragStartPosition.x)/this.bounds.availWidth,t=0===this.bounds.availHeight?0:(u.y-this.dragStartPosition.y)/this.bounds.availHeight,n=[e,t],i=this.groupClone(this.value.current);if(this.options.slide){var o=this.change;i[0]+=4*o[0],i[1]+=4*o[1]}this.setTargetValue(i),this.wrapper.className=this.wrapper.className.replace(" "+this.options.activeClass,""),this.callDragStopCallback(n)}},callAnimationCallback:function(){var e=this.value.current;this.options.snap&&this.options.steps>1&&(e=this.getClosestSteps(e)),this.groupCompare(e,this.value.prev)||("function"==typeof this.options.animationCallback&&this.options.animationCallback.call(this,e[0],e[1]),this.groupCopy(this.value.prev,e))},callTargetCallback:function(){"function"==typeof this.options.callback&&this.options.callback.call(this,this.value.target[0],this.value.target[1])},callDragStartCallback:function(){"function"==typeof this.options.dragStartCallback&&this.options.dragStartCallback.call(this,this.value.target[0],this.value.target[1])},callDragStopCallback:function(e){"function"==typeof this.options.dragStopCallback&&this.options.dragStopCallback.call(this,this.value.target[0],this.value.target[1],e)},animateWithRequestAnimationFrame:function(e){e?(this.timeOffset=this.timeStamp?e-this.timeStamp:0,this.timeStamp=e):this.timeOffset=25,this.animate(),this.interval=this.requestAnimationFrame(this.animateWithRequestAnimationFrame)},animate:function(e,t){if(!e||this.dragging){if(this.dragging){var n=this.groupClone(this.value.target),i=[u.x-this.offset.wrapper[0]-this.offset.mouse[0],u.y-this.offset.wrapper[1]-this.offset.mouse[1]];this.setTargetValueByOffset(i,this.options.loose),this.change=[this.value.target[0]-n[0],this.value.target[1]-n[1]]}(this.dragging||t)&&this.groupCopy(this.value.current,this.value.target),(this.dragging||this.glide()||t)&&(this.updateOffsetFromValue(),this.callAnimationCallback())}},glide:function(){var e=[this.value.target[0]-this.value.current[0],this.value.target[1]-this.value.current[1]];return!(!e[0]&&!e[1])&&(Math.abs(e[0])>this.valuePrecision[0]||Math.abs(e[1])>this.valuePrecision[1]?(this.value.current[0]+=e[0]*Math.min(this.options.speed*this.timeOffset/25,1),this.value.current[1]+=e[1]*Math.min(this.options.speed*this.timeOffset/25,1)):this.groupCopy(this.value.current,this.value.target),!0)},updateOffsetFromValue:function(){this.options.snap?this.offset.current=this.getOffsetsByRatios(this.getClosestSteps(this.value.current)):this.offset.current=this.getOffsetsByRatios(this.value.current),this.groupCompare(this.offset.current,this.offset.prev)||(this.renderHandlePosition(),this.groupCopy(this.offset.prev,this.offset.current))},renderHandlePosition:function(){var e="";return this.options.css3&&c.transform?(this.options.horizontal&&(e+="translateX("+this.offset.current[0]+"px)"),this.options.vertical&&(e+=" translateY("+this.offset.current[1]+"px)"),void(this.handle.style[c.transform]=e)):(this.options.horizontal&&(this.handle.style.left=this.offset.current[0]+"px"),void(this.options.vertical&&(this.handle.style.top=this.offset.current[1]+"px")))},setTargetValue:function(e,t){var n=t?this.getLooseValue(e):this.getProperValue(e);this.groupCopy(this.value.target,n),this.offset.target=this.getOffsetsByRatios(n),this.callTargetCallback()},setTargetValueByOffset:function(e,t){var n=this.getRatiosByOffsets(e),i=t?this.getLooseValue(n):this.getProperValue(n);this.groupCopy(this.value.target,i),this.offset.target=this.getOffsetsByRatios(i)},getLooseValue:function(e){var t=this.getProperValue(e);return[t[0]+(e[0]-t[0])/4,t[1]+(e[1]-t[1])/4]},getProperValue:function(e){var t=this.groupClone(e);return t[0]=Math.max(t[0],0),t[1]=Math.max(t[1],0),t[0]=Math.min(t[0],1),t[1]=Math.min(t[1],1),(!this.dragging&&!this.tapping||this.options.snap)&&this.options.steps>1&&(t=this.getClosestSteps(t)),t},getRatiosByOffsets:function(e){return[this.getRatioByOffset(e[0],this.bounds.availWidth,this.bounds.left),this.getRatioByOffset(e[1],this.bounds.availHeight,this.bounds.top)]},getRatioByOffset:function(e,t,n){return t?(e-n)/t:0},getOffsetsByRatios:function(e){return[this.getOffsetByRatio(e[0],this.bounds.availWidth,this.bounds.left),this.getOffsetByRatio(e[1],this.bounds.availHeight,this.bounds.top)]},getOffsetByRatio:function(e,t,n){return Math.round(e*t)+n},getStepNumber:function(e){return this.getClosestStep(e)*(this.options.steps-1)+1},getClosestSteps:function(e){return[this.getClosestStep(e[0]),this.getClosestStep(e[1])]},getClosestStep:function(e){for(var t=0,n=1,i=0;i<=this.options.steps-1;i++)Math.abs(this.stepRatios[i]-e)<n&&(n=Math.abs(this.stepRatios[i]-e),t=i);return this.stepRatios[t]},groupCompare:function(e,t){return e[0]==t[0]&&e[1]==t[1]},groupCopy:function(e,t){e[0]=t[0],e[1]=t[1]},groupClone:function(e){return[e[0],e[1]]},draggingOnDisabledAxis:function(){return!this.options.horizontal&&u.xDiff>u.yDiff||!this.options.vertical&&u.yDiff>u.xDiff}};for(var i=function(e,t){return function(){return e.apply(t,arguments)}},o=function(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent&&e.attachEvent("on"+t,n)},r=function(e,t,n){e.removeEventListener?e.removeEventListener(t,n,!1):e.detachEvent&&e.detachEvent("on"+t,n)},a=function(e){e||(e=window.event),e.preventDefault&&e.preventDefault(),e.returnValue=!1},s=function(e){e||(e=window.event),e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0},u={x:0,y:0,xDiff:0,yDiff:0,refresh:function(e){e||(e=window.event),"mousemove"==e.type?this.set(e):e.touches&&this.set(e.touches[0])},set:function(e){var t=this.x,n=this.y;e.clientX||e.clientY?(this.x=e.clientX,this.y=e.clientY):(e.pageX||e.pageY)&&(this.x=e.pageX-document.body.scrollLeft-document.documentElement.scrollLeft,this.y=e.pageY-document.body.scrollTop-document.documentElement.scrollTop),this.xDiff=Math.abs(this.x-t),this.yDiff=Math.abs(this.y-n)}},l={get:function(e){var t={left:0,top:0};return void 0!==e.getBoundingClientRect&&(t=e.getBoundingClientRect()),[t.left,t.top]}},c={transform:e("transform"),perspective:e("perspective"),backfaceVisibility:e("backfaceVisibility")},d=["webkit","moz"],f=window.requestAnimationFrame,p=window.cancelAnimationFrame,h=0;h<d.length&&!f;++h)f=window[d[h]+"RequestAnimationFrame"],p=window[d[h]+"CancelAnimationFrame"]||window[d[h]+"CancelRequestAnimationFrame"];return f||(f=function(e){return setTimeout(e,25)},p=clearTimeout),n})},{}],7:[function(e,t,n){"use strict";var i=e("util"),o=e("is-arrayish"),r=function(e,t){e&&e.constructor===String||(t=e||{},e=Error.name);var n=function r(i){if(!this)return new r(i);i=i instanceof Error?i.message:i||this.message,Error.call(this,i),Error.captureStackTrace(this,n),this.name=e,Object.defineProperty(this,"message",{configurable:!0,enumerable:!1,get:function(){var e=i.split(/\r?\n/g);for(var n in t)if(t.hasOwnProperty(n)){var r=t[n];"message"in r&&(e=r.message(this[n],e)||e,o(e)||(e=[e]))}return e.join("\n")},set:function(e){i=e}});var a=null,s=Object.getOwnPropertyDescriptor(this,"stack"),u=s.get,l=s.value;delete s.value,delete s.writable,s.set=function(e){a=e},s.get=function(){var e=(a||(u?u.call(this):l)).split(/\r?\n+/g);a||(e[0]=this.name+": "+this.message);var n=1;for(var i in t)if(t.hasOwnProperty(i)){var o=t[i];if("line"in o){var r=o.line(this[i]);r&&e.splice(n++,0,"    "+r)}"stack"in o&&o.stack(this[i],e)}return e.join("\n")},Object.defineProperty(this,"stack",s)};return Object.setPrototypeOf?(Object.setPrototypeOf(n.prototype,Error.prototype),Object.setPrototypeOf(n,Error)):i.inherits(n,Error),n};r.append=function(e,t){return{message:function(n,i){return n=n||t,n&&(i[0]+=" "+e.replace("%s",n.toString())),i}}},r.line=function(e,t){return{line:function(n){return n=n||t,n?e.replace("%s",n.toString()):null}}},t.exports=r},{"is-arrayish":10,util:20}],8:[function(e,t,n){"use strict";var i=Object.prototype.hasOwnProperty,o=Object.prototype.toString,r=Object.defineProperty,a=Object.getOwnPropertyDescriptor,s=function(e){return"function"==typeof Array.isArray?Array.isArray(e):"[object Array]"===o.call(e)},u=function(e){if(!e||"[object Object]"!==o.call(e))return!1;var t=i.call(e,"constructor"),n=e.constructor&&e.constructor.prototype&&i.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!t&&!n)return!1;var r;for(r in e);return"undefined"==typeof r||i.call(e,r)},l=function(e,t){r&&"__proto__"===t.name?r(e,t.name,{enumerable:!0,configurable:!0,value:t.newValue,writable:!0}):e[t.name]=t.newValue},c=function(e,t){if("__proto__"===t){if(!i.call(e,t))return;if(a)return a(e,t).value}return e[t]};t.exports=function d(){var e,t,n,i,o,r,a=arguments[0],f=1,p=arguments.length,h=!1;for("boolean"==typeof a&&(h=a,a=arguments[1]||{},f=2),(null==a||"object"!=typeof a&&"function"!=typeof a)&&(a={});f<p;++f)if(e=arguments[f],null!=e)for(t in e)n=c(a,t),i=c(e,t),a!==i&&(h&&i&&(u(i)||(o=s(i)))?(o?(o=!1,r=n&&s(n)?n:[]):r=n&&u(n)?n:{},l(a,{name:t,newValue:d(h,r,i)})):"undefined"!=typeof i&&l(a,{name:t,newValue:i}));return a}},{}],9:[function(e,t,n){var i=[].indexOf;t.exports=function(e,t){if(i)return e.indexOf(t);for(var n=0;n<e.length;++n)if(e[n]===t)return n;return-1}},{}],10:[function(e,t,n){"use strict";t.exports=function(e){return!!e&&(e instanceof Array||Array.isArray(e)||e.length>=0&&e.splice instanceof Function)}},{}],11:[function(e,t,n){"use strict";var i=e("error-ex"),o=e("./vendor/parse"),r=i("JSONError",{fileName:i.append("in %s")});t.exports=function(e,t,n){"string"==typeof t&&(n=t,t=null);try{try{return JSON.parse(e,t)}catch(i){throw o.parse(e,{mode:"json",reviver:t}),i}}catch(i){var a=new r(i);throw n&&(a.fileName=n),a}}},{"./vendor/parse":12,"error-ex":7}],12:[function(e,t,n){function i(e){return e>="0"&&e<="9"||e>="A"&&e<="F"||e>="a"&&e<="f"}function o(e){return e>="0"&&e<="7"}function r(e){return e>="0"&&e<="9"}function a(e,t,n,i,o,r){var a=t+" at "+(i+1)+":"+(o+1),s=n-o-1,l="",c="",d=r?u.isLineTerminator:u.isLineTerminatorJSON;for(s<n-70&&(s=n-70);;){var f=e[++s];if(d(f)||s===e.length){n>=s&&(c+="^");break}if(l+=f,n===s?c+="^":n>s&&(c+="\t"===e[s]?"\t":" "),l.length>78)break}return a+"\n"+l+"\n"+c}function s(e,t){function n(t){var n=S-D;if(!t)if(S<w){var i="'"+JSON.stringify(e[S]).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";t||(t="Unexpected token "+i)}else t||(t="Unexpected end of input");var o=SyntaxError(a(e,t,S,F,n,C));throw o.row=F+1,o.column=n+1,o}function s(t){"\r"===t&&"\n"===e[S]&&S++,D=S,F++}function c(){for(;S<w;){B();var t=e[S++];return'"'===t||"'"===t&&C?_(A(t),"literal"):"{"===t?(_(void 0,"separator"),m()):"["===t?(_(void 0,"separator"),g()):"-"===t||"."===t||r(t)||C&&("+"===t||"I"===t||"N"===t)?_(v(),"literal"):"n"===t?(h("null"),_(null,"literal")):"t"===t?(h("true"),_(!0,"literal")):"f"===t?(h("false"),_(!1,"literal")):(S--,_(void 0))}}function d(){for(var t;S<w;){B();var n=e[S++];if('"'===n||"'"===n&&C)return _(A(n),"key");if("{"===n)return _(void 0,"separator"),m();if("["===n)return _(void 0,"separator"),g();if("."===n||r(n))return _(v(!0),"key");if(C&&u.isIdentifierStart(n)||"\\"===n&&"u"===e[S]){var i=S-1,t=y();return void 0===t?(S=i,_(void 0)):_(t,"key")}return S--,_(void 0)}}function f(){for(B();S<w;){var t=e[S++];if(E(t))S--,_(void 0,"whitespace"),B(),S++,s(t),_(void 0,"newline"),B();else if(b(t));else{if("/"!==t||!C||"/"!==e[S]&&"*"!==e[S]){S--;break}S--,_(void 0,"whitespace"),B(),S++,p("*"===e[S++]),_(void 0,"comment"),B()}}return _(void 0,"whitespace")}function p(t){for(;S<w;){var i=e[S++];if(E(i)){if(!t)return void S--;s(i)}else if("*"===i&&t&&"/"===e[S])return void S++}t&&n("Unclosed multiline comment")}function h(t){for(var i=S,o=t.length,r=1;r<o;r++)(S>=w||t[r]!=e[S])&&(S=i-1,n()),S++}function m(){for(var i=t.null_prototype?Object.create(null):{},o={},r=!1;S<w;){f();var a=d();f(),B();var s=e[S++];if(_(void 0,"separator"),"}"===s&&void 0===a)return!C&&r&&(S--,n("Trailing comma in object")),i;if(":"===s&&void 0!==a){f(),x.push(a);var u=c();x.pop(),void 0===u&&n("No value found for key "+a),"string"!=typeof a&&(C&&"number"==typeof a||n("Wrong key type: "+a)),(a in o||null!=o[a])&&"replace"!==t.reserved_keys?"throw"===t.reserved_keys&&n("Reserved key: "+a):("function"==typeof t.reviver&&(u=t.reviver.call(null,a,u)),void 0!==u&&(r=!0,Object.defineProperty(i,a,{value:u,enumerable:!0,configurable:!0,writable:!0}))),f(),B();var s=e[S++];if(_(void 0,"separator"),","===s)continue;if("}"===s)return i;n()}else S--,n()}n()}function g(){for(var i=[];S<w;){f(),x.push(i.length);var o=c();x.pop(),f(),B();var r=e[S++];if(_(void 0,"separator"),void 0!==o&&("function"==typeof t.reviver&&(o=t.reviver.call(null,String(i.length),o)),void 0===o?(i.length++,o=!0):i.push(o)),","===r)void 0===o&&n("Elisions are not supported");else{if("]"===r)return!C&&void 0===o&&i.length&&(S--,n("Trailing comma in array")),i;S--,n()}}}function v(){S--;var t=S,a=e[S++],s=function(i){var o=e.substr(t,S-t);if(i)var r=parseInt(o.replace(/^0o?/,""),8);else var r=Number(o);if(Number.isNaN(r))S--,n('Bad numeric literal - "'+e.substr(t,S-t+1)+'"');else{if(C||o.match(/^-?(0|[1-9][0-9]*)(\.[0-9]+)?(e[+-]?[0-9]+)?$/i))return r;S--,n('Non-json numeric literal - "'+e.substr(t,S-t+1)+'"')}};if(("-"===a||"+"===a&&C)&&(a=e[S++]),"N"===a&&C)return h("NaN"),NaN;if("I"===a&&C)return h("Infinity"),s();if(a>="1"&&a<="9"){for(;S<w&&r(e[S]);)S++;a=e[S++]}if("0"===a){a=e[S++];var u="o"===a||"O"===a||o(a),l="x"===a||"X"===a;if(C&&(u||l)){for(;S<w&&(l?i:o)(e[S]);)S++;var c=1;return"-"===e[t]?(c=-1,t++):"+"===e[t]&&t++,c*s(u)}}if("."===a){for(;S<w&&r(e[S]);)S++;a=e[S++]}if("e"===a||"E"===a){for(a=e[S++],"-"!==a&&"+"!==a||S++;S<w&&r(e[S]);)S++;a=e[S++]}return S--,s()}function y(){S--;for(var t="";S<w;){var o=e[S++];if("\\"===o&&"u"===e[S]&&i(e[S+1])&&i(e[S+2])&&i(e[S+3])&&i(e[S+4])&&(o=String.fromCharCode(parseInt(e.substr(S+1,4),16)),S+=5),t.length){if(!u.isIdentifierPart(o))return S--,t;t+=o}else{if(!u.isIdentifierStart(o))return;t+=o}}n()}function A(t){for(var r="";S<w;){var a=e[S++];if(a===t)return r;if("\\"===a)if(S>=w&&n(),a=e[S++],l[a]&&(C||"v"!=a&&"'"!=a))r+=l[a];else if(C&&E(a))s(a);else if("u"===a||"x"===a&&C){for(var u="u"===a?4:2,c=0;c<u;c++)S>=w&&n(),i(e[S])||n("Bad escape sequence"),S++;r+=String.fromCharCode(parseInt(e.substr(S-u,u),16))}else if(C&&o(a)){if(a<"4"&&o(e[S])&&o(e[S+1]))var d=3;else if(o(e[S]))var d=2;else var d=1;S+=d-1,r+=String.fromCharCode(parseInt(e.substr(S-d,d),8))}else C?r+=a:(S--,n());else E(a)?n():(!C&&a.charCodeAt(0)<32&&(S--,n("Unexpected control character")),r+=a)}n()}var C=!("json"===t.mode||t.legacy),E=C?u.isLineTerminator:u.isLineTerminatorJSON,b=C?u.isWhiteSpace:u.isWhiteSpaceJSON,w=e.length,F=0,D=0,S=0,x=[],B=function(){},_=function(e){return e};t._tokenize&&!function(){var n=null;B=function(){if(null!==n)throw Error("internal error, token overlap");n=S},_=function(i,o){if(n!=S){var r={raw:e.substr(n,S-n),type:o,stack:x.slice(0)};void 0!==i&&(r.value=i),t._tokenize.call(null,r)}return n=null,i}}(),f();var T=c();if(void 0!==T||S<w){if(f(),S>=w)return"function"==typeof t.reviver&&(T=t.reviver.call(null,"",T)),T;n()}else n(S?"No data, only a whitespace":"No data, empty input")}var u=e("./unicode"),l={"'":"'",'"':'"',"\\":"\\",b:"\b",f:"\f",n:"\n",r:"\r",t:"\t",v:"\x0B","/":"/"};t.exports.parse=function(e,t){if("function"==typeof t&&(t={reviver:t}),void 0!==e){"string"!=typeof e&&(e=String(e)),null==t&&(t={}),null==t.reserved_keys&&(t.reserved_keys="ignore"),"throw"!==t.reserved_keys&&"ignore"!==t.reserved_keys||null==t.null_prototype&&(t.null_prototype=!0);try{return s(e,t)}catch(n){if(n instanceof SyntaxError&&null!=n.row&&null!=n.column){var i=n;n=SyntaxError(i.message),n.column=i.column,n.row=i.row}throw n}}},t.exports.tokenize=function(e,n){null==n&&(n={}),n._tokenize=function(e){n._addstack&&e.stack.unshift.apply(e.stack,n._addstack),i.push(e)};var i=[];return i.data=t.exports.parse(e,n),i}},{"./unicode":13}],13:[function(e,t,n){var i=t.exports;t.exports.isWhiteSpace=function(e){return" "===e||" "===e||"\ufeff"===e||e>="\t"&&e<="\r"||" "===e||"᠎"===e||e>=" "&&e<=" "||"\u2028"===e||"\u2029"===e||" "===e||" "===e||"　"===e},t.exports.isWhiteSpaceJSON=function(e){return" "===e||"\t"===e||"\n"===e||"\r"===e},t.exports.isLineTerminator=function(e){return"\n"===e||"\r"===e||"\u2028"===e||"\u2029"===e},t.exports.isLineTerminatorJSON=function(e){return"\n"===e||"\r"===e},t.exports.isIdentifierStart=function(e){return"$"===e||"_"===e||e>="A"&&e<="Z"||e>="a"&&e<="z"||e>=""&&i.NonAsciiIdentifierStart.test(e)},t.exports.isIdentifierPart=function(e){return"$"===e||"_"===e||e>="A"&&e<="Z"||e>="a"&&e<="z"||e>="0"&&e<="9"||e>=""&&i.NonAsciiIdentifierPart.test(e)},t.exports.NonAsciiIdentifierStart=/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0\u08A2-\u08AC\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097F\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C3D\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F0\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191C\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA697\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790-\uA793\uA7A0-\uA7AA\uA7F8-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA80-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]/,t.exports.NonAsciiIdentifierPart=/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u0527\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u08A0\u08A2-\u08AC\u08E4-\u08FE\u0900-\u0963\u0966-\u096F\u0971-\u0977\u0979-\u097F\u0981-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C01-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58\u0C59\u0C60-\u0C63\u0C66-\u0C6F\u0C82\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D02\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D57\u0D60-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F0\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191C\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19D9\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1CD0-\u1CD2\u1CD4-\u1CF6\u1D00-\u1DE6\u1DFC-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200C\u200D\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u2E2F\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099\u309A\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA697\uA69F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790-\uA793\uA7A0-\uA7AA\uA7F8-\uA827\uA840-\uA873\uA880-\uA8C4\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A\uAA7B\uAA80-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uABC0-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE26\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]/},{}],14:[function(e,t,n){function i(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function r(e){if(d===setTimeout)return setTimeout(e,0);if((d===i||!d)&&setTimeout)return d=setTimeout,setTimeout(e,0);try{return d(e,0)}catch(t){try{return d.call(null,e,0)}catch(t){return d.call(this,e,0)}}}function a(e){if(f===clearTimeout)return clearTimeout(e);if((f===o||!f)&&clearTimeout)return f=clearTimeout,clearTimeout(e);try{return f(e)}catch(t){try{return f.call(null,e)}catch(t){return f.call(this,e)}}}function s(){g&&h&&(g=!1,h.length?m=h.concat(m):v=-1,m.length&&u())}function u(){if(!g){var e=r(s);g=!0;for(var t=m.length;t;){for(h=m,m=[];++v<t;)h&&h[v].run();v=-1,t=m.length}h=null,g=!1,a(e)}}function l(e,t){this.fun=e,this.array=t}function c(){}var d,f,p=t.exports={};!function(){try{d="function"==typeof setTimeout?setTimeout:i}catch(e){d=i}try{f="function"==typeof clearTimeout?clearTimeout:o}catch(e){f=o}}();var h,m=[],g=!1,v=-1;p.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];m.push(new l(e,t)),1!==m.length||g||r(u)},l.prototype.run=function(){this.fun.apply(null,this.array)},p.title="browser",p.browser=!0,p.env={},p.argv=[],p.version="",p.versions={},p.on=c,p.addListener=c,p.once=c,p.off=c,p.removeListener=c,p.removeAllListeners=c,p.emit=c,p.prependListener=c,p.prependOnceListener=c,p.listeners=function(e){return[]},p.binding=function(e){throw new Error("process.binding is not supported")},p.cwd=function(){return"/"},p.chdir=function(e){throw new Error("process.chdir is not supported")},p.umask=function(){return 0}},{}],15:[function(require,module,exports){!function(e,t,n){"undefined"!=typeof module&&module.exports?module.exports=n():"function"==typeof define&&define.amd?define(n):t[e]=n()}("reqwest",this,function(){function succeed(e){var t=protocolRe.exec(e.url);return t=t&&t[1]||context.location.protocol,httpsRe.test(t)?twoHundo.test(e.request.status):!!e.request.response}function handleReadyState(e,t,n){return function(){return e._aborted?n(e.request):e._timedOut?n(e.request,"Request is aborted: timeout"):void(e.request&&4==e.request[readyState]&&(e.request.onreadystatechange=noop,succeed(e)?t(e.request):n(e.request)))}}function setHeaders(e,t){var n,i=t.headers||{};i.Accept=i.Accept||defaultHeaders.accept[t.type]||defaultHeaders.accept["*"];var o="undefined"!=typeof FormData&&t.data instanceof FormData;t.crossOrigin||i[requestedWith]||(i[requestedWith]=defaultHeaders.requestedWith),i[contentType]||o||(i[contentType]=t.contentType||defaultHeaders.contentType);for(n in i)i.hasOwnProperty(n)&&"setRequestHeader"in e&&e.setRequestHeader(n,i[n])}function setCredentials(e,t){"undefined"!=typeof t.withCredentials&&"undefined"!=typeof e.withCredentials&&(e.withCredentials=!!t.withCredentials);
}function generalCallback(e){lastValue=e}function urlappend(e,t){return e+(/\?/.test(e)?"&":"?")+t}function handleJsonp(e,t,n,i){var o=uniqid++,r=e.jsonpCallback||"callback",a=e.jsonpCallbackName||reqwest.getcallbackPrefix(o),s=new RegExp("((^|\\?|&)"+r+")=([^&]+)"),u=i.match(s),l=doc.createElement("script"),c=0,d=navigator.userAgent.indexOf("MSIE 10.0")!==-1;return u?"?"===u[3]?i=i.replace(s,"$1="+a):a=u[3]:i=urlappend(i,r+"="+a),context[a]=generalCallback,l.type="text/javascript",l.src=i,l.async=!0,"undefined"==typeof l.onreadystatechange||d||(l.htmlFor=l.id="_reqwest_"+o),l.onload=l.onreadystatechange=function(){return!(l[readyState]&&"complete"!==l[readyState]&&"loaded"!==l[readyState]||c)&&(l.onload=l.onreadystatechange=null,l.onclick&&l.onclick(),t(lastValue),lastValue=void 0,head.removeChild(l),void(c=1))},head.appendChild(l),{abort:function(){l.onload=l.onreadystatechange=null,n({},"Request is aborted: timeout",{}),lastValue=void 0,head.removeChild(l),c=1}}}function getRequest(e,t){var n,i=this.o,o=(i.method||"GET").toUpperCase(),r="string"==typeof i?i:i.url,a=i.processData!==!1&&i.data&&"string"!=typeof i.data?reqwest.toQueryString(i.data):i.data||null,s=!1;return"jsonp"!=i.type&&"GET"!=o||!a||(r=urlappend(r,a),a=null),"jsonp"==i.type?handleJsonp(i,e,t,r):(n=i.xhr&&i.xhr(i)||xhr(i),n.open(o,r,i.async!==!1),setHeaders(n,i),setCredentials(n,i),context[xDomainRequest]&&n instanceof context[xDomainRequest]?(n.onload=e,n.onerror=t,n.onprogress=function(){},s=!0):n.onreadystatechange=handleReadyState(this,e,t),i.before&&i.before(n),s?setTimeout(function(){n.send(a)},200):n.send(a),n)}function Reqwest(e,t){this.o=e,this.fn=t,init.apply(this,arguments)}function setType(e){if(null!==e)return e.match("json")?"json":e.match("javascript")?"js":e.match("text")?"html":e.match("xml")?"xml":void 0}function init(o,fn){function complete(e){for(o.timeout&&clearTimeout(self.timeout),self.timeout=null;self._completeHandlers.length>0;)self._completeHandlers.shift()(e)}function success(resp){var type=o.type||resp&&setType(resp.getResponseHeader("Content-Type"));resp="jsonp"!==type?self.request:resp;var filteredResponse=globalSetupOptions.dataFilter(resp.responseText,type),r=filteredResponse;try{resp.responseText=r}catch(e){}if(r)switch(type){case"json":try{resp=context.JSON?context.JSON.parse(r):eval("("+r+")")}catch(err){return error(resp,"Could not parse JSON in response",err)}break;case"js":resp=eval(r);break;case"html":resp=r;break;case"xml":resp=resp.responseXML&&resp.responseXML.parseError&&resp.responseXML.parseError.errorCode&&resp.responseXML.parseError.reason?null:resp.responseXML}for(self._responseArgs.resp=resp,self._fulfilled=!0,fn(resp),self._successHandler(resp);self._fulfillmentHandlers.length>0;)resp=self._fulfillmentHandlers.shift()(resp);complete(resp)}function timedOut(){self._timedOut=!0,self.request.abort()}function error(e,t,n){for(e=self.request,self._responseArgs.resp=e,self._responseArgs.msg=t,self._responseArgs.t=n,self._erred=!0;self._errorHandlers.length>0;)self._errorHandlers.shift()(e,t,n);complete(e)}this.url="string"==typeof o?o:o.url,this.timeout=null,this._fulfilled=!1,this._successHandler=function(){},this._fulfillmentHandlers=[],this._errorHandlers=[],this._completeHandlers=[],this._erred=!1,this._responseArgs={};var self=this;fn=fn||function(){},o.timeout&&(this.timeout=setTimeout(function(){timedOut()},o.timeout)),o.success&&(this._successHandler=function(){o.success.apply(o,arguments)}),o.error&&this._errorHandlers.push(function(){o.error.apply(o,arguments)}),o.complete&&this._completeHandlers.push(function(){o.complete.apply(o,arguments)}),this.request=getRequest.call(this,success,error)}function reqwest(e,t){return new Reqwest(e,t)}function normalize(e){return e?e.replace(/\r?\n/g,"\r\n"):""}function serial(e,t){var n,i,o,r,a=e.name,s=e.tagName.toLowerCase(),u=function(e){e&&!e.disabled&&t(a,normalize(e.attributes.value&&e.attributes.value.specified?e.value:e.text))};if(!e.disabled&&a)switch(s){case"input":/reset|button|image|file/i.test(e.type)||(n=/checkbox/i.test(e.type),i=/radio/i.test(e.type),o=e.value,(!(n||i)||e.checked)&&t(a,normalize(n&&""===o?"on":o)));break;case"textarea":t(a,normalize(e.value));break;case"select":if("select-one"===e.type.toLowerCase())u(e.selectedIndex>=0?e.options[e.selectedIndex]:null);else for(r=0;e.length&&r<e.length;r++)e.options[r].selected&&u(e.options[r])}}function eachFormElement(){var e,t,n=this,i=function(e,t){var i,o,r;for(i=0;i<t.length;i++)for(r=e[byTag](t[i]),o=0;o<r.length;o++)serial(r[o],n)};for(t=0;t<arguments.length;t++)e=arguments[t],/input|select|textarea/i.test(e.tagName)&&serial(e,n),i(e,["input","select","textarea"])}function serializeQueryString(){return reqwest.toQueryString(reqwest.serializeArray.apply(null,arguments))}function serializeHash(){var e={};return eachFormElement.apply(function(t,n){t in e?(e[t]&&!isArray(e[t])&&(e[t]=[e[t]]),e[t].push(n)):e[t]=n},arguments),e}function buildParams(e,t,n,i){var o,r,a,s=/\[\]$/;if(isArray(t))for(r=0;t&&r<t.length;r++)a=t[r],n||s.test(e)?i(e,a):buildParams(e+"["+("object"==typeof a?r:"")+"]",a,n,i);else if(t&&"[object Object]"===t.toString())for(o in t)buildParams(e+"["+o+"]",t[o],n,i);else i(e,t)}var context=this;if("window"in context)var doc=document,byTag="getElementsByTagName",head=doc[byTag]("head")[0];else{var XHR2;try{XHR2=require("xhr2")}catch(ex){throw new Error("Peer dependency `xhr2` required! Please npm install xhr2")}}var httpsRe=/^http/,protocolRe=/(^\w+):\/\//,twoHundo=/^(20\d|1223)$/,readyState="readyState",contentType="Content-Type",requestedWith="X-Requested-With",uniqid=0,callbackPrefix="reqwest_"+ +new Date,lastValue,xmlHttpRequest="XMLHttpRequest",xDomainRequest="XDomainRequest",noop=function(){},isArray="function"==typeof Array.isArray?Array.isArray:function(e){return e instanceof Array},defaultHeaders={contentType:"application/x-www-form-urlencoded",requestedWith:xmlHttpRequest,accept:{"*":"text/javascript, text/html, application/xml, text/xml, */*",xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript",js:"application/javascript, text/javascript"}},xhr=function(e){if(e.crossOrigin===!0){var t=context[xmlHttpRequest]?new XMLHttpRequest:null;if(t&&"withCredentials"in t)return t;if(context[xDomainRequest])return new XDomainRequest;throw new Error("Browser does not support cross-origin requests")}return context[xmlHttpRequest]?new XMLHttpRequest:XHR2?new XHR2:new ActiveXObject("Microsoft.XMLHTTP")},globalSetupOptions={dataFilter:function(e){return e}};return Reqwest.prototype={abort:function(){this._aborted=!0,this.request.abort()},retry:function(){init.call(this,this.o,this.fn)},then:function(e,t){return e=e||function(){},t=t||function(){},this._fulfilled?this._responseArgs.resp=e(this._responseArgs.resp):this._erred?t(this._responseArgs.resp,this._responseArgs.msg,this._responseArgs.t):(this._fulfillmentHandlers.push(e),this._errorHandlers.push(t)),this},always:function(e){return this._fulfilled||this._erred?e(this._responseArgs.resp):this._completeHandlers.push(e),this},fail:function(e){return this._erred?e(this._responseArgs.resp,this._responseArgs.msg,this._responseArgs.t):this._errorHandlers.push(e),this},"catch":function(e){return this.fail(e)}},reqwest.serializeArray=function(){var e=[];return eachFormElement.apply(function(t,n){e.push({name:t,value:n})},arguments),e},reqwest.serialize=function(){if(0===arguments.length)return"";var e,t,n=Array.prototype.slice.call(arguments,0);return e=n.pop(),e&&e.nodeType&&n.push(e)&&(e=null),e&&(e=e.type),t="map"==e?serializeHash:"array"==e?reqwest.serializeArray:serializeQueryString,t.apply(null,n)},reqwest.toQueryString=function(e,t){var n,i,o=t||!1,r=[],a=encodeURIComponent,s=function(e,t){t="function"==typeof t?t():null==t?"":t,r[r.length]=a(e)+"="+a(t)};if(isArray(e))for(i=0;e&&i<e.length;i++)s(e[i].name,e[i].value);else for(n in e)e.hasOwnProperty(n)&&buildParams(n,e[n],o,s);return r.join("&").replace(/%20/g,"+")},reqwest.getcallbackPrefix=function(){return callbackPrefix},reqwest.compat=function(e,t){return e&&(e.type&&(e.method=e.type)&&delete e.type,e.dataType&&(e.type=e.dataType),e.jsonpCallback&&(e.jsonpCallbackName=e.jsonpCallback)&&delete e.jsonpCallback,e.jsonp&&(e.jsonpCallback=e.jsonp)),new Reqwest(e,t)},reqwest.ajaxSetup=function(e){e=e||{};for(var t in e)globalSetupOptions[t]=e[t]},reqwest})},{xhr2:3}],16:[function(e,t,n){!function(e,n){"undefined"!=typeof t&&t.exports?t.exports=n():"function"==typeof define&&define.amd?define(n):this[e]=n()}("$script",function(){function e(e,t){for(var n=0,i=e.length;n<i;++n)if(!t(e[n]))return u;return 1}function t(t,n){e(t,function(e){return n(e),1})}function n(r,a,s){function u(e){return e.call?e():f[e]}function c(){if(!--y){f[v]=1,g&&g();for(var n in h)e(n.split("|"),u)&&!t(h[n],u)&&(h[n]=[])}}r=r[l]?r:[r];var d=a&&a.call,g=d?a:s,v=d?r.join(""):a,y=r.length;return setTimeout(function(){t(r,function e(t,n){return null===t?c():(n||/^https?:\/\//.test(t)||!o||(t=t.indexOf(".js")===-1?o+t+".js":o+t),m[t]?(v&&(p[v]=1),2==m[t]?c():setTimeout(function(){e(t,!0)},0)):(m[t]=1,v&&(p[v]=1),void i(t,c)))})},0),n}function i(e,t){var n,i=a.createElement("script");i.onload=i.onerror=i[d]=function(){i[c]&&!/^c|loade/.test(i[c])||n||(i.onload=i[d]=null,n=1,m[e]=2,t())},i.async=1,i.src=r?e+(e.indexOf("?")===-1?"?":"&")+r:e,s.insertBefore(i,s.lastChild)}var o,r,a=document,s=a.getElementsByTagName("head")[0],u=!1,l="push",c="readyState",d="onreadystatechange",f={},p={},h={},m={};return n.get=i,n.order=function(e,t,i){!function o(r){r=e.shift(),e.length?n(r,o):n(r,t,i)}()},n.path=function(e){o=e},n.urlArgs=function(e){r=e},n.ready=function(i,o,r){i=i[l]?i:[i];var a=[];return!t(i,function(e){f[e]||a[l](e)})&&e(i,function(e){return f[e]})?o():!function(e){h[e]=h[e]||[],h[e][l](o),r&&r(a)}(i.join("|")),n},n.done=function(e){n([null],e)},n})},{}],17:[function(e,t,n){function i(e){return e.replace(/^\s*|\s*$/g,"")}n=t.exports=i,n.left=function(e){return e.replace(/^\s*/,"")},n.right=function(e){return e.replace(/\s*$/,"")}},{}],18:[function(e,t,n){"function"==typeof Object.create?t.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},{}],19:[function(e,t,n){t.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},{}],20:[function(e,t,n){(function(t,i){(function(){function o(e,t){var i={seen:[],stylize:a};return arguments.length>=3&&(i.depth=arguments[2]),arguments.length>=4&&(i.colors=arguments[3]),m(t)?i.showHidden=t:t&&n._extend(i,t),E(i.showHidden)&&(i.showHidden=!1),E(i.depth)&&(i.depth=2),E(i.colors)&&(i.colors=!1),E(i.customInspect)&&(i.customInspect=!0),i.colors&&(i.stylize=r),u(i,e,i.depth)}function r(e,t){var n=o.styles[t];return n?"["+o.colors[n][0]+"m"+e+"["+o.colors[n][1]+"m":e}function a(e,t){return e}function s(e){var t={};return e.forEach(function(e,n){t[e]=!0}),t}function u(e,t,i){if(e.customInspect&&t&&S(t.inspect)&&t.inspect!==n.inspect&&(!t.constructor||t.constructor.prototype!==t)){var o=t.inspect(i,e);return A(o)||(o=u(e,o,i)),o}var r=l(e,t);if(r)return r;var a=Object.keys(t),m=s(a);if(e.showHidden&&(a=Object.getOwnPropertyNames(t)),D(t)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return c(t);if(0===a.length){if(S(t)){var g=t.name?": "+t.name:"";return e.stylize("[Function"+g+"]","special")}if(b(t))return e.stylize(RegExp.prototype.toString.call(t),"regexp");if(F(t))return e.stylize(Date.prototype.toString.call(t),"date");if(D(t))return c(t)}var v="",y=!1,C=["{","}"];if(h(t)&&(y=!0,C=["[","]"]),S(t)){var E=t.name?": "+t.name:"";v=" [Function"+E+"]"}if(b(t)&&(v=" "+RegExp.prototype.toString.call(t)),F(t)&&(v=" "+Date.prototype.toUTCString.call(t)),D(t)&&(v=" "+c(t)),0===a.length&&(!y||0==t.length))return C[0]+v+C[1];if(i<0)return b(t)?e.stylize(RegExp.prototype.toString.call(t),"regexp"):e.stylize("[Object]","special");e.seen.push(t);var w;return w=y?d(e,t,i,m,a):a.map(function(n){return f(e,t,i,m,n,y)}),e.seen.pop(),p(w,v,C)}function l(e,t){if(E(t))return e.stylize("undefined","undefined");if(A(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}return y(t)?e.stylize(""+t,"number"):m(t)?e.stylize(""+t,"boolean"):g(t)?e.stylize("null","null"):void 0}function c(e){return"["+Error.prototype.toString.call(e)+"]"}function d(e,t,n,i,o){for(var r=[],a=0,s=t.length;a<s;++a)k(t,String(a))?r.push(f(e,t,n,i,String(a),!0)):r.push("");return o.forEach(function(o){o.match(/^\d+$/)||r.push(f(e,t,n,i,o,!0))}),r}function f(e,t,n,i,o,r){var a,s,l;if(l=Object.getOwnPropertyDescriptor(t,o)||{value:t[o]},l.get?s=l.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):l.set&&(s=e.stylize("[Setter]","special")),k(i,o)||(a="["+o+"]"),s||(e.seen.indexOf(l.value)<0?(s=g(n)?u(e,l.value,null):u(e,l.value,n-1),s.indexOf("\n")>-1&&(s=r?s.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+s.split("\n").map(function(e){return"   "+e}).join("\n"))):s=e.stylize("[Circular]","special")),E(a)){if(r&&o.match(/^\d+$/))return s;a=JSON.stringify(""+o),a.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=e.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=e.stylize(a,"string"))}return a+": "+s}function p(e,t,n){var i=0,o=e.reduce(function(e,t){return i++,t.indexOf("\n")>=0&&i++,e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0);return o>60?n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1]:n[0]+t+" "+e.join(", ")+" "+n[1]}function h(e){return Array.isArray(e)}function m(e){return"boolean"==typeof e}function g(e){return null===e}function v(e){return null==e}function y(e){return"number"==typeof e}function A(e){return"string"==typeof e}function C(e){return"symbol"==typeof e}function E(e){return void 0===e}function b(e){return w(e)&&"[object RegExp]"===B(e)}function w(e){return"object"==typeof e&&null!==e}function F(e){return w(e)&&"[object Date]"===B(e)}function D(e){return w(e)&&("[object Error]"===B(e)||e instanceof Error)}function S(e){return"function"==typeof e}function x(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||"undefined"==typeof e}function B(e){return Object.prototype.toString.call(e)}function _(e){return e<10?"0"+e.toString(10):e.toString(10)}function T(){var e=new Date,t=[_(e.getHours()),_(e.getMinutes()),_(e.getSeconds())].join(":");return[e.getDate(),L[e.getMonth()],t].join(" ")}function k(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var P=/%[sdj%]/g;n.format=function(e){if(!A(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(o(arguments[n]));return t.join(" ")}for(var n=1,i=arguments,r=i.length,a=String(e).replace(P,function(e){if("%%"===e)return"%";if(n>=r)return e;switch(e){case"%s":return String(i[n++]);case"%d":return Number(i[n++]);case"%j":try{return JSON.stringify(i[n++])}catch(t){return"[Circular]"}default:return e}}),s=i[n];n<r;s=i[++n])a+=g(s)||!w(s)?" "+s:" "+o(s);return a},n.deprecate=function(e,o){function r(){if(!a){if(t.throwDeprecation)throw new Error(o);t.traceDeprecation?console.trace(o):console.error(o),a=!0}return e.apply(this,arguments)}if(E(i.process))return function(){return n.deprecate(e,o).apply(this,arguments)};if(t.noDeprecation===!0)return e;var a=!1;return r};var O,I={};n.debuglog=function(e){if(E(O)&&(O=t.env.NODE_DEBUG||""),e=e.toUpperCase(),!I[e])if(new RegExp("\\b"+e+"\\b","i").test(O)){var i=t.pid;I[e]=function(){var t=n.format.apply(n,arguments);console.error("%s %d: %s",e,i,t)}}else I[e]=function(){};return I[e]},n.inspect=o,o.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},o.styles={special:"cyan",number:"yellow","boolean":"yellow",undefined:"grey","null":"bold",string:"green",date:"magenta",regexp:"red"},n.isArray=h,n.isBoolean=m,n.isNull=g,n.isNullOrUndefined=v,n.isNumber=y,n.isString=A,n.isSymbol=C,n.isUndefined=E,n.isRegExp=b,n.isObject=w,n.isDate=F,n.isError=D,n.isFunction=S,n.isPrimitive=x,n.isBuffer=e("./support/isBuffer");var L=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];n.log=function(){console.log("%s - %s",T(),n.format.apply(n,arguments))},n.inherits=e("inherits"),n._extend=function(e,t){if(!t||!w(t))return e;for(var n=Object.keys(t),i=n.length;i--;)e[n[i]]=t[n[i]];return e}}).call(this)}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./support/isBuffer":19,_process:14,inherits:18}],21:[function(e,t,n){(function(t){(function(){var n="undefined"!=typeof window?window.flowplayer:"undefined"!=typeof t?t.flowplayer:null,i=(e("../shared/field59"),e("bean")),o=e("bonzo");n(function(e,t){var r;o(t.querySelectorAll(".fp-ui")).prepend('<button class="fp-playbutton" type="button" title="Play Video"><span class="fp-playbutton-text">Play Video</span></div>'),r=n.common.find(".fp-playbutton",t)[0],i.on(r,"click",function(t){e.toggle()})})}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../shared/field59":35,bean:1,bonzo:2}],22:[function(e,t,n){(function(t){(function(){var n=e("extend"),o=e("../shared/field59"),r="undefined"!=typeof window?window.flowplayer:"undefined"!=typeof t?t.flowplayer:null,a=e("dragdealer").Dragdealer,s=e("bonzo"),u=e("class-list");n(o,{cc:{config:{baseHeight:40,fontSize:100,fontFamily:3,backgroundColor:0,color:7,bgOpacity:2,txtOpacity:1}}}),r(function(e,t){var l,c,d=r.common,f={baseHeight:40,fontSize:100,fontFamily:3,backgroundColor:0,color:7,bgOpacity:2,txtOpacity:1},p=s(t),h=p.attr("id"),m=function(e,t){var n=function(){var e=["blueyellow","blackyellow","whiteblack","blackwhite"],t=["black","blue","green","cyan","red","magenta","yellow","white"],n=d.createElement("fieldset",{"class":"f59-cc-color"});n.appendChild(d.createElement("legend",{},"Color Settings"));for(var i=d.createElement("ul",{"class":"f59-cc-combos"}),o=e.length-1;o>=0;o--)i.appendChild(d.createElement("li",{"class":"f59-cc-"+e[o]},"Aa"));n.appendChild(i);for(var r=d.createElement("ul",{"class":"f59-cc-foreground"}),a=d.createElement("ul",{"class":"f59-cc-background"}),o=0;o<t.length;o++)r.appendChild(d.createElement("li",{"class":t[o],"data-value":o})),a.appendChild(d.createElement("li",{"class":t[o],"data-value":o}));return n.appendChild(d.createElement("h5",{},"Text")),n.appendChild(r),n.appendChild(d.createElement("h5",{},"Background")),n.appendChild(a),n},i=function(){var e=d.createElement("fieldset",{"class":"f59-cc-opacity"});e.appendChild(d.createElement("legend",{},"Opacity Settings")),e.appendChild(d.createElement("h5",{},"Text"));var t=d.createElement("select",{name:"f59-cc-txt-opacity","class":"f59-cc-txt-opacity"});t.appendChild(d.createElement("option",{value:1},"Opaque")),t.appendChild(d.createElement("option",{value:0},"Semi-Transparent")),e.appendChild(t),e.appendChild(d.createElement("h5",{},"Background"));var n=d.createElement("select",{name:"f59-cc-bg-opacity","class":"f59-cc-bg-opacity"});return n.appendChild(d.createElement("option",{value:2},"Semi-Transparent")),n.appendChild(d.createElement("option",{value:1},"Opaque")),n.appendChild(d.createElement("option",{value:0},"Transparent")),e.appendChild(n),e},o=function(e){var t=["Serif Monospace","Serif","Sans Serif Monospace","Sans Serif","Casual","Cursive","SmallCaps"],n=d.createElement("fieldset",{"class":"f59-cc-font"});n.appendChild(d.createElement("legend",{},"Font Settings")),n.appendChild(d.createElement("h5",{},"Size")),n.appendChild(d.createElement("input",{type:"text",name:"f59-cc-font-size-val","class":"f59-cc-font-size-val",disabled:"disabled"}));var i=d.createElement("div",{id:"f59-cc-fontsize-slider-"+e,"class":"dragdealer"});i.appendChild(d.createElement("div",{"class":"handle handlebar"},"||")),n.appendChild(i),n.appendChild(d.createElement("h5",{},"Type"));for(var o=d.createElement("select",{name:"f59-cc-font-type","class":"f59-cc-font-type"}),r=0;r<t.length;r++)o.appendChild(d.createElement("option",{value:String(r)},t[r]));return n.appendChild(o),n};mainConfigPanel=d.createElement("div",{"class":"f59-cc-settings"});var r=d.createElement("form",{"class":"f59-cc-panel"}),a=d.createElement("div",{"class":"f59-cc-contain"}),s=d.createElement("div",{"class":"f59-cc-set1"});s.appendChild(n()),a.appendChild(s);var u=d.createElement("div",{"class":"f59-cc-set2"});u.appendChild(o(e)),a.appendChild(u),r.appendChild(a);var s=d.createElement("div",{"class":"f59-cc-set3"});s.appendChild(i()),a.appendChild(s);var l=d.createElement("div",{"class":"f59-cc-form-controls"});l.appendChild(d.createElement("span",{"class":"f59-cc-reset"},"Reset")),l.appendChild(d.createElement("button",{"class":"f59-cc-save"},"Save Settings")),a.appendChild(l),mainConfigPanel.appendChild(d.createElement("div",{"class":"f59-cc-panel-close"},"X")),mainConfigPanel.appendChild(r);var c=d.createElement("div",{"class":"f59CCPanel"});return c.appendChild(d.createElement("div",{"class":"f59-cc-panel-background"})),c.appendChild(mainConfigPanel),t.parentElement.appendChild(c),c},g=function(e,t){null!==t&&"undefined"!=typeof t&&(o.cc.config.fontSize=t),D("fp-f59-cc-size-"+o.cc.config.fontSize)},v=function(e,t){null!==t&&"undefined"!=typeof t&&(o.cc.config.fontFamily=t),D("fp-f59-cc-font-"+o.cc.config.fontFamily)},y=function(e,t){null!==t&&"undefined"!=typeof t&&(o.cc.config.color=t),fgel=d.find("ul.f59-cc-foreground li",l);for(var n=fgel.length-1;n>=0;n--)u(fgel[n]).remove("selected"),n===o.cc.config.color&&u(fgel[n]).add("selected");D("fp-f59-cc-color-"+o.cc.config.color),b(o.cc.config.backgroundColor,o.cc.config.color)},A=function(e,t){null!==t&&"undefined"!=typeof t&&(o.cc.config.txtOpacity=t),D("fp-f59-cc-opacity-"+o.cc.config.txtOpacity)},C=function(e,t){null!==t&&"undefined"!=typeof t&&(o.cc.config.backgroundColor=t),D("fp-f59-cc-bg-"+o.cc.config.backgroundColor+o.cc.config.bgOpacity),p=d.find("ul.f59-cc-background li",l);for(var n=p.length-1;n>=0;n--)u(p[n]).remove("selected"),n===o.cc.config.backgroundColor&&u(p[n]).add("selected");b(o.cc.config.backgroundColor,o.cc.config.color)},E=function(e,t){null!==t&&"undefined"!=typeof t&&(o.cc.config.bgOpacity=t),D("fp-f59-cc-bg-"+o.cc.config.backgroundColor+o.cc.config.bgOpacity)},b=function(e,t){target="",0===e&&7===t?target="f59-cc-blackwhite":7===e&&0===t?target="f59-cc-whiteblack":0===e&&6===t?target="f59-cc-blackyellow":1===e&&6===t&&(target="f59-cc-blueyellow"),p=d.find("ul.f59-cc-combos li",l);for(var n=p.length-1;n>=0;n--)u(p[n]).remove("selected"),u(p[n]).contains(target)&&u(p[n]).add("selected")},w=function(){try{c.setValue((o.cc.config.fontSize-50)/150);var e=d.find(".f59-cc-font-size-val",l)[0];e.value=o.cc.config.fontSize+"%",d.find(".f59-cc-txt-opacity",l)[0].value=o.cc.config.txtOpacity,d.find(".f59-cc-bg-opacity",l)[0].value=o.cc.config.bgOpacity,d.find(".f59-cc-font-type",l)[0].value=o.cc.config.fontFamily}catch(t){}},F=function(){g(h,null),v(h,null),y(h,null),A(h,null),C(h,null),E(h,null)},D=function(e){var t=d.find(".fp-subtitle",l.parentElement);if(t.length){for(var n=u(t[0]),i=n.length-1;i>=0;i--){var o=e.substr(0,e.lastIndexOf("-"));n[i].includes(o)&&n.remove(n[i])}n.add(e)}},S=function(){var e=parseFloat(d.css(t,"width"));e>700?(u(l).remove("f59-cc-panel-small"),u(l).add("f59-cc-panel-large")):e<550?(u(l).add("f59-cc-panel-small"),u(l).remove("f59-cc-panel-large")):(u(l).remove("f59-cc-panel-small"),u(l).remove("f59-cc-panel-large"))};if(l=m(h,t),c=new a("f59-cc-fontsize-slider-"+h,{steps:7,snap:!0,x:(o.cc.config.fontSize-50)/150,animationCallback:function(e,t){var n=Math.round(150*e)+50;g(h,n);var i=d.find(".f59-cc-font-size-val",l)[0];i.value=n+"%"}}),cookie=o.allCookies.getItem("f59html5"),cookie)for(brokenCookies=cookie.split(","),i=brokenCookies.length-1;i>=0;i--)param=brokenCookies[i].split(":"),o.cc.config[param[0]]=parseFloat(param[1]);w(),F(),r.bean.on(l,"change",".f59-cc-font-type",function(e){v(h,e.target.value)}),r.bean.on(l,"change",".f59-cc-bg-opacity",function(e){E(h,e.target.value)}),r.bean.on(l,"change",".f59-cc-txt-opacity",function(e){A(h,e.target.value)}),r.bean.on(l,"click",".f59-cc-foreground li",function(e){y(h,s(e.target).data("value"))}),r.bean.on(l,"click",".f59-cc-background li",function(e){C(h,s(e.target).data("value"))}),r.bean.on(l,"click",".f59-cc-combos li",function(e){switch(s(e.target).attr("class")){case"f59-cc-blackwhite":C(h,0),y(h,7);break;case"f59-cc-whiteblack":C(h,7),y(h,0);break;case"f59-cc-blackyellow":C(h,0),y(h,6);break;case"f59-cc-blueyellow":C(h,1),y(h,6)}}),r.bean.on(l,"click",".f59-cc-panel-close",function(e){u(l).toggle("f59-cc-panel-open")}),r.bean.on(l,"click",".f59-cc-reset",function(e){n(o.cc.config,f),w(),F()}),r.bean.on(l,"click",".f59-cc-save",function(e){e.preventDefault(),o.allCookies.removeItem("f59html5");var t,n="",i=new Date,r=new Date(new Date(i).setMonth(i.getMonth()+6));for(t in o.cc.config)n+=""===n?"":",",o.cc.config.hasOwnProperty(t)&&(n+=t+":"+o.cc.config[t]);o.allCookies.setItem("f59html5",n,r,"/"),u(l).toggle("f59-cc-panel-open")}),e.on("ready",function(e,n,i){if(!i.usecc){var s=d.find(".fp-menu",t)[0],f=d.find(".fp-dropup",s)[0];if(!f)return;var p=d.createElement("li",{className:"fp-cc-configure"},"Settings");d.prepend(f,p),F(),window.addEventListener("resize",S),r.bean.on(s,"click",".fp-cc-configure",function(e){o.forceExitFullscreen(),S(),u(l).toggle("f59-cc-panel-open"),c=new a("f59-cc-fontsize-slider-"+h,{steps:7,snap:!0,x:(o.cc.config.fontSize-50)/150,animationCallback:function(e,t){var n=Math.round(150*e)+50;g(h,n);var i=d.find(".f59-cc-font-size-val",l)[0];i.value=n+"%"}}),w(),F()})}})})}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../shared/field59":35,bonzo:2,"class-list":5,dragdealer:6,extend:8}],23:[function(e,t,n){(function(t){(function(){var n="undefined"!=typeof window?window.flowplayer:"undefined"!=typeof t?t.flowplayer:null,i=(e("../shared/field59"),e("bean")),o=e("bonzo");n(function(e,t){var n=o(t),r=o(t).data("f59conf");if(e.conf.comscore!==!1){var a,s,u=!1,l=!1;i.on(t,"adStarted",function(e){l?s.playVideoAdvertisement({ns_st_cl:1e3*e.duration},ns_.ReducedRequirementsStreamingAnalytics.AdType.LinearOnDemandPostRoll):s.playVideoAdvertisement({ns_st_cl:1e3*e.duration},ns_.ReducedRequirementsStreamingAnalytics.AdType.LinearOnDemandPreRoll)}),i.on(t,"adCompleted",function(){s.stop()}),e.on("load",function(){var e=n.data("f59conf").clip;a={ns_st_ci:e.dockey,ns_st_cl:1e3*e.duration,ns_st_ddt:"*null",ns_st_tdt:"*null",ns_st_pu:e.owner,ns_st_pr:e.title,ns_st_en:"*null",ns_st_sn:"*null",ns_st_ep:e.title,ns_st_ge:e.categories,ns_st_st:e.owner,c3:e.owner,c4:"*null",c6:"*null"}}).on("play",function(){s||(s=new ns_.ReducedRequirementsStreamingAnalytics({publisherId:r.comscore})),u||(u=!0,r.live?s.playVideoContentPart(a,ns_.ReducedRequirementsStreamingAnalytics.ContentType.Live):s.playVideoContentPart(a,ns_.ReducedRequirementsStreamingAnalytics.ContentType.ShortFormOnDemand))}).on("resume",function(){s||(s=new ns_.ReducedRequirementsStreamingAnalytics({publisherId:r.comscore})),u||(u=!0,r.live?s.playVideoContentPart(a,ns_.ReducedRequirementsStreamingAnalytics.ContentType.Live):s.playVideoContentPart(a,ns_.ReducedRequirementsStreamingAnalytics.ContentType.ShortFormOnDemand))}).on("finish",function(){u&&s.stop(),s=void 0,l=!0,u=!1}).on("unload",function(){u&&s.stop(),s=void 0,u=!1}).on("pause",function(){u&&s.stop(),u=!1})}})}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../shared/field59":35,bean:1,bonzo:2}],24:[function(e,t,n){(function(t){(function(){var n=(e("../shared/field59"),e("bonzo")),i=e("reqwest"),o="undefined"!=typeof window?window.flowplayer:"undefined"!=typeof t?t.flowplayer:null;o(function(e,t){if(window.TNCMS&&TNCMS.User&&TNCMS.User.isLoggedIn()){var r=n(t).data("f59conf");if("video"!==r.pm)return;var a,u=o.common,l=!1,c=document.getElementsByTagName("script"),d=c.length;for(a=0;a<d;a++)c[a].getAttribute("src")&&c[a].getAttribute("src").indexOf(r.clip.dockey)>-1&&(l=n(c[a]).data("uuid"));if(!l)return;i({url:"/tncms/video/get_marker?asset_id="+l,type:"json",method:"get",success:function(e){if(e.success&&(h(),e.seconds)){r.clip.resume=e.seconds;var n=e.seconds/r.clip.duration*100,i=u.createElement("div",{className:"f59-resume"}),o=u.createElement("div",{css:{width:n+"%"},className:"f59-resume-progress"});u.prepend(i,o),u.append(t,i)}}});var f=function(){s=Math.trunc(e.video.time),s<1||s==r.clip.lastStoredMarker||(r.clip.lastStoredMarker=s,i({url:"/tncms/video/set_marker",type:"json",method:"post",data:{asset_id:l,seconds:s}}))},p=function(){i({url:"/tncms/video/clear_marker",type:"json",method:"post",data:{asset_id:l}})},h=function(){e.on("ready",function(e,t,n){t.seek(r.clip.resume)}).on("progress",function(e,t,n){s=Math.trunc(n),s>0&&s%5==0&&f()}).on("pause",f).on("finish",p).on("unload",f),e.bind("shutdown",function(){o.bean.off(window,"unload",f)}),o.bean.on(window,"unload",f)}}})}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../shared/field59":35,bonzo:2,reqwest:15}],25:[function(require,module,exports){(function(global){(function(){var flowplayer="undefined"!=typeof window?window.flowplayer:"undefined"!=typeof global?global.flowplayer:null,f59=require("../shared/field59"),scriptjs=require("scriptjs"),bean=require("bean"),bonzo=require("bonzo");flowplayer(function(api,root){var mainConfig=bonzo(root).data("f59conf");if(mainConfig.dfpConfig!==!1){var common=flowplayer.common,extend=flowplayer.extend,support=flowplayer.support,toggleEndFullScreenListeners=function(e){var t=api.engine,n="webkitendfullscreen";!support.inlineVideo&&t&&t._listeners&&t._listeners[n].forEach(function(t){e?root.addEventListener(n,t,!0):root.removeEventListener(n,t,!0)})},_ima={debug:!1,log:function(e){if(_ima.debug)try{console.log(e)}catch(t){}},text:{stringToBytes:function(e){for(var t,n,i=[],o=0;o<e.length;o+=1){t=e.charCodeAt(o),n=[];do n.push(255&t),t>>=8;while(t);i=i.concat(n.reverse())}return i},zeropad:function(e){return e=parseInt(e,10),e>=10?e:"0"+e},formatTime:function(sec){with(_ima.text){sec=sec||0;var h=Math.floor(sec/3600),min=Math.floor(sec/60);return sec-=60*min,h>=1?(min-=60*h,h+":"+zeropad(min)+":"+zeropad(sec)):zeropad(min)+":"+zeropad(sec)}}}};_ima.hacks={discardEvents:f59.support.IS_ANDROID_CHROME,useLoadedmetadata:f59.support.IS_IPHONE||f59.support.IS_ANDROID,videoForce:f59.support.IS_IOS,disableAdsEarlyPause:f59.support.IS_ANDROID},imaContainer=function(){},imaPlugin=function(){},imaContainer.prototype={playerApi:null,delegate:null,playerElement:null,contentPlayback:null,receivedPlayOnce:!1,receivedFinish:!1,displayingAd:!1,controlbarHeight:0,volumeControl:!0,playerVolume:0,fullscreenEnabled:!1,cancelPlayHandler:!1,hasHandlers:!1,init:function(e,t){if(this.playerElement=e,this.playerApi=t,_ima.log("imaContainer.init"),this.playerApi.on("load",this.onLoad.bind(this)).on("ready",this.onReady.bind(this)).on("resume",this.onResume.bind(this)).on("progress",this.onProgress.bind(this)).on("finish",this.onFinish.bind(this)).on("fullscreen",this.onFullscreen.bind(this,!0)).on("fullscreen-exit",this.onFullscreen.bind(this,!1)).on("unload",this.onUnload.bind(this)),this.contentPlayback={currentTime:null,duration:null},this.playerApi.off("finish.pl"),bean.off(this.playerElement,"click.player"),bean.on(this.playerElement,"click.playerContainer",this.onPlayerClick.bind(this)),support.touch){
bean.off(this.playerElement,"touchmove touchstart touchend");var n=this;n.hasMoved=!1,bean.on(this.playerElement,"touchmove.playerContainer",this.onPlayerTouchMove.bind(this)),bean.on(this.playerElement,"touchend.playerContainer",this.onPlayerTouchEnd.bind(this))}var i=this;common.find(".f59-plitem",this.playerElement.parentNode).forEach(function(e){bean.on(e,"click",i.onPlaylistClick.bind(i))}),common.find(".fp-prev,.fp-next",this.playerElement).forEach(function(e){bean.on(e,"click",function(e){this.displayingAd&&(e.preventDefault(),e.stopPropagation())})});var i="is-mouseover";forceControlbar=!common.hasClass(this.playerElement,i),!common.hasClass(this.playerElement,"fixed-controls")&&forceControlbar&&common.addClass(this.playerElement,i);var o=this.playerElement.querySelector(".fp-ui .fp-controls"),r=Math.max(parseFloat(common.css(o,"bottom")),0);return this.controlbarHeight=parseFloat(common.css(o,"height"))+r,forceControlbar&&common.removeClass(this.playerElement,i),this.volumeControl=!common.hasClass(this.playerElement,"no-volume"),this.createAdPlayElement(),this.hacksContext={},this.hacksContext.discardEvents={},this},adVolume:function(){return _ima.log("imaContainer.adVolume :: "+this.playerApi.muted),this.playerApi.muted?0:1},createAdPlayElement:function(){_ima.log("imaContainer.createAdPlayElement");var e=this.playerElement.querySelector(".fp-ui"),t=common.createElement("div",{css:{position:"absolute"},className:"ad-play-overlay"});common.prepend(e,t);var t=common.createElement("div",{css:{position:"absolute"},className:"ad-play"});common.prepend(e,t);var t=common.createElement("div",{css:{position:"absolute"},className:"ad-time"});common.prepend(e,t);var n=common.createElement("span",{className:"ad-remaining"});common.append(t,n)},getContentPlayback:function(){return _ima.log("imaContainer.getContentPlayback"),this.contentPlayback},getCurrentClipConf:function(){return _ima.log("imaContainer.getCurrentClipConf"),bonzo(this.playerElement).data("f59conf").clip},handlePlayerCommonAction:function(e){_ima.log("imaContainer.handlePlayerCommonAction : "+this.initOnUserClickOnce),this.initOnUserClickOnce||(this.initOnUserClickOnce=!0,this.delegate.initOnUserClick())},hasPlaylist:function(){_ima.log("imaContainer.hasPlaylist");var e=mainConfig.playlist;return!(!e||!e.length)},nextClip:function(){_ima.log("imaContainer.nextClip"),this.delegate.newPlaylistItem(),!this.hasPlaylist()||this.playerApi.conf.advance===!1||this.playerApi.video.is_last&&!this.playerApi.conf.loop||this.playerApi.next()},onPlayerClick:function(e){if(_ima.log("imaContainer.onPlayerClick"),common.hasClass(e.target,"ad-play-overlay"))return void this.delegate.toggleAd();if(this.handlePlayerCommonAction(),this.displayingAd){if(common.hasClass(e.target,"fp-mute"))return void this.delegate.setVolume(this.adVolume())}else(common.hasClass(e.target,"fp-ui")||common.hasClass(e.target,"fp-engine")||e.flash)&&(e.preventDefault&&e.preventDefault(),this.playerApi.toggle())},onPlayerTouchMove:function(e){this.hasMoved=!0},onPlayerTouchEnd:function(e){if(_ima.log("imaContainer.onPlayerTouchEnd"),this.handlePlayerCommonAction(),!this.displayingAd){if(this.hasMoved)return void(this.hasMoved=!1);if(this.playerApi.playing&&!common.hasClass(this.playerElement,"is-mouseover"))return common.addClass(this.playerElement,"is-mouseover"),common.removeClass(this.playerElement,"is-mouseout"),!0;if(this.playerApi.paused&&common.hasClass(this.playerElement,"is-mouseout")&&(this.playerApi.toggle(),_ima.hacks.useLoadedmetadata)){var t=this.playerElement.querySelector("video.fp-engine");t.removeAttribute("autoplay"),bean.off(t,"loadedmetadata.playerContainer"),bean.on(t,"loadedmetadata.playerContainer",this.onLoadedMetadata.bind(this))}if(!flowplayer.support.inlineVideo&&f59.support.inlineVideo){var t=this.playerElement.querySelector("video.fp-engine");t&&(t.setAttribute("playsinline",""),t.setAttribute("webkit-playsinline",""),t.style.position="relative",t.style.top="0px")}}},onPlaylistClick:function(e){_ima.log("imaContainer.onPlaylistClick"),this.displayingAd?(e.preventDefault(),e.stopPropagation()):(this.delegate.newPlaylistItem(),flowplayer.support.touch&&this.onPlayerTouchEnd(e))},onAdLoaded:function(e){_ima.log("imaContainer.onAdLoaded"),this.cancelPlayHandler=!0,common.toggleClass(this.playerElement,"ad-is-skippable",e.skippable),common.removeClass(this.playerElement,"ad-is-pre-skippable"),common.removeClass(this.playerElement,"ad-is-skippable-now")},onAdTime:function(e,t){var n=this.playerElement.querySelector(".ad-time"),i=n.querySelector(".ad-remaining");common.toggleClass(n,"ad-time-undefined",-1==e),common.html(i,-1==e?"":_ima.text.formatTime(Math.round(e)))},onAdSkip:function(e){_ima.log("imaContainer.onAdSkip"),e.preventDefault(),e.stopPropagation(),this.delegate.onAdSkip()},onFinish:function(){_ima.log("imaContainer.onFinish"),this.hasPlaylist()||(this.receivedPlayOnce=!1),this.receivedFinish=!0,this.onVideoEnd()},onFullscreen:function(e){_ima.log("imaContainer.onFullscreen");var t=e?600:700;this.fullscreenEnabled=e,setTimeout(function(){this.resizeAdsElements(),this.delegate.onFullscreen(e)}.bind(this),t)},onLoad:function(){_ima.log("imaContainer.onLoad :: "+this.displayingAd),this.displayingAd&&this.playerApi.one("ready",function(e,t){t.stop()}),this.receivedPlayOnce=!1,this.receivedFinish=!1},onLoadedMetadata:function(){_ima.log("imaContainer.onLoadedMetadata"),this.onReadyCommon(),this.receivedPlayOnce||(this.receivedPlayOnce=!0,this.onVideoStart())},onProgress:function(){_ima.log("imaContainer.onProgress"),this.contentPlayback.currentTime=this.playerApi.video.time,this.onVideoProgress(this.playerApi.video.time)},onReadyCommon:function(){_ima.log("imaContainer.onReadyCommon");var e=this.playerApi,t=this.playerElement.querySelector("video.fp-engine");t&&!this.hasHandlers&&((f59.support.IS_SAFARI||bonzo(this.playerElement).data("f59conf").clip.index>=0||t.src.indexOf(".mp4")>0||bonzo(this.playerElement).data("f59conf").autoplay&&f59.support.autoplayfull)&&(bean.one(t,"pause",function(){this.cancelPlayHandler||t.play()}),t.pause()),bean.on(t,"play",function(){e.disabled&&t.pause()}),this.hasHandlers=!0),this.contentPlayback.currentTime=e.video.time,this.contentPlayback.duration=e.video.duration,e.conf.autoplay&&(this.onPlayerClick({target:this.playerElement}),e.trigger("progress",[e,e.video.time]))},onReady:function(){if(_ima.log("imaContainer.onReady"),_ima.log(_ima.hacks.useLoadedmetadata),_ima.log(_ima.hacks.discardEvents),!_ima.hacks.useLoadedmetadata){if(_ima.hacks.discardEvents){var e=this.playerApi.video;if(this.hacksContext.discardEvents.discard=!(e.videoHeight||e.videoWidth||e.height||e.width),null==this.hacksContext.discardEvents.events&&(this.hacksContext.discardEvents.events={}),this.hacksContext.discardEvents.discard)return void(this.hacksContext.discardEvents.events.onReady=!0);this.hacksContext.discardEvents.events.onResume&&!this.receivedPlayOnce&&(this.receivedPlayOnce=!0,this.onVideoStart()),this.hacksContext.discardEvents.events={}}this.onReadyCommon()}},onResume:function(){return _ima.log("imaContainer.onResume"),_ima.hacks.discardEvents&&this.hacksContext.discardEvents.discard?void(this.hacksContext.discardEvents.events.onResume=!0):this.receivedPlayOnce?void(this.receivedFinish&&(this.receivedFinish=!1,this.hasPlaylist()?this.playerApi.next():this.playerApi.seek(0,function(e,t){t.resume()}))):(this.receivedPlayOnce=!0,void this.onVideoStart())},onUnload:function(){_ima.log("imaContainer.onUnload"),this.delegate.onUnload()},onVideoStart:function(){_ima.log("imaContainer.onVideoStart"),this.delegate.onVideoStart()},onVideoProgress:function(e){_ima.log("imaContainer.onVideoProgress"),this.delegate.onVideoProgress(e)},onVideoEnd:function(){_ima.log("imaContainer.onVideoEnd"),this.delegate.onVideoEnd()},pause:function(){_ima.log("imaContainer.pause");var e=this.playerElement.querySelector("video.fp-engine")||this.playerApi;e.pause()},play:function(){_ima.log("imaContainer.play"),"flash"!=this.playerApi.engine.engineName?(this.playerElement.querySelector("video.fp-engine").play(),common.removeClass(this.playerElement,"is-paused")):this.playerApi.resume()},resizeAdsElements:function(){_ima.log("imaContainer.resizeAdsElements");var e=this.playerElement.querySelector(".fp-ui"),t=parseFloat(common.css(e,"width")),n=parseFloat(common.css(e,"height")),i=.11*t;common.css(this.playerElement.querySelector(".ad-play"),{left:(t-i)/2+"px",top:(n-i)/2+"px",width:i+"px",height:i+"px"})},setupUIForAds:function(e){var t=this.playerElement.querySelector("video.fp-engine");e&&(document.fullscreenElement&&document.exitFullscreen?document.exitFullscreen():document.fullscreenElement&&document.webkitExitFullscreen?document.webkitExitFullscreen():document.mozFullScreenElement&&document.mozCancelFullScreen?document.mozCancelFullScreen():document.msFullscreenElement&&document.msExitFullscreen?document.msExitFullscreen():t.webkitFullscreenElement&&t.webkitExitFullscreen&&t.webkitExitFullscreen()),toggleEndFullScreenListeners(!e),this.displayingAd=e,common.toggleClass(this.playerElement,"ad-is-visible",e),common.removeClass(this.playerElement,"ad-is-paused"),common.removeClass(this.playerElement,"ad-is-playing"),common.toggleClass(this.playerElement,"no-volume",e||!this.volumeControl),this.playerApi.disable(e),this.showUIPlaying(!e),e?(this.delegate.setVolume(this.adVolume()),setTimeout(this.showUIPlaying.bind(this,!e),1e3),this.onAdTime(-1,-1)):(this.playerVolume=0,t&&!flowplayer.support.inlineVideo&&f59.support.inlineVideo&&(t.setAttribute("playsinline",""),t.setAttribute("webkit-playsinline",""),t.style.position="relative",t.style.top="0px"))},showUIPlaying:function(e){_ima.log("imaContainer.showUIPlaying"),common.toggleClass(this.playerElement,"is-paused",e),common.toggleClass(this.playerElement,"is-playing",!e)},showUIAdsPlaying:function(e){_ima.log("imaContainer.showUIAdsPlaying"),common.toggleClass(this.playerElement,"ad-is-paused",e),common.toggleClass(this.playerElement,"ad-is-playing",!e),this.showUIPlaying(e),e?this.resizeAdsElements():(this.playerApi.conf.autoplay||this.playerApi.video.time)&&this.playerApi.trigger("progress",[this.playerApi,this.playerApi.video.time]);var t=this.playerElement.querySelector(".ad-play"),n="backgroundImage";e&&"none"==common.css(t,n)&&common.css(this.playerElement.querySelector(".fp-ui"),{backgroundImage:common.css(elem,n)})}},imaPlugin.prototype={ADS_STATE:{REQUESTING:1,LOADED:2,PLAYING:3,SHOWING_NON_LINEAR:4},ADS_SKIP_OFFSET:5,playerContainer:null,adContainerElement:null,userAdEventElement:null,adContainerInitalized:!1,adDisplayContainer:null,adsLoader:null,adsManager:null,adIntervalTimer:null,containerSize:null,dfpConf:null,currentClipConf:null,currentAd:null,adsState:null,adsPlaylistCompleted:!1,usingAdRules:!1,adsEarlyPause:!1,videoEnded:!1,adPaused:!1,canLoadCompanion:!0,init:function(e,t,n,i){return _ima.log("imaPlugin.init"),this.playerContainer=e,this.playerContainer.delegate=this,this.containerSize={width:parseFloat(common.css(n,"width")),height:parseFloat(common.css(n,"height"))},this.userAdEventElement=t,this.adContainerElement=this.createAdContainerElement(n),this.setupUIForAds(!1),this.adDisplayContainer=new google.ima.AdDisplayContainer(this.adContainerElement),this.adsLoader=new google.ima.AdsLoader(this.adDisplayContainer),this.adsLoader.addEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,this.onAdsManagerLoaded.bind(this),!1),this.adsLoader.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,this.onAdError.bind(this),!1),this.dfpConf=i,this.hacksContext={},this.hacksContext.videoForce={},this.setCompanionLocation(),this},initOnUserClick:function(){_ima.log("imaPlugin.initOnUserClick"),this.adContainerInitalized||(this.adDisplayContainer.initialize(),this.adContainerInitalized=!0)},buildCurrentClipConf:function(){_ima.log("imaPlugin.buildCurrentClipConf"),this.currentClipConf=extend({},this.playerContainer.getCurrentClipConf());var e=extend(this.dfpConf,this.currentClipConf.dfp);if("string"==typeof e.companions){var t=e.companions;e.companions=[{id:t,width:300,height:250}]}this.currentClipConf.dfp=e},checkForAds:function(e){if(_ima.log("imaPlugin.checkForAds : "+e),null!=this.adsState&&this.adsState!=this.ADS_STATE.SHOWING_NON_LINEAR)return!0;if(null==this.currentClipConf)return!1;var t,n=null,i=null,o=this.currentClipConf.dfp;return null!=o&&0!=o.length&&(0==e?(t="preroll",n=this.getAdTagFromTemplate(o[t+"Template"],this.currentClipConf),n===!1&&(n=null)):-1==e&&(t="postroll",n=this.getAdTagFromTemplate(o[t+"Template"],this.currentClipConf),n===!1&&(n=null)),null!=n&&(i=this.getAdTagFromTemplate(o[t+"CompanionTemplate"],this.currentClipConf),i!==!1&&this.setupCompanion(i,o),this.adsEarlyPause=0===e||-1===e,_ima.hacks.disableAdsEarlyPause&&!_ima.hacks.useLoadedmetadata&&(this.adsEarlyPause=!1),this.adsEarlyPauseTimeout&&(clearTimeout(this.adsEarlyPauseTimeout),this.adsEarlyPauseTimeout=null),this.adsEarlyPause&&(_ima.hacks.useLoadedmetadata||(this.doContentPause(),this.adsEarlyPauseTimeout=setTimeout(function(){_ima.log("imaPlugin.adsEarlyPauseTimeout Fired"),this.adsEarlyPauseTimeout=null,this.adsState==this.ADS_STATE.REQUESTING&&this.doContentResume()}.bind(this),8e3))),this.adsPlaylistCompleted=!1,this.requestAds(n),!0))},createAdContainerElement:function(e){_ima.log("imaPlugin.createAdContainerElement");var t=common.createElement("div",{css:{position:"absolute",top:0,left:0,width:"100%",height:"100%"},className:"adContainer"});return common.prepend(e,t),bean.on(t,"mouseleave",function(e){e.stopPropagation()}),t},fireUserAdEvent:function(e,t){_ima.log("imaPlugin.fireUserAdEvent");var n,i=e.charAt(0).toUpperCase()+e.slice(1),o="ad"+i,r=document,a=r.documentElement||{},s=a.addEventListener;s?(n=r.createEvent("UIEvents"),n.initUIEvent(o,!0,!0,window,1)):(n=r.createEventObject(),n.eventType=o);var u=t.getAd?t.getAd():null;if(u&&(n.linear=u.isLinear(),n.duration=u.getDuration(),this.currentAd&&null!=this.currentAd.duration&&(n.duration=this.currentAd.duration),n.remainingTime=this.adsManager.getRemainingTime(),n.time=-1,-1!=n.duration&&-1!=n.remainingTime&&(n.time=n.duration-n.remainingTime)),this.dfpConf.events){var l="onAd"+i,c=this.dfpConf.events[l];c&&c(n)}bean.fire(this.userAdEventElement,o,[n])},getAdContainerCurrentSize:function(){var e=this.adContainerElement.parentNode,t={width:parseFloat(common.css(e,"width")),height:parseFloat(common.css(e,"height")),viewMode:this.playerContainer.fullscreenEnabled?google.ima.ViewMode.FULLSCREEN:google.ima.ViewMode.NORMAL};return t},getAdTagFromTemplate:function(e,t){if(_ima.log("imaPlugin.getAdTagFromTemplate : template requested= "+e),!e||""===e||"undefined"===e)return _ima.log("imaPlugin.getAdTagFromTemplate : invalid template"),!1;var n,i,o,r=e,a=/\{[A-Za-z0-9|(),\/-:]*\}/g,s=e.match(a);if(!s)return _ima.log("imaPlugin.getAdTagFromTemplate : returning original template"),e;for(var u=0;u<s.length;u++)n=!1,o=s[u].substring(1,s[u].length-1),o.match(/\|/)&&(n=o.substr(o.indexOf("|")+1),n.match(/\(/)&&(i=n.substring(n.indexOf("(")+1,n.indexOf(")")),n=n.substring(0,n.indexOf("("))),o=o.substring(0,o.indexOf("|"))),void 0===t[o]?r=r.replace(s[u],""):"upper"===n?r=r.replace(s[u],encodeURIComponent(t[o].toUpperCase())):"lower"===n?r=r.replace(s[u],encodeURIComponent(t[o].toLowerCase())):"replace"===n&&i?(arr=i.split(","),r=r.replace(s[u],encodeURIComponent(t[o].replace(arr[0],arr[1])))):r=r.replace(s[u],encodeURIComponent(t[o]));return _ima.log("imaPlugin.fireUserAdEvent : adtag = "+r),r},newPlaylistItem:function(){_ima.log("imaPlugin.newPlaylistItem"),this.adsPlaylistCompleted=!0,this.videoEnded=!0,this.hacksContext.videoForce={},this.adsLoader.contentComplete()},onAdEvent:function(e){_ima.log("imaPlugin.onAdEvent :: "+e.type);var t=e.getAd();switch(e.type){case google.ima.AdEvent.Type.LOADED:if(this.adsState=this.ADS_STATE.LOADED,this.currentAd={linear:t.isLinear(),skippable:t.isSkippable()},this.playerContainer.onAdLoaded(this.currentAd),this.adIntervalTimer=null,!t.isLinear()){this.adsEarlyPause&&this.doContentResume(),this.adsState=this.ADS_STATE.SHOWING_NON_LINEAR,this.setupUIForAds(!0);var n=this.getAdContainerCurrentSize();this.adsManager.resize(n.width,n.height-this.playerContainer.controlbarHeight,n.viewMode)}break;case google.ima.AdEvent.Type.STARTED:t.isLinear()&&(this.setVolume(this.playerContainer.adVolume()),this.adPaused=!1,this.playerContainer.showUIAdsPlaying(this.adPaused),this.adIntervalTimer=setInterval(this.onAdIntervalTimer.bind(this),300)),this.fireUserAdEvent("started",e);break;case google.ima.AdEvent.Type.PAUSED:this.adPaused=!0,this.playerContainer.showUIAdsPlaying(this.adPaused),this.fireUserAdEvent("paused",e);break;case google.ima.AdEvent.Type.RESUMED:this.adPaused=!1,this.playerContainer.showUIAdsPlaying(this.adPaused),this.fireUserAdEvent("resumed",e);break;case google.ima.AdEvent.Type.COMPLETE:this.removeCompanion(),t.isLinear()&&(clearInterval(this.adIntervalTimer),this.adIntervalTimer=null,this.hacksContext.videoForce.defined&&this.hacksContext.videoForce.stop()),this.fireUserAdEvent("completed",e);break;case google.ima.AdEvent.Type.ALL_ADS_COMPLETED:this.adsPlaylistCompleted=!0,this.fireUserAdEvent("allCompleted",e);break;case google.ima.AdEvent.Type.CLICK:this.fireUserAdEvent("clicked",e);break;case google.ima.AdEvent.Type.USER_CLOSE:this.fireUserAdEvent("closed",e);break;case google.ima.AdEvent.Type.SKIPPED:this.removeCompanion(),this.fireUserAdEvent("skipped",e)}},onAdError:function(e){_ima.log("imaPlugin.onAdError"),_ima.log(e),this.adsEarlyPause&&this.doContentResume(),this.adsState=null,this.currentAd=null,this.fireUserAdEvent("error",e)},onAdIntervalTimer:function(){var e=this.adsManager.getRemainingTime();if(-1!=e&&1!=e){null==this.currentAd.duration&&(this.currentAd.duration=e);var t=this.currentAd.duration,n=t-e,i=-1;this.currentAd.skippable&&(i=this.ADS_SKIP_OFFSET-n,0>i&&(i=0)),e=Math.round(e),i=Math.round(i),this.playerContainer.onAdTime(e,i)}},onAdsManagerLoaded:function(e){_ima.log("imaPlugin.onAdsManagerLoaded"),_ima.log(null!=this.adsManager),null!=this.adsManager&&(this.adsManager.removeEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,this.onAdErrorLr),this.adsManager.removeEventListener(google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED,this.onContentPauseRequestedLr),this.adsManager.removeEventListener(google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED,this.onContentResumeRequestedLr),this.adsManager.removeEventListener(google.ima.AdEvent.Type.ALL_ADS_COMPLETED,this.onAdEventLr),this.adsManager.removeEventListener(google.ima.AdEvent.Type.LOADED,this.onAdEventLr),this.adsManager.removeEventListener(google.ima.AdEvent.Type.STARTED,this.onAdEventLr),this.adsManager.removeEventListener(google.ima.AdEvent.Type.COMPLETE,this.onAdEventLr),this.adsManager.removeEventListener(google.ima.AdEvent.Type.CLICK,this.onAdEventLr),this.adsManager.removeEventListener(google.ima.AdEvent.Type.USER_CLOSE,this.onAdEventLr),this.adsManager.removeEventListener(google.ima.AdEvent.Type.SKIPPED,this.onAdEventLr),bean.off(window,"resize.lr",this.onWindowResizeLr),this.adsManager.destroy(),this.adsManager=null),adsRenderingSettings=null,this.adsManager=e.getAdsManager(this.playerContainer.getContentPlayback(),adsRenderingSettings),this.onAdErrorLr=this.onAdError.bind(this),this.adsManager.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,this.onAdErrorLr),this.onContentPauseRequestedLr=this.onContentPauseRequested.bind(this),this.adsManager.addEventListener(google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED,this.onContentPauseRequestedLr),this.onContentResumeRequestedLr=this.onContentResumeRequested.bind(this),this.adsManager.addEventListener(google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED,this.onContentResumeRequestedLr),this.onAdEventLr=this.onAdEvent.bind(this),this.adsManager.addEventListener(google.ima.AdEvent.Type.ALL_ADS_COMPLETED,this.onAdEventLr),this.adsManager.addEventListener(google.ima.AdEvent.Type.LOADED,this.onAdEventLr),this.adsManager.addEventListener(google.ima.AdEvent.Type.STARTED,this.onAdEventLr),this.adsManager.addEventListener(google.ima.AdEvent.Type.PAUSED,this.onAdEventLr),this.adsManager.addEventListener(google.ima.AdEvent.Type.RESUMED,this.onAdEventLr),this.adsManager.addEventListener(google.ima.AdEvent.Type.COMPLETE,this.onAdEventLr),this.adsManager.addEventListener(google.ima.AdEvent.Type.CLICK,this.onAdEventLr),this.adsManager.addEventListener(google.ima.AdEvent.Type.USER_CLOSE,this.onAdEventLr),this.adsManager.addEventListener(google.ima.AdEvent.Type.SKIPPED,this.onAdEventLr);try{this.setupUIForAds(!0),this.adContainerInitalized||this.initOnUserClick();var t=this.getAdContainerCurrentSize();this.adsManager.init(t.width,t.height,t.viewMode),this.adsManager.start()}catch(n){_ima.log("caught a problem"),_ima.log(n)}this.onWindowResizeLr=this.onWindowResize.bind(this),bean.on(window,"resize.lr",this.onWindowResizeLr)},onFullscreen:function(e){if(null!=this.adsManager){var t=this.getAdContainerCurrentSize();this.adsManager.resize(t.width,t.height-this.playerContainer.controlbarHeight,t.viewMode)}},onVideoStart:function(){_ima.log("imaPlugin.onVideoStart"),this.videoEnded=!1,this.setCompanionLocation(),this.buildCurrentClipConf();var e=this.checkForAds(0);_ima.hacks.useLoadedmetadata&&!e&&this.doContentResume()},onVideoProgress:function(e){_ima.log("imaPlugin.onVideoProgress"),this.checkForAds(e)},onVideoEnd:function(){_ima.log("imaPlugin.onVideoEnd"),this.videoEnded=!0,this.adsLoader.contentComplete();var e=this.checkForAds(-1);(!e||this.usingAdRules&&!this.adsPlaylistCompleted)&&this.playerContainer.nextClip()},onUnload:function(){_ima.log("imaPlugin.onUnload"),this.setupUIForAds(!1),this.playerContainer.setupUIForAds(!1),null!==this.adsManager&&this.adsManager.destroy()},onContentPauseRequested:function(){_ima.log("imaPlugin.contentPauseRequested"),this.doContentPause(),this.adsState=this.ADS_STATE.PLAYING},doContentPause:function(){_ima.log("imaPlugin.doContentPause"),this.playerContainer.pause(),this.setupUIForAds(!0),this.playerContainer.setupUIForAds(!0)},onContentResumeRequested:function(){_ima.log("imaPlugin.onContentResumeRequested"),this.doContentResume(),this.adsState=null,this.currentAd=null,this.adIntervalTimer&&(clearInterval(this.adIntervalTimer),this.adIntervalTimer=null)},doContentResume:function(){_ima.log("imaPlugin.doContentResume"),this.playerContainer.setupUIForAds(!1),this.setupUIForAds(!1),this.videoEnded?this.playerContainer.nextClip():this.playerContainer.play()},onWindowResize:function(){_ima.log("imaPlugin.onWindowResize");var e=this.getAdContainerCurrentSize(),t=this.adsState==this.ADS_STATE.SHOWING_NON_LINEAR?e.height-this.playerContainer.controlbarHeight:e.height;this.adsManager.resize(e.width,t,e.viewMode),this.playerContainer.resizeAdsElements(),this.setCompanionLocation()},removeCompanion:function(){if(!this.dfpConf.leaveCompanion){_ima.log("ima.removingCompanions");var e=bonzo(document.querySelectorAll(".f59-companion-slotted"));e.hide(),field59.players.length>1&&e.remove()}},requestAds:function(e){_ima.log("imaPlugin.requestingAds"),_ima.log(e),this.adsState==this.ADS_STATE.SHOWING_NON_LINEAR&&(this.adsManager.stop(),this.adsState=null),this.adsState=this.ADS_STATE.REQUESTING;var t=new google.ima.AdsRequest;t.adTagUrl=e,t.setAdWillAutoPlay(f59.support.autoplayfull),t.setAdWillPlayMuted(mainConfig.polite),t.linearAdSlotWidth=this.containerSize.width,t.linearAdSlotHeight=this.containerSize.height,t.nonLinearAdSlotWidth=this.containerSize.width,t.nonLinearAdSlotHeight=this.containerSize.height-this.playerContainer.controlbarHeight,this.adsLoader.requestAds(t)},setCompanionLocation:function(){_ima.log("ima.setCompanionLocation");var e,t,n,i;this.dfpConf.companionLocation&&(e=Math.max(document.documentElement.clientWidth,window.innerWidth||0),i=Array.isArray(this.dfpConf.companions)?this.dfpConf.companions[0].id:this.dfpConf.companions,t=bonzo(document.querySelectorAll("#"+i)),e<992?(this.canLoadCompanion=!this.dfpConf.preventDefaultCompanion,n=bonzo(this.playerContainer.playerElement.parentNode)):(this.canLoadCompanion=!0,n=bonzo(document.querySelectorAll(this.dfpConf.companionLocation))),t.parent()[0]!=n[0]&&(t.remove(),n.append(t)))},setupCompanion:function(e,t){if(_ima.log("ima.setUpCompanion"),t.companions&&e&&this.canLoadCompanion){var n=document.querySelectorAll(".f59-companion-slotted");if(n.length>0)return void n.forEach(function(e){t.companions.forEach(function(t){_ima.log("ima.setUpCompanion : existing div match? "+e.id+" = "+t.id),e.id===t.id&&bonzo(e).show()})});if(t.companions.forEach(function(t){_ima.log("ima.setUpCompanion : "+t.id);var n=bonzo(document.querySelectorAll("#"+t.id));n&&(n.show(),window.googletag.cmd.push(function(){window.googletag.defineSlot(e,[t.width,t.height],t.id).addService(window.googletag.companionAds()).addService(window.googletag.pubads()),window.googletag.companionAds().setRefreshUnfilledSlots(!0),window.googletag.pubads().enableVideoAds(),window.googletag.enableServices(),window.googletag.display(t.id)}),n.addClass("f59-companion-slotted"))}),!this.dfpConf.leaveCompanion){var n=document.querySelectorAll(".f59-companion-slotted");n.length>0&&n.forEach(function(e){bonzo(e).addClass("f59-companion-remove")})}}},setupUIForAds:function(e){_ima.log("imaPlugin.setupUiForAds :"+e),this.adContainerElement.style.display=e?"block":"none"},setVolume:function(e){_ima.log("imaPlugin.setVolume"),null!==this.adsManager&&this.adsManager.setVolume(e)},toggleAd:function(){_ima.log("imaPlugin.toggleAd"),this.adsState!==this.ADS_STATE.SHOWING_NON_LINEAR&&(this.adPaused?this.adsManager.resume():this.adsManager.pause(),this.adPaused=!this.adPaused,this.playerContainer.showUIAdsPlaying(this.adPaused))}},doit=function(){_ima.log("doing it"),google.ima;var e,t,n=google.ima.settings,i=extend({},flowplayer.conf.ima);n.setPlayerType("Flowplayer"),n.setPlayerVersion(flowplayer.version),n.setDisableCustomPlaybackForIOS10Plus(!0),i.Locale&&(n.setLocale(i.Locale),delete i.Locale),e=(new imaContainer).init(root,api),t=root.querySelector(".fp-ui"),(new imaPlugin).init(e,root,t,mainConfig.dfpConfig)};try{if(f59.support.ADS_UNSUPPORTED)return;void 0===window.GPT_jstiming&&scriptjs("//www.googletagservices.com/tag/js/gpt.js"),void 0===window.ima?scriptjs("//s0.2mdn.net/instream/html5/ima3.js",doit):doit()}catch(r){}}})}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../shared/field59":35,bean:1,bonzo:2,scriptjs:16}],26:[function(e,t,n){(function(t){(function(){var n=e("../shared/field59"),i=e("bonzo"),o="undefined"!=typeof window?window.flowplayer:"undefined"!=typeof t?t.flowplayer:null;o(function(e,t){function r(){if(void 0!==c.data("f59conf")){f();var t=arguments,n=c.data("f59conf").clip,i=c.data("f59conf").clip.title,o="string"==typeof t[0]?t[0]:"avgviewed",r=("live"==e.conf.pm?"livestream":"playlist"==e.conf.pm?"video":e.conf.pm)+"_"+o,s="string"==typeof t[1]?t[1]:i;if("avgviewed"!=o)for(var u=e.conf.ga.length-1;u>=0;u--)ga("f59"+u+".send","event",n.owner.toUpperCase(),r,s,Math.round(a/1e3));else if(a){n=c.data("f59conf").previousClip?c.data("f59conf").previousClip:n;for(var u=e.conf.ga.length-1;u>=0;u--)s=n.title+"_"+n.dockey.substring(0,5),ga("f59"+u+".send","event",n.owner.toUpperCase(),r,s,Math.round(a/1e3));a=0}}}var a=0,s=0,u=0,l=!1,c=i(t);if(e.conf.ga.length>0){n.trackit=function(t,n,i,o){var r;if("undefined"!=typeof ga)if("undefined"==typeof t)for(var s=e.conf.ga.length-1;s>=0;s--)ga("f59"+s+".send","event",n,i,o,Math.round(a/1e3));else r=d(t),ga(r+".send","event",n,i,o,Math.round(a/1e3))};var d=function(e){if("undefined"!=typeof ga){for(var t=ga.getAll(),n=t.length-1;n>=0;n--)if(t[n].get("trackingId")==e)return t[n].get("name");return ga("create",String(e),"auto",{name:String("f59"+String(t.length+1)),allowLinker:!0}),String("f59"+String(t.length+1))}},f=function(){if(!l&&"undefined"!=typeof ga){for(var t=e.conf.ga.length-1;t>=0;t--)ga("create",String(e.conf.ga[t]),"auto",{name:String("f59"+t),allowLinker:!0});l=!0}};e.on("load",r).on("ready",function(){window.ga("set","anonymizeIp",!0),r("title"),r("category",c.data("f59conf").clip.categories);var e,t=c.data("f59conf").clip.keywords.split(",");if(t.length>1||1===t.length&&""!==t[0]&&void 0!==t[0])for(e=0;e<t.length;e++)"videoelephant"===t[e]&&r("videoelephant"),r("keyword",t[e]);r("start",c.data("f59conf").clip.dockey)}).on("progress",function(){if(c.data("f59conf").clip){e.seeking||(a+=s?+new Date-s:0,s=+new Date);var t=1e3*c.data("f59conf").clip.duration;switch(u){case 0:a>.25*t&&(r("progress_25"),u=25);break;case 25:a>.5*t&&(r("progress_50"),u=50);break;case 50:a>.75*t&&(r("progress_75"),u=75);break;default:return}}}).on("pause",function(){s=0}).on("finish",function(){r("complete")}).on("unload",r),e.bind("shutdown",function(){o.bean.off(window,"unload",r)}),o.bean.on(window,"unload",r)}})}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../shared/field59":35,bonzo:2}],27:[function(e,t,n){(function(t){(function(){var n=e("bonzo"),i="undefined"!=typeof window?window.flowplayer:"undefined"!=typeof t?t.flowplayer:null;i(function(e,t){var i,o=n(t);e.conf.thumb?i=e.conf.thumb:o.data("f59conf").thumb&&(i=o.data("f59conf").thumb),o.attr("style","background-image: url("+i+");"),e.on("load",function(){o.css("background-image")&&(bgcss=o.css("background-image")),o.attr("style","background-image: none;")}).on("finish",function(){o.css("background-image",bgcss)})})}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{bonzo:2}],28:[function(e,t,n){(function(t){(function(){var n=e("extend"),i=e("../shared/field59"),o=e("bonzo"),r=e("trim"),a=e("reqwest"),s=e("parse-json"),u="undefined"!=typeof window?window.flowplayer:"undefined"!=typeof t?t.flowplayer:null;n(i,{initPlaylist:function(e){function t(e,t){var n=document.createElement("span"),i=g.replace("${index}",t).replace("$%7Bindex%7D",t);i=t<6?g.replace("${lazy}","").replace("$%7Blazy%7D",""):g.replace("${lazy}",'loading="lazy"').replace("$%7Blazy%7D",'loading="lazy"');for(var o in e){var r=e[o];"title"==o&&(r=r.replace(/&#37;26/g,"&amp;")),i=i.replace("${"+o+"}",r).replace("$%7B"+o+"%7D",r)}return n.innerHTML=i,n.firstChild}function r(e,t){var i;if(!u.support.inlineVideo)try{var o=c.querySelectorAll(".fp-engine")[0];o.webkitExitFullScreen()}catch(r){}var a=m[e];d.data("f59conf").previousClip=[],n(d.data("f59conf").previousClip,d.data("f59conf").clip),n(d.data("f59conf").clip,a),d.data("f59conf").clip.index=e,i={sources:[{type:"video/mp4",src:a.url}]},void 0!==a.ccsidecar&&(i.captions=[{kind:"subtitles",srclang:"en",label:"English",src:a.ccsidecar}]),f.load(i),t&&f.play(0)}function a(e){h.childNodes.length&&o(h).empty();var n=o(c.parentNode.querySelectorAll(".f59-plcontainer"));o(e).each(function(e,i,o){var r=t(this,i);r.setAttribute("data-index",i),n.append(r)}),o(h).parent().show(),o(h.querySelectorAll(".f59-plduration")).each(function(){""===o(this).html()&&o(this).hide()})}function s(){o(h.querySelectorAll(".f59-plitem")).each(function(e){u.bean.on(this,"click",function(e){e.preventDefault(),o(this).addClass("is-active");var t=o(this).data("index");r(t,!0)})})}function l(){o(h.childNodes).each(function(e){var t=o(this).data("index")==d.data("f59conf").clip.index;o(this).toggleClass("is-active",t).toggleClass("is-paused",t&&f.paused)}),i.scrollPlaylistToActive(p)}var c=document.getElementById(e),d=o(c),f=u(c),p=c.parentNode.querySelectorAll(".f59-playlist")[0],h=c.parentNode.querySelectorAll(".f59-plcontainer")[0],m=d.data("f59conf").playlist,g=d.data("f59conf").pt;if("undefined"!=typeof h&&m.length>0){var v=m[0];n(d.data("f59conf").clip,v),d.data("f59conf").clip.index=0,a(m),s(),f.on("ready",function(e,t,n){l()}),i.initplaylistscroll(p),f.conf.advance&&f.on("finish.pl",function(e,t){
if(f.video.loop)return t.seek(0,function(){t.resume()});var n=d.data("f59conf").clip.index>=0?d.data("f59conf").clip.index+1:void 0;n<d.data("f59conf").playlist.length&&(n=n===d.data("f59conf").playlist.length?0:n,setTimeout(function(){r(n,!0)}))})}},initSearchForm:function(e){var t=document.getElementById("f59-search"+e),n=t.querySelectorAll('input[type="submit"]')[0];u.bean.on(t,"keypress",function(e){if(13==e.which)return u.bean.fire(n,"click"),!1}),u.bean.on(n,"click",function(n){n.preventDefault();var l=o(t.querySelectorAll(".bimvidSearchMsg")[0]),c=r(o(t.querySelectorAll('input[type="text"]')).val()),d=document.getElementById("f59-"+e),f=u(d);return l.html(""),""!==c&&(f.playing&&f.stop(),l.html("Searching..."),void a({url:o(t).attr("action"),data:{terms:c,ownerId:o(t).data("owner"),playerId:o(t).data("player"),sharePathBase:o(t).data("share")},dataType:"json",success:function(t){var n=0;if(null!==t){var r=s(t);n=r.length,o(d).data("f59conf").playlist=r,i.initPlaylist("f59-"+e)}0===n?l.html("No matching results"):1===n?l.html("1 result found."):l.html(n+" results found.")},error:function(e,t,n){l.html("Unable to retrieve results.")},complete:function(e,t){return!1}}))})}})}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../shared/field59":35,bonzo:2,extend:8,"parse-json":11,reqwest:15,trim:17}],29:[function(e,t,n){(function(t){(function(){var n=e("extend"),i=e("../shared/field59"),o=e("bonzo"),r="undefined"!=typeof window?window.flowplayer:"undefined"!=typeof t?t.flowplayer:null;n(i,{autoplayTimeout:void 0,relatedTimeElapsed:10,initRelatedVideos:function(e,t){function a(){if(c){var e=f.querySelectorAll(".f59-relatedLi")[0];return 0==i.relatedTimeElapsed?(clearInterval(i.autoplayTimeout),void u(o(e.querySelectorAll(".f59-relatedLink")).data("index"),!0)):void i.relatedTimeElapsed--}}function s(){if(!d){const e=new XMLHttpRequest;var t=p.data("f59conf").clip;url=p.data("f59conf").related+t.owner+"/"+t.dockey,e.open("GET",url),e.onloadend=function(t){var n;try{n=JSON.parse(e.responseText)}catch(t){return}n.length&&l(n)},e.send(),d=!0}}function u(e,t){i.relatedTimeElapsed=10,d=!1;var r=p.data("relatedClips"),a=r[e];n(p.data("f59conf").clip,a),h.load(a.url),t&&h.play(0),o(f.querySelectorAll(".f59-relatedBox")).remove()}function l(e){var t,n=!0,s=0,l="f59-relatedFirst";i.forceExitFullscreen(),t=f.offsetWidth>600?"<div class='f59-relatedBox'><ul>":"<div class='f59-relatedBox f59-relatedSM'><ul>";for(var d=0;d<e.length;d++){var h=e[d];h.dockey!=p.data("f59conf").clip.dockey&&(t+="<li class='f59-relatedLi "+l+"' style='background-color: transparent; background: url("+h.thumbnail+"); background-size: 100%;backgound-position: top center;backgound-repeat: no-repeat;'>",t+=n?"<div class='f59-relatedWrap f59-relatedUpNext'><a class='f59-relatedPlayIcon'><div class='f59-relatedinnerwrap'><div class='f59-relatedCountdown'><svg><circle r=\"25\" cx=\"27\" cy=\"27\"></circle></svg></div></div></a>":'<div class=\'f59-relatedWrap\'><a class=\'f59-relatedPlayIcon\'><svg><circle r="25" cx="27" cy="27"></circle></svg></a>',t+="<a class='f59-relatedLink' href='#' data-index='"+d+"'>",t+="<p class='f59-relatedTitle'>"+h.title+"</p></a>",n&&(t+="<div class='f59-relatedCancelWrap'><span class='f59-relatedCancel'>cancel</span></div>"),t+="</div></li>",n=!1,s++,4==s&&(l="f59-relatedRest"))}t+="</ul></div>",p.data("relatedClips",e),o(f.querySelectorAll(".fp-ui")).prepend(t);var m=f.querySelectorAll(".f59-relatedBox")[0];o(m.querySelectorAll(".f59-relatedLi")).each(function(e){r.bean.on(this,"click",function(e){return"f59-relatedCancel"===e.target.className?(o(m.querySelectorAll(".f59-relatedCountdown circle")).css({"animation-play-state":"paused"}),void clearInterval(i.autoplayTimeout)):(i.autoplayTimeout&&clearInterval(i.autoplayTimeout),e.preventDefault(),void u(o(this.querySelectorAll(".f59-relatedLink")[0]).data("index"),!0))}),r.bean.on(this,"mouseover",function(){o(this.querySelectorAll(".f59-relatedLink p")[0]).css({opacity:1}),o(this.querySelectorAll(".f59-relatedPlayIcon")[0]).css({opacity:1}),o(this.querySelectorAll(".f59-relatedCancelWrap")[0]).css({opacity:1})}),r.bean.on(this,"mouseout",function(){o(this.querySelectorAll(".f59-relatedLink p")[0]).css({opacity:.5}),o(this.querySelectorAll(".f59-relatedPlayIcon")[0]).css({opacity:.5}),o(this.querySelectorAll(".f59-relatedCancelWrap")[0]).css({opacity:.5})})}),c&&(o(m.querySelectorAll(".f59-relatedCountdown circle")).css({"animation-play-state":"running"}),o(m.querySelectorAll(".f59-relatedCancelWrap")).css({display:"block"}),i.autoplayTimeout=setInterval(a,1e3))}var c=t,d=!1,f=document.getElementById(e),p=o(f),h=r(f);h.on("finish",s).on("resume",function(){f.querySelectorAll(".f59-relatedBox").length&&o(f.querySelectorAll(".f59-relatedBox")).remove()}),r.bean.on(window,"resize.lr",function(){var e=f.querySelectorAll(".f59-relatedBox")[0];e&&e.offsetWidth>600&&o(e).hasClass("f59-relatedSM")&&o(e).removeClass("f59-relatedSM"),e&&e.offsetWidth<=600&&!o(e).hasClass("f59-relatedSM")&&o(e).addClass("f59-relatedSM")})}})}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../shared/field59":35,bonzo:2,extend:8}],30:[function(e,t,n){(function(t){(function(){var n=e("extend"),i=e("../shared/field59"),o=e("bonzo"),r="undefined"!=typeof window?window.flowplayer:"undefined"!=typeof t?t.flowplayer:null;n(i,{bonzo:o,renderPlayer:function(e,t){function a(){r(document.getElementById("f59-"+e),d).on("error",function(e,t,n){if(n){var o=r.common,a=o.find(".fp-message",u)[0];i.log(["error",o.find("h2",a)[0].innerHTML+"::"+o.find("p",a)[0].innerHTML]),o.find("h2",a)[0].innerHTML="This content is not available at this time.",o.find("p",a)[0].innerHTML=""}}),t.showtitle&&o(u.querySelectorAll(".fp-ui")).prepend('<div class="fp-title">'+t.clip.title+"</div>"),void 0!==t.playlist&&(i.initPlaylist(l.attr("id")),t.search&&i.initSearchForm(e)),void 0==t.playlist&&void 0!==t.related&&i.initRelatedVideos(l.attr("id"),t.autoplayRelated)}function s(){i.isElementOutViewport(document.getElementById("f59-"+e))||(a(),r.bean.off(window,"scroll",s))}var u=document.getElementById("f59-"+e),l=o(u);if(l.addClass("f59-blk").attr("title",t.clip.title),l.data("f59conf",t),void 0!==t.maxHeight&&l.parent().css("max-height",t.maxHeight),void 0!==t.maxWidth&&l.parent().css("max-width",t.maxWidth),l.addClass("flowplayer"),"s"===t.mt&&"rtmp"===t.clip.provider)return l.addClass("is-error").append(i.getMsgMkup("Flash is required to playback this stream")),!1;if(void 0!==t.schedule){var c=i.playbackWindowActive(t.schedule);if("active"!==c)return c?(dt=i.getDateTimeFromISO(i.dateFromISO(c)),msg=i.getMsgMkup("This stream is not active now.  The next event is scheduled for "+dt.date+" at "+dt.time+".")):msg=i.getMsgMkup("The event has ended."),l.addClass("is-inactive-stream").append(msg).attr("style","background-image: url("+t.thumb+");"),t.showtitle&&o(u.querySelectorAll(".fp-ui")).prepend('<div class="fp-title">'+t.clip.title+"</div>"),!1}t.ao&&i.updateConfig(e,t),l.data("f59conf",t);var d={key:t.k6,e:{},origin:t.refUrl,brand:t.brand,swf:field59.lp+"swfs.field59.com/flowplayer6.swf",swfHls:field59.lp+"swfs.field59.com/flowplayerhls6.swf",autoplay:!1,splash:!0,embed:!1,type:"video",pm:t.pm,debug:!1,ratio:9/16,fullscreen:!0,native_fullscreen:!0,comscore:t.comscore,ga:t.ga};if(t.autoplay&&i.support.autoplayfull&&(d.autoplay=!0,d.splash=!1,t.polite&&(d.muted=!0)),void 0!==t.logo&&(d.logo=t.logo.url,"Top Right"==t.logo.pos?l.addClass("logo-tr"):"Top Left"==t.logo.pos?l.addClass("logo-tl"):"Bottom Right"==t.logo.pos?l.addClass("logo-lr"):"Bottom Left"==t.logo.pos?l.addClass("logo-ll"):"Center"==t.logo.pos&&l.addClass("logo-ctr")),void 0!==t.playlist){var f="right"==t.plp?'<div class="f59-plratio"></div>':"";l.parent().addClass("f59-pl"+t.plp+" f59-blk"),l.after('<div id="bimvidplaylist'+e+'" class="f59-playlist">'+f+'<div class="f59-plprev"><div></div></div><div class="f59-plwrap"><div class="f59-plscroll"><div class="f59-plcontainer"></div></div></div><div class="f59-plnext"><div></div></div></div>'),n(l.data("f59conf").clip,l.data("f59conf").playlist[0]),t.playlist[0].adaptive?d.clip={sources:[{type:"application/x-mpegurl",src:t.playlist[0].m3u8},{type:"video/mp4",src:t.playlist[0].url}]}:d.clip={sources:[{type:"video/mp4",src:t.playlist[0].url}]},void 0!==t.playlist[0].ccsidecar&&(d.clip.captions=[{kind:"subtitles",srclang:"en",label:"English",src:t.playlist[0].ccsidecar}]),d.advance=t.advance}else"s"===t.mt?(d.live="live"===t.pm,d.clip={sources:[{type:"application/x-mpegurl",src:t.clip.m3u8}]}):d.clip={sources:[{type:"video/mp4",src:t.clip.url}]},void 0!==t.clip.ccsidecar&&(d.clip.captions=[{kind:"subtitles",srclang:"en",label:"English",src:t.clip.ccsidecar}]);return!t.autoplay||t.autoplay&&!t.visible||!i.isElementOutViewport(document.getElementById("f59-"+e))?a():r.bean.on(window,"scroll",s),!0},updateConfig:function(e,t){if(field59.ipo){var i=field59.ipo||{},r=i[e]||i.global||{};n(!0,t,r),t.playlist&&o(t.playlist).each(function(){n(!0,this,r.clip)})}return"undefined"!=typeof bimvid&&bimvid.parameters&&bimvid.parameters.clip&&(n(!0,t.clip,bimvid.parameters.clip),t.playlist&&o(t.playlist).each(function(){n(!0,this,bimvid.parameters.clip)})),t},getMsgMkup:function(e){return'<div class="fp-ratio" style="padding-top: 56.25%;"></div><div class="fp-ui"><div class="fp-message"><h2>'+e+"</h2><p></p></div></div>"}})}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../shared/field59":35,bonzo:2,extend:8}],31:[function(e,t,n){(function(t){(function(){"use strict";var n="undefined"!=typeof window?window.flowplayer:"undefined"!=typeof t?t.flowplayer:null,i=e("bean"),o=n.common,r=e("bonzo"),a=e("class-list");n.defaults.subtitleParser=function(e){function t(e){var t=e.split(":");return 2==t.length&&t.unshift(0),60*t[0]*60+60*t[1]+parseFloat(t[2].replace(",","."))}for(var n,i,o,r=/^(([0-9]{2}:){1,2}[0-9]{2}[,.][0-9]{3}) --\> (([0-9]{2}:){1,2}[0-9]{2}[,.][0-9]{3})(.*)/,a=[],s=0,u=e.split("\n"),l=u.length,c={};s<l;s++)if(i=r.exec(u[s])){for(n=u[s-1],o="<p>"+u[++s]+"</p><br/>";"string"==typeof u[++s]&&u[s].trim()&&s<u.length;)o+="<p>"+u[s]+"</p><br/>";c={title:n,startTime:t(i[1]),endTime:t(i[3]),text:o},a.push(c)}return a},n(function(e,t){var s,u,l,c,d=a(t),f=!1,p=!1,h=!1,m=function(){o.find(".fp-menu",t).forEach(o.removeNode),c=o.createElement("a",{className:"fp-menu"}),c.appendChild(o.createElement("div",{className:"fp-cc"},"CC"));var n=o.createElement("ul",{className:"fp-dropdown fp-dropup"});return n.appendChild(o.createElement("li",{"data-subtitle-index":-1},"No subtitles")),(e.video.captions||[]).forEach(function(e,t){var i=e.srclang||"en",r=e.label||"Default ("+i+")",a=o.createElement("li",{"data-subtitle-index":t},r);n.appendChild(a)}),c.appendChild(n),o.find(".fp-controls",t)[0].appendChild(c),c};i.on(t,"click",".fp-menu",function(e){a(c).toggle("dropdown-open")}),i.on(t,"click",".fp-menu li[data-subtitle-index]",function(t){var n=t.target.getAttribute("data-subtitle-index"),i=new Date,o=new Date(new Date(i).setMonth(i.getMonth()+6));return f59.allCookies.setItem("f59captions",n,o,"/"),"-1"===n?e.disableSubtitles():void e.loadSubtitles(n)});var g=function(){var e=o.find(".fp-player",t)[0];l=o.find(".fp-subtitle",t)[0],l=l||o.appendTo(o.createElement("div",{"class":"fp-subtitle"}),e),Array.prototype.forEach.call(l.children,o.removeNode),s=a(l),m()};e.on("ready",function(e,i,r){var a=i.conf,s=o.find("video.fp-engine",t)[0];if(o.attr(s,"crossorigin","anonymous"),r.usecc=f=!1,n.support.subtitles&&(!r.captions||!r.captions.length)&&"hlsjs"==i.engine.engineName){r.captions=[];var u=o.find("video",t)[0].textTracks;if(u.length){r.usecc=f=!0;for(var l=0;l<u.length;l++)r.captions.push({kind:"subtitles",srclang:u[l].language||"en",label:u[l].label||"en",src:"","default":!1})}}var c=o.find("video",t)[0];if(c.addEventListener("webkitendfullscreen",function(){o.toggleClass(t,"f59-is-fullscreen"),v()},!1),c.addEventListener("webkitbeginfullscreen",function(){o.toggleClass(t,"f59-is-fullscreen"),y()},!1),"html5"!=i.engine.engineName||"application/x-mpegurl"!=r.type||a.live||(p=!0),n.support.subtitles&&a.nativesubtitles&&"html5"==i.engine.engineName){for(var s=o.find("video.fp-engine",t)[0],l=0;l<s.textTracks.length;l++)"metadata"==s.textTracks[l].kind&&(s.textTracks[l].mode="disabled");if(h=!0,r.usecc=f=!0,!r.captions||!r.captions.length)return;r.captions.some(function(e){return!o.isSameDomain(e.src)})&&o.attr(s,"crossorigin","anonymous"),r.captions.forEach(function(e){s.appendChild(o.createElement("track",{kind:"subtitles",srclang:e.srclang||"en",label:e.label||"en",src:e.src,"default":e["default"]}))}),m()}if(!h&&(i.captions=[],g(),d.remove("has-menu"),i.disableSubtitles(),r.captions))var A=r.captions.filter(function(e){return e["default"]})[0];r.captions&&r.captions.length&&(d.add("has-menu"),A?i.loadSubtitles(r.captions.indexOf(A)):f59.allCookies.hasItem("f59captions")&&parseInt(f59.allCookies.getItem("f59captions"))>-1&&i.loadSubtitles(parseInt(f59.allCookies.getItem("f59captions"))))});var v=function(){for(var n=-1,i=o.find("video",t)[0],r=0;r<i.textTracks.length;r++)"showing"==i.textTracks[r].mode&&(n=r);n>-1?e.loadSubtitles(n):e.disableSubtitles()},y=function(){var n=o.find("li.active",t)[0];if(r(n).data("subtitle-index")>-1){if(document.fullscreen||document.mozFullScreen||document.webkitIsFullScreen)return;e.loadSubtitles(r(n).data("subtitle-index"))}else e.disableSubtitles()};document.addEventListener("fullscreenchange",y,!1),document.addEventListener("mozfullscreenchange",y,!1),document.addEventListener("webkitfullscreenchange",y,!1),e.bind("fullscreen-exit",y),e.bind("cuepoint",function(e,t,n){n.subtitle?(u=n.index,o.html(l,n.subtitle.text),s.add("fp-active")):n.subtitleEnd&&(s.remove("fp-active"),u=n.index)}),e.bind("seek",function(t,n,i){f||(u&&e.cuepoints[u]&&e.cuepoints[u].time>i&&(s.remove("fp-active"),u=null),(e.cuepoints||[]).forEach(function(t){var n=t.subtitle;n&&u!=t.index?i>=t.time&&(!n.endTime||i<=n.endTime)&&e.trigger("cuepoint",[e,t]):t.subtitleEnd&&i>=t.time&&t.index==u+1&&e.trigger("cuepoint",[e,t])}))});var A=function(e){o.toggleClass(o.find("li.active",t)[0],"active"),o.toggleClass(o.find('li[data-subtitle-index="'+e+'"]',t)[0],"active")};e.disableSubtitles=function(){if(f||p||f59.support.IS_ANDROID){for(var n=o.find("video",t)[0].textTracks,i=0;i<n.length;i++)n[i].mode="hidden";if(A(-1),f)return e}return e.captions=[],(e.cuepoints||[]).forEach(function(t){(t.subtitle||t.subtitleEnd)&&e.removeCuepoint(t)}),l&&Array.prototype.forEach.call(l.children,o.removeNode),A(-1),e},e.loadSubtitles=function(n){if(e.disableSubtitles(),A(n),f){var i=o.find("video",t)[0].textTracks;return i[n].mode="showing",e}var r=e.video.captions[n];if(r){var a=r.src;if(a)return o.xhrGet(a,function(t){var n=e.conf.subtitleParser(t);n.forEach(function(t){var n={time:t.startTime,subtitle:t,visible:!1};e.captions.push(t),e.addCuepoint(n),e.addCuepoint({time:t.endTime,subtitleEnd:t.title,visible:!1}),0!==t.startTime||e.video.time||e.trigger("cuepoint",[e,n])})},function(){return e.trigger("error",{code:8,url:a}),!1}),e}}})}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{bean:1,bonzo:2,"class-list":5}],32:[function(e,t,n){t.exports=e("./html5_main.js");e("./html5/dfp_v3")},{"./html5/dfp_v3":25,"./html5_main.js":33}],33:[function(e,t,n){e("./shared/es6-promise.auto");t.exports=e("./shared/field59");e("./html5/render"),e("./html5/img"),e("./html5/ga"),e("./html5/playlist"),e("./html5/related"),e("./html5/subtitles"),e("./html5/ccprefs"),e("./html5/comscore"),e("./html5/continueWatching"),e("./html5/altPlay")},{"./html5/altPlay":21,"./html5/ccprefs":22,"./html5/comscore":23,"./html5/continueWatching":24,"./html5/ga":26,"./html5/img":27,"./html5/playlist":28,"./html5/related":29,"./html5/render":30,"./html5/subtitles":31,"./shared/es6-promise.auto":34,"./shared/field59":35}],34:[function(e,t,n){(function(i,o){(function(){!function(e,i){"object"==typeof n&&"undefined"!=typeof t?t.exports=i():"function"==typeof define&&define.amd?define(i):e.ES6Promise=i()}(this,function(){"use strict";function t(e){var t=typeof e;return null!==e&&("object"===t||"function"===t)}function n(e){return"function"==typeof e}function r(e){W=e}function a(e){V=e}function s(){return function(){return i.nextTick(f)}}function u(){return"undefined"!=typeof j?function(){j(f)}:d()}function l(){var e=0,t=new G(f),n=document.createTextNode("");return t.observe(n,{characterData:!0}),function(){n.data=e=++e%2}}function c(){var e=new MessageChannel;return e.port1.onmessage=f,function(){return e.port2.postMessage(0)}}function d(){var e=setTimeout;return function(){return e(f,1)}}function f(){for(var e=0;e<U;e+=2){var t=Q[e],n=Q[e+1];t(n),Q[e]=void 0,Q[e+1]=void 0}U=0}function p(){try{var e=Function("return this")().require("vertx");return j=e.runOnLoop||e.runOnContext,u()}catch(t){return d()}}function h(e,t){var n=this,i=new this.constructor(g);void 0===i[Z]&&P(i);var o=n._state;if(o){var r=arguments[o-1];V(function(){return _(o,i,r,n._result)})}else x(n,i,e,t);return i}function m(e){var t=this;if(e&&"object"==typeof e&&e.constructor===t)return e;var n=new t(g);return w(n,e),n}function g(){}function v(){return new TypeError("You cannot resolve a promise with itself")}function y(){return new TypeError("A promises callback cannot return that same promise.")}function A(e,t,n,i){try{e.call(t,n,i)}catch(o){return o}}function C(e,t,n){V(function(e){var i=!1,o=A(n,t,function(n){i||(i=!0,t!==n?w(e,n):D(e,n))},function(t){i||(i=!0,S(e,t))},"Settle: "+(e._label||" unknown promise"));!i&&o&&(i=!0,S(e,o))},e)}function E(e,t){t._state===te?D(e,t._result):t._state===ne?S(e,t._result):x(t,void 0,function(t){return w(e,t)},function(t){return S(e,t)})}function b(e,t,i){t.constructor===e.constructor&&i===h&&t.constructor.resolve===m?E(e,t):void 0===i?D(e,t):n(i)?C(e,t,i):D(e,t)}function w(e,n){if(e===n)S(e,v());else if(t(n)){var i=void 0;try{i=n.then}catch(o){return void S(e,o)}b(e,n,i)}else D(e,n)}function F(e){e._onerror&&e._onerror(e._result),B(e)}function D(e,t){e._state===ee&&(e._result=t,e._state=te,0!==e._subscribers.length&&V(B,e))}function S(e,t){e._state===ee&&(e._state=ne,e._result=t,V(F,e))}function x(e,t,n,i){var o=e._subscribers,r=o.length;e._onerror=null,o[r]=t,o[r+te]=n,o[r+ne]=i,0===r&&e._state&&V(B,e)}function B(e){var t=e._subscribers,n=e._state;if(0!==t.length){for(var i=void 0,o=void 0,r=e._result,a=0;a<t.length;a+=3)i=t[a],o=t[a+n],i?_(n,i,o,r):o(r);e._subscribers.length=0}}function _(e,t,i,o){var r=n(i),a=void 0,s=void 0,u=!0;if(r){try{a=i(o)}catch(l){u=!1,s=l}if(t===a)return void S(t,y())}else a=o;t._state!==ee||(r&&u?w(t,a):u===!1?S(t,s):e===te?D(t,a):e===ne&&S(t,a))}function T(e,t){try{t(function(t){w(e,t)},function(t){S(e,t)})}catch(n){S(e,n)}}function k(){return ie++}function P(e){e[Z]=ie++,e._state=void 0,e._result=void 0,e._subscribers=[]}function O(){return new Error("Array Methods must be provided an Array")}function I(e){return new oe(this,e).promise}function L(e){var t=this;return new t(H(e)?function(n,i){for(var o=e.length,r=0;r<o;r++)t.resolve(e[r]).then(n,i)}:function(e,t){return t(new TypeError("You must pass an array to race."))})}function R(e){var t=this,n=new t(g);return S(n,e),n}function M(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function N(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function q(){var e=void 0;if("undefined"!=typeof o)e=o;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(t){throw new Error("polyfill failed because global object is unavailable in this environment")}var n=e.Promise;if(n){var i=null;try{i=Object.prototype.toString.call(n.resolve())}catch(t){}if("[object Promise]"===i&&!n.cast)return}e.Promise=re}var z=void 0;z=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)};var H=z,U=0,j=void 0,W=void 0,V=function(e,t){Q[U]=e,Q[U+1]=t,U+=2,2===U&&(W?W(f):K())},$="undefined"!=typeof window?window:void 0,X=$||{},G=X.MutationObserver||X.WebKitMutationObserver,Y="undefined"==typeof self&&"undefined"!=typeof i&&"[object process]"==={}.toString.call(i),J="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,Q=new Array(1e3),K=void 0;K=Y?s():G?l():J?c():void 0===$&&"function"==typeof e?p():d();var Z=Math.random().toString(36).substring(2),ee=void 0,te=1,ne=2,ie=0,oe=function(){function e(e,t){this._instanceConstructor=e,this.promise=new e(g),this.promise[Z]||P(this.promise),H(t)?(this.length=t.length,this._remaining=t.length,this._result=new Array(this.length),0===this.length?D(this.promise,this._result):(this.length=this.length||0,this._enumerate(t),0===this._remaining&&D(this.promise,this._result))):S(this.promise,O())}return e.prototype._enumerate=function(e){for(var t=0;this._state===ee&&t<e.length;t++)this._eachEntry(e[t],t)},e.prototype._eachEntry=function(e,t){var n=this._instanceConstructor,i=n.resolve;if(i===m){var o=void 0,r=void 0,a=!1;try{o=e.then}catch(s){a=!0,r=s}if(o===h&&e._state!==ee)this._settledAt(e._state,t,e._result);else if("function"!=typeof o)this._remaining--,this._result[t]=e;else if(n===re){var u=new n(g);a?S(u,r):b(u,e,o),this._willSettleAt(u,t)}else this._willSettleAt(new n(function(t){return t(e)}),t)}else this._willSettleAt(i(e),t)},e.prototype._settledAt=function(e,t,n){var i=this.promise;i._state===ee&&(this._remaining--,e===ne?S(i,n):this._result[t]=n),0===this._remaining&&D(i,this._result)},e.prototype._willSettleAt=function(e,t){var n=this;x(e,void 0,function(e){return n._settledAt(te,t,e)},function(e){return n._settledAt(ne,t,e)})},e}(),re=function(){function e(t){this[Z]=k(),this._result=this._state=void 0,this._subscribers=[],g!==t&&("function"!=typeof t&&M(),this instanceof e?T(this,t):N())}return e.prototype["catch"]=function(e){return this.then(null,e)},e.prototype["finally"]=function(e){var t=this,i=t.constructor;return n(e)?t.then(function(t){return i.resolve(e()).then(function(){return t})},function(t){return i.resolve(e()).then(function(){throw t})}):t.then(e,e)},e}();return re.prototype.then=h,re.all=I,re.race=L,re.resolve=m,re.reject=R,re._setScheduler=r,re._setAsap=a,re._asap=V,re.polyfill=q,re.Promise=re,re.polyfill(),re})}).call(this)}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{_process:14}],35:[function(e,t,n){var i=e("extend"),o=e("bonzo"),r=(e("reqwest"),e("can-autoplay")),a=e("bean"),s=t.exports={},u=new Date("2011-06-02T09:34:29+02:00Z");u&&1307000069e3===+u?s.dateFromISO=function(e){return new Date(e)}:s.dateFromISO=function(e){var t,n,i=/^(\d{4}\-\d\d\-\d\d([tT ][\d:\.]*)?)([zZ]|([+\-])(\d\d):(\d\d))?$/,o=i.exec(e)||[];if(o[1]){t=o[1].split(/\D/);for(var r=0,a=t.length;r<a;r++)t[r]=parseInt(t[r],10)||0;return t[1]-=1,t=new Date(Date.UTC.apply(Date,t)),t.getDate()?(o[5]&&(n=60*parseInt(o[5],10),o[6]&&(n+=parseInt(o[6],10)),"+"==o[4]&&(n*=-1),n&&t.setUTCMinutes(t.getUTCMinutes()+n)),t):NaN}return NaN},i(s,{support:{autoplayfull:!1,autoplaymuted:!1,autoplayinlinemuted:!1,IS_IPAD:/iPad|MeeGo/.test(navigator.userAgent)&&!/CriOS/.test(navigator.userAgent),IS_IPHONE:/iP(hone|od)/i.test(navigator.userAgent)&&!/iPad/.test(navigator.userAgent)&&!/IEMobile/i.test(navigator.userAgent),IS_ANDROID:/Android/.test(navigator.userAgent),IS_UNSUPPORTED_IE:/MSIE [6-9]\./.test(navigator.userAgent)||/IEMobile\/(9|10)\./.test(navigator.userAgent),IS_WP:/IEMobile/.test(navigator.userAgent),IS_SAFARI:/Safari/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent),IS_CHROME:Boolean(window.chrome),IS_FIREFOX:/firefox/i.test(navigator.userAgent)},canAutoplay:r,autoplaypermitted:function(){return s.support.autoplayfull||s.support.autoplaymuted||s.support.autoplayinlinemuted},autoplayshouldmute:function(){return s.support.autoplaymuted||s.support.autoplayinlinemuted},autoplaytest:function(){var e=r.video({timeout:3e3}).then(function(e){e.result===!0?s.support.autoplayfull=!0:s.log(["info","autoplay full: "+e.error])}),t=r.video({timeout:3e3,muted:!0}).then(function(e){e.result===!0?s.support.autoplaymuted=!0:s.log(["info","autoplay inline: "+e.error])}),n=r.video({timeout:3e3,muted:!0,inline:!0}).then(function(e){e.result===!0?s.support.autoplayinlinemuted=!0:s.log(["info","autoplay muted inline: "+e.error])});return"function"==typeof Promise.allSettled?Promise.allSettled([e,t,n]):Promise.all([e,t,n])},docurl:function(){return escape(document.URL)},forceExitFullscreen:function(){document.fullscreenElement&&document.exitFullscreen?document.exitFullscreen():document.fullscreenElement&&document.webkitExitFullscreen?document.webkitExitFullscreen():document.mozFullScreenElement&&document.mozCancelFullScreen?document.mozCancelFullScreen():document.msFullscreenElement&&document.msExitFullscreen?document.msExitFullscreen():document.webkitFullscreenElement&&document.webkitExitFullscreen&&document.webkitExitFullscreen()},isElementOutViewport:function(e){var t=e.getBoundingClientRect();return t.bottom<0||t.right<0||t.left>window.innerWidth||t.top>window.innerHeight},initplaylistscroll:function(e){var t,n=!!o(e.parentNode).hasClass("f59-plright"),i=e.querySelectorAll(".f59-plnext")[0],r=e.querySelectorAll(".f59-plprev")[0],s=e.querySelectorAll(".f59-plscroll")[0];a.on(i,"mousedown touchstart",function(){t=setInterval(function(){n&&document.documentElement.clientWidth>500?s.scrollTop+=10:s.scrollLeft+=10},10)}),a.on(i,"mouseup touchend",function(){t&&clearInterval(t)}),a.on(r,"mousedown touchstart",function(){t=setInterval(function(){n&&document.documentElement.clientWidth>500?s.scrollTop-=10:s.scrollLeft-=10},10)}),a.on(r,"mouseup touchend",function(){t&&clearInterval(t)})},scrollPlaylistToActive:function(e){var t,n,i,r,a=!!o(e.parentNode).hasClass("f59-plright"),s=e.querySelectorAll(".f59-plitem").length,u=e.querySelectorAll(".f59-plscroll")[0],l=e.querySelectorAll(".is-active")[0];l&&(a&&document.documentElement.clientWidth>500?(i=Math.ceil(u.scrollHeight/s),t=Math.ceil(i*(o(l).data("index")-1)),r=u.scrollTop,n=setInterval(function(){u.scrollTop>t-5||u.scrollTop>t+5?(u.scrollTop=t,clearInterval(n)):u.scrollTop<t?(r=u.scrollTop,u.scrollTop+=3):u.scrollTop>t&&(r=u.scrollTop,u.scrollTop-=3),u.scrollTop!==t&&r!==u.scrollTop||clearInterval(n)},1)):(i=Math.ceil(u.scrollWidth/s),t=Math.ceil(i*(o(l).data("index")-1)),r=u.scrollLeft,n=setInterval(function(){u.scrollLeft>t-5||u.scrollLeft>t+5?(u.scrollLeft=t,clearInterval(n)):u.scrollLeft<t?(r=u.scrollLeft,u.scrollLeft+=3):u.scrollLeft>t&&(r=u.scrollLeft,u.scrollLeft-=3),u.scrollLeft!==t&&r!==u.scrollLeft||clearInterval(n)},1)))},dates:{convert:function(e){return e.constructor===Date?e:e.constructor===Array?new Date(e[0],e[1],e[2]):e.constructor===Number?new Date(e):e.constructor===String?new Date(e):"object"==typeof e?new Date(e.year,e.month,e.date):NaN},compare:function(e,t){return e=this.convert(e).valueOf(),t=this.convert(t).valueOf(),isFinite(e)&&isFinite(t)?(e>t)-(e<t):NaN},inRange:function(e,t,n){return e=this.convert(e).valueOf(),t=this.convert(t).valueOf(),n=this.convert(n).valueOf(),isFinite(e)&&isFinite(t)&&isFinite(n)?t<=e&&e<=n:NaN}},getDateTimeFromISO:function(e){var t=new Date,n=new Date(Date.now()+864e5);return month=e.getMonth()+1,day=e.getDate(),year=e.getFullYear(),nowm=t.getMonth()+1,nowd=t.getDate(),nowy=t.getFullYear(),dateS=month+"/"+day+"/"+year,nowy===year&&(nowm===month&&(nowd===day&&(dateS="today"),nowd+1===day&&(dateS="tomorrow")),tomm=n.getMonth()+1,tomm>nowm&&tomm===month&&1===parseInt(day,10)&&(dateS="tomorrow")),minutes=e.getMinutes(),hours=e.getHours(),meridiem="am",parseInt(minutes)<10&&(minutes="0"+minutes),0===parseInt(hours)?hours=12:12==parseInt(hours)?meridiem="pm":parseInt(hours)>12&&(hours-=12,meridiem="pm"),timeS=hours+":"+minutes+" "+meridiem,{date:dateS,time:timeS}},playbackWindowActive:function(e){var t=new Date;return e.currentBegin&&s.dates.compare(t,s.dateFromISO(e.currentBegin))<0?e.currentBegin:e.currentBegin&&s.dates.compare(t,s.dateFromISO(e.currentBegin))>-1&&!e.currentEnd?"active":e.currentBegin&&e.currentEnd&&s.dates.inRange(t,s.dateFromISO(e.currentBegin),s.dateFromISO(e.currentEnd))?"active":s.dates.compare(t,s.dateFromISO(e.nextBegin))<0&&e.nextBegin},gup:function(e){return e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]"),e="[\\?&]"+e+"=([^&#]*)",e=new RegExp(e),e=e.exec(window.location.href),null===e?"":e[1]},URLEncode:function(e){var t,n,i,o,r,a="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_.!~*'()",s="0123456789ABCDEF",u=e,l="";for(t=0;t<u.length;t++)n=u.charAt(t)," "===n?l+="+":a.indexOf(n)!==-1?l+=n:(i=n.charCodeAt(0),i>255?l+="+":(l+="%",o=i>>4,r=15&o,l+=s.charAt(r),r=15&i,l+=s.charAt(r)));return l},inArray:function(e,t){var n;for(n=0;n<e.length;n++)if(e[n]===t)return n;return!1},log:function(e){try{console.log("f59",[].slice.call(e))}catch(t){}},lst:function(){var e=this,t=e.config.baseurl+"/active/"+e.config.clip.owner+"/"+e.id;const n=new XMLHttpRequest;n.open("GET",t),n.onloadend=function(t){var i;try{i=JSON.parse(n.responseText)}catch(t){return void clearInterval(e.schedcheck)}if(e.config.schedule=i,i.active&&!e.loaded)s.reinit(e);else if(!i.active&&e.loaded){try{flowplayer("f59-"+e.id).pause().unload()}catch(t){}s.reinit(e),clearInterval(e.schedcheck)}},n.send()},reinit:function(e){var t=document.getElementById("f59-"+e.id),n=o(t).parent().hasClass("f59-video")?o(t).parent():o(t).parent().parent();n.empty().html('<div id="f59-'+e.id+'" class="f59-main"></div>'),e.loaded=!1,e.init()},base64_encode:function(e){var t,n,i,o,r,a,s,u,l,c,d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",f=0,p=0,h="",m=[];if(!e)return e;do t=e.charCodeAt(f++),n=e.charCodeAt(f++),i=e.charCodeAt(f++),u=t<<16|n<<8|i,o=u>>18&63,r=u>>12&63,a=u>>6&63,s=63&u,m[p++]=d.charAt(o)+d.charAt(r)+d.charAt(a)+d.charAt(s);while(f<e.length);return h=m.join(""),l=e.length%3,c=(l?h.slice(0,l-3):h)+"===".slice(l||3),c.replace(/\+/g,"-").replace(/\//g,"_").replace(/\=+$/,"")},parseIOSVersion:function(e){var t=/iP(ad|hone)(; CPU)? OS (\d+_\d)/.exec(e);return t&&t.length>1?parseFloat(t[t.length-1].replace("_","."),10):0},allCookies:{getItem:function(e){return e&&this.hasItem(e)?unescape(document.cookie.replace(new RegExp("(?:^|.*;\\s*)"+escape(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*((?:[^;](?!;))*[^;]?).*"),"$1")):null},setItem:function(e,t,n,i,o,r){if(e&&!/^(?:expires|max\-age|path|domain|secure)$/i.test(e)){var a="";if(n)switch(n.constructor){case Number:a=n===1/0?"; expires=Tue, 19 Jan 2038 03:14:07 GMT":"; max-age="+n;break;case String:a="; expires="+n;break;case Date:a="; expires="+n.toGMTString()}document.cookie=escape(e)+"="+escape(t)+a+(o?"; domain="+o:"")+(i?"; path="+i:"")+(r?"; secure":"")}},removeItem:function(e,t){e&&this.hasItem(e)&&(document.cookie=escape(e)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT"+(t?"; path="+t:""))},hasItem:function(e){return new RegExp("(?:^|;\\s*)"+escape(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=").test(document.cookie)},keys:function(){var e,t=document.cookie.replace(/((?:^|\s*;)[^\=]+)(?=;|$)|^\s*|\s*(?:\=[^;]*)?(?:\1|$)/g,"").split(/\s*(?:\=[^;]*)?;\s*/);for(e=0;e<t.length;e++)t[e]=unescape(t[e]);return t}}}),s.support.IS_MOBILE=s.support.IS_IPAD||s.support.IS_IPHONE||s.support.IS_ANDROID,s.support.IS_IOS=s.support.IS_IPAD||s.support.IS_IPHONE,s.support.IS_ANDROID_CHROME=s.support.IS_ANDROID&&/Chrome/.test(navigator.userAgent)&&!/Version/.test(navigator.userAgent),s.support.ADS_UNSUPPORTED=s.support.IS_UNSUPPORTED_IE,s.support.WP_VER=s.support.IS_WP?parseFloat(/Windows\ Phone\ (\d+\.\d+)/.exec(navigator.userAgent)[1],10):0,
s.support.IE_MOBILE_VER=s.support.IS_WP?parseFloat(/IEMobile\/(\d+\.\d+)/.exec(navigator.userAgent)[1],10):0,s.support.IOS_VER=s.support.IS_IPAD||s.support.IS_IPHONE?s.parseIOSVersion(navigator.userAgent):0,s.support.ANDROID_VER=s.support.IS_ANDROID?parseFloat(/Android\ (\d+(\.\d+)?)/.exec(navigator.userAgent)[1],10):0,s.support.inlineVideo=(!s.support.IS_IPHONE||s.support.IOS_VER>=10)&&(!s.support.IS_WP||s.support.WP_VER>=8.1&&s.support.IE_MOBILE_VER>=11)&&(!s.support.IS_ANDROID||s.support.ANDROID_VER>=3),"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(e,t){"use strict";if(null===e||void 0===e)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(e),i=1;i<arguments.length;i++){var o=arguments[i];if(null!==o&&void 0!==o)for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(n[r]=o[r])}return n},writable:!0,configurable:!0})},{bean:1,bonzo:2,"can-autoplay":4,extend:8,reqwest:15}]},{},[32])(32)});