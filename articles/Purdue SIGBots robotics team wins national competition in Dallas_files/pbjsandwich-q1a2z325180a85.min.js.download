'use strict';window.Criteo={usePrebidEvents:!1};
!function(ca){function ma(c,a){function b(){this.constructor=c}A(c,a);c.prototype=null===a?Object.create(a):(b.prototype=a.prototype,new b)}function I(c){return c.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}function na(c,a){if(c){try{var b=eval("(function(){return ".concat(c,"})()"))}catch(e){return}"function"==typeof b&&b.apply(b,a)}}function O(c,a,b,e,m,J,P,ka,ra,ta,ya,Da,Ja,za,Ma){return Da?new ba(c,a,b,e,m,J,Ja,ya,ra,ta,Ma):void 0!==P&&void 0!==ka?new T(c,a,b,e,m,J,P,ka,ya):
void 0!==ta&&0!==ta.indexOf("<script")?new V(c,a,b,e,m,J,ta,ya,za):void 0!==ta&&0===ta.indexOf("<script")&&(Da=RegExp("(?<=src='|\")(.*)(?='|\")"),Ja=ta.match(Da),null!==Ja&&0<Ja.length)?new R(c,a,b,e,m,J,Ja[0],ya,za):void 0!==ra?new R(c,a,b,e,m,J,ra,ya,za):void 0}function G(c){var a={slots:void 0,time_to_next_call:0};return void 0!==c.exd&&(void 0!==c.exd.time_to_next_call&&(a.time_to_next_call=c.exd.time_to_next_call),a.slots=c.exd.slots,delete c.exd),a}function d(){var c=(new Date).getTime();return"undefined"!=
typeof performance&&"function"==typeof performance.now&&(c+=performance.now()),"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(a){var b=(c+16*Math.random())%16|0;return c=Math.floor(c/16),("x"===a?b:3&b|8).toString(16)})}function y(c){var a="number"==typeof window.PREBID_TIMEOUT?window.PREBID_TIMEOUT:void 0;return c&&a?Math.min(c,a):c||a||void 0}function r(c){try{return JSON.parse(c)}catch(a){}}function f(c){try{return JSON.parse(c)}catch(a){}}function l(c){function a(){try{return e.apply(this,
arguments)}catch(m){}}var b,e=c;for(b in a.prototype=e.prototype,e)e.hasOwnProperty(b)&&(a[b]=e[b]);return a}function z(c){for(var a in c){var b;a in c&&("function"==typeof(b=c[a])?c[a]=l(b):"object"==typeof b&&(c[a]=z(b)))}return c}function H(c){var a={push:function(){for(var b=[],e=0;e<arguments.length;e++)b[e]=arguments[e];if(void 0!==b)for(e=0;e<b.length;e++){var m=b[e];"function"==typeof m&&l(m)()}}};return c&&Array.isArray(c)&&a.push.apply(a,c),a}function w(c,a){try{return decodeURIComponent(c)}catch(b){return void 0!==
a?a:c}}function t(c){var a={};c=c.split("?");if(1<c.length){var b=0;for(c=c[1].split("&");b<c.length;b++){var e=c[b].split("=");a[w(e[0])]=w(e[1])}}return a}function n(c){window.criteo_pubtag&&window.criteo_pubtag.context&&"serviceProvider"in window.criteo_pubtag.context||(window.criteo_pubtag=new gb,window.criteo_pubtag_prebid_149=window.criteo_pubtag);window.Criteo=p(window.Criteo||{},c);window.Criteo_prebid_149=window.Criteo}function p(c,a){if(v(c)&&v(a))for(var b in a)v(a[b])?!v(c[b])&&void 0!==
c[b]||(v(c[b])||(c[b]={}),p(c[b],a[b])):void 0===c[b]&&(c[b]=a[b]);return c}function v(c){return c&&"object"==typeof c&&!Array.isArray(c)}function K(){var c;n(z({PubTag:{Adapters:{Prebid:fa},DirectBidding:{DirectBiddingEvent:Za,DirectBiddingSlot:qa,DirectBiddingUrlBuilder:ja,Size:Q}},events:null!=(c=null==(c=window.Criteo)?void 0:c.events)?c:[],passbackEvents:null!=(c=null==(c=window.Criteo)?void 0:c.passbackEvents)?c:[],usePrebidEvents:null==(c=null==(c=window.Criteo)?void 0:c.usePrebidEvents)||
c}));!1!==window.Criteo.usePrebidEvents&&(window.Criteo.events=H(window.Criteo.events));window.criteo_pubtag.context.serviceProvider.getServicesAsync(function(a){})}var A=function(c,a){return(A=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(b,e){b.__proto__=e}:function(b,e){for(var m in e)e.hasOwnProperty(m)&&(b[m]=e[m])}))(c,a)},h=function(){return(h=Object.assign||function(c){for(var a,b=1,e=arguments.length;b<e;b++)for(var m in a=arguments[b])Object.prototype.hasOwnProperty.call(a,
m)&&(c[m]=a[m]);return c}).apply(this,arguments)},q=function(){function c(){this.blockedPixelFailed=this.allowedPixelLoaded=!1}return c.prototype.isAdBlocked=function(a){var b=this;this.createPixel(c.allowedPixelUrl,function(){(b.allowedPixelLoaded=!0)===b.blockedPixelFailed&&a(!0)},function(){});this.createPixel(c.blockedPixelUrl,function(){a(!1)},function(){(b.blockedPixelFailed=!0)===b.allowedPixelLoaded&&a(!0)})},c.prototype.createPixel=function(a,b,e){var m=document.createElement("img");m.src=
a;m.height=1;m.width=1;m.style.display="none";m.onload=b;m.onerror=e},c.allowedPixelUrl="https://static.criteo.net/images/pixel.gif?ch=1",c.blockedPixelUrl="https://static.criteo.net/images/pixel.gif?ch=2",c}(),u=function(){function c(a){this.timerEnabled=!0;this.timerStarted=!1;this.localStorageHelper=a}return c.create=function(a){return new c(a)},c.prototype.adBlockFlagEnabled=function(){return null!==this.localStorageHelper.getItem(c.ADBLOCK_FLAG_KEY)},c.prototype.enableAdBlockFlag=function(){this.localStorageHelper.setItem(c.ADBLOCK_FLAG_KEY,
"1",c.ADBLOCK_FLAG_LIFETIME)},c.prototype.disableAdBlockFlag=function(){this.localStorageHelper.removeItem(c.ADBLOCK_FLAG_KEY)},c.prototype.setAdBlockFlagTimer=function(a){var b=this;this.adBlockFlagEnabled()||!this.timerEnabled||this.timerStarted||(this.timerStarted=!0,setTimeout(function(){b.timerEnabled&&(b.refreshAdblockFlag(),b.timerEnabled=!1)},a))},c.prototype.disableAdBlockFlagTimer=function(){this.timerEnabled=!1;this.adBlockFlagEnabled()&&this.refreshAdblockFlag()},c.prototype.refreshAdblockFlag=
function(){var a=this;(new q).isAdBlocked(function(b){b?a.enableAdBlockFlag():a.disableAdBlockFlag()})},c.ADBLOCK_FLAG_KEY="criteo_adblock_flag",c.ADBLOCK_FLAG_LIFETIME=864E5,c}(),g=function(c){function a(b){var e=c.call(this)||this;return e.document=b,e}return ma(a,c),a.prototype.ResizeFrame=function(b,e){var m;this.document.defaultView&&this.document.defaultView.frameElement&&((m=this.document.defaultView.frameElement).width=b.toString(),m.height=e.toString())},a.prototype.Write=function(b){this.document.open();
this.document.write(b);this.document.close()},a.prototype.LoadScript=function(b){this.Write("<script type='text/javascript' src='"+I(b)+"'>\x3c/script>")},a}(function(){}),B=function(){function c(a){this.name=a}return c.prototype.eval=function(a){},c}(),M=function(c){function a(b){var e=c.call(this,a.NAME)||this;return e.callback=b,e}return ma(a,c),a.prototype.eval=function(b){this.callback&&this.callback.apply(this)},a.NAME="genericEvent",a}(B),L=function(){function c(a,b,e,m,J,P,ka,ra){this.id=
this.generateRandomId();this.slotId=a;this.impressionId=b;this.cpm=e;this.width=m;this.height=J;this.zoneId=P;this.dealCode=ka;this.useSafeframe=null!=ra&&ra}return c.prototype.generateRandomId=function(){return Math.random().toString(36).replace(/[^a-z]+/g,"").substr(0,6)},c}(),R=function(c){function a(b,e,m,J,P,ka,ra,ta,ya){b=c.call(this,b,e,m,J,P,ka,ta,ya)||this;return b.displayUrl=ra,b}return ma(a,c),a.prototype.GenerateEvent=function(b){var e=this;return b.ResizeFrame(this.width,this.height),
new M(function(){return b.LoadScript(e.displayUrl)})},a.prototype.GenerateMessage=function(){return{displayUrl:this.displayUrl}},a}(L),V=function(c){function a(b,e,m,J,P,ka,ra,ta,ya){b=c.call(this,b,e,m,J,P,ka,ta,ya)||this;return b.creative=ra,b}return ma(a,c),a.prototype.GenerateEvent=function(b){var e=this;return b.ResizeFrame(this.width,this.height),new M(function(){return b.Write(e.creative)})},a.prototype.GenerateMessage=function(){return{creative:this.creative}},a}(L),C,D=(!function(c){c[c.Error=
0]="Error";c[c.Warning=1]="Warning";c[c.Debug=2]="Debug"}(C=C||{}),"color: #fff; background: #ff8f1c; display: inline-block; padding: 1px 4px; border-radius: 3px;"),F=function(){function c(){}return c.Log=function(a,b){var e;c.LOGLEVEL<a||(a=C[a].toUpperCase(),e=0<(e=window.navigator.userAgent).indexOf("MSIE ")||0<e.indexOf("Trident/"),window.console&&(e?console.log("[PubTag] ".concat(a,": ").concat(b)):console.log("%cPubTag",D,"".concat(a,": ").concat(b))))},c.Debug=function(a){c.Log(C.Debug,a)},
c.Warning=function(a){c.Log(C.Warning,a)},c.Error=function(a){c.Log(C.Error,a)},c.LOGLEVEL=C.Error,c}(),T=function(c){function a(b,e,m,J,P,ka,ra,ta,ya){b=c.call(this,b,e,m,J,P,ka,ya)||this;return b.nativeCallback=ra,b.nativePayload=ta,b}return ma(a,c),a.prototype.GenerateEvent=function(b){var e=this;return"function"!=typeof this.nativeCallback?new M(void 0):"object"!=typeof this.nativePayload?new M(void 0):new M(function(){return e.nativeCallback(e.nativePayload)})},a.prototype.GenerateMessage=function(){return{nativePayload:this.nativePayload}},
a}(L),ba=function(c){function a(b,e,m,J,P,ka,ra,ta,ya,Da,Ja){b=c.call(this,b,e,m,J,P,ka,ta)||this;return b.videoCallback=ra,b.vastUrl=ya,b.vastXml=Da,b.videoPlayerFunction=Ja,b}return ma(a,c),a.prototype.GenerateEvent=function(b){var e=this;return void 0===this.videoCallback?(na(this.videoPlayerFunction,[{slotid:this.impressionId,vastUrl:this.vastUrl,vastXml:this.vastXml}]),new M(void 0)):"function"!=typeof this.videoCallback?new M(void 0):new M(function(){return e.videoCallback(e.GenerateMessage())})},
a.prototype.GenerateMessage=function(){return{vastUrl:this.vastUrl,vastXml:this.vastXml,slotid:this.impressionId,cpm:this.cpm}},a}(L),ha=function(){function c(a){this.elapsed=0;this.isTimeout=!1;this.adapterEndElapsed=this.cdbCallEndElapsed=this.cdbCallStartElapsed=this.adapterStartElapsed=0;this.slotIdsMatchedByCache=[];this.events=[];this.metricsManager=a}return c.prototype.getMetricsManager=function(){return this.metricsManager},c.prototype.withElapsed=function(a){return this.elapsed=Math.round(a),
this},c.prototype.withIsTimeout=function(a){return(this.isTimeout=a)&&this.events.push({eventId:"CdbCallTimeout"}),this},c.prototype.withAdapterStartElapsed=function(a){return this.adapterStartElapsed=Math.round(a),this.events.push({eventId:"AdapterBidStart",elapsed:this.adapterStartElapsed}),this},c.prototype.withCdbCallStartElapsed=function(a){return this.cdbCallStartElapsed=Math.round(a),this.events.push({eventId:"CdbCallStart",elapsed:this.cdbCallStartElapsed}),this},c.prototype.withCdbCallEndElapsed=
function(a){return this.cdbCallEndElapsed=Math.round(a),this.events.push({eventId:"CdbCallEnd",elapsed:this.cdbCallEndElapsed}),this},c.prototype.withAdapterEndElapsed=function(a){return this.adapterEndElapsed=Math.round(a),this.events.push({eventId:"AdapterBidEnd",elapsed:this.adapterEndElapsed}),this},c.prototype.withAdapterTimeout=function(a){return this.adapterTimeout=a&&Math.round(a),this},c.prototype.withTimeToFirstByte=function(a){return this.timeToFirstByte=a&&Math.round(a),this.timeToFirstByte&&
this.events.push({eventId:"TimeToFirstByte",elapsed:this.timeToFirstByte}),this},c.prototype.withConnectionEstablishmentTime=function(a){return this.connectionEstablishmentTime=a&&Math.round(a),this.connectionEstablishmentTime&&this.events.push({eventId:"TcpConnectionElapsedTime",elapsed:this.connectionEstablishmentTime}),this},c.prototype.withDomainLookupTime=function(a){return this.domainLookupTime=a&&Math.round(a),this.domainLookupTime&&this.events.push({eventId:"DomainLookupElapsedTime",elapsed:this.domainLookupTime}),
this},c.prototype.buildEvents=function(a){if(this.events.length)return a={requestId:a,events:this.events},void 0!==this.adapterTimeout&&this.adapterEndElapsed>this.adapterTimeout&&a.events.push({eventId:"AdapterTimeout"}),a},c.prototype.clear=function(){this.events=[]},c}(),ua=function(){function c(){}return c.generateCacheBuster=function(){return Math.floor(99999999999*Math.random())},c}(),aa;!function(c){c[c.Unspecified=0]="Unspecified";c[c.AMP=1]="AMP"}(aa=aa||{});var ja=function(){function c(a){this.auditMode=
void 0===a?!1:a}return c.prototype.buildUrl=function(a,b,e,m,J){void 0===e&&(e=aa.Unspecified);var P=c.CRITEO_BIDDER_URL+this.getHandlerPath(a,b);return P+="?ptv=149",!0===b.isAdBlocked&&(P+="&abp=1"),P=this.appendCommonParameters(P,a,m,J),P=(P+=b.isOptOut?"&optout=1":"")+(b.bundle?"&bundle="+b.bundle:""),e!==aa.Unspecified&&(P+="&im="+e),P+("&cb="+String(ua.generateCacheBuster()))+b.getContextFlags()},c.prototype.buildErrorUrl=function(){return c.CRITEO_BIDDER_URL+c.CRITEO_ERROR_HANDLER},c.prototype.buildCsmEventsUrl=
function(){return c.CRITEO_BIDDER_URL+c.CRITEO_CSM_EVENTS_HANDLER},c.prototype.buildCsmCountersUrl=function(){return c.CRITEO_BIDDER_URL+c.CRITEO_CSM_COUNTERS_HANDLER},c.prototype.appendCommonParameters=function(a,b,e,m){return a+="&profileId="+String(b),void 0!==e&&(a+="&av="+String(e)),void 0!==m&&(a+="&wv="+encodeURIComponent(m)),a},c.prototype.getHandlerPath=function(a,b){var e;if(this.auditMode)return c.CRITEO_BIDDER_AUDIT_HANDLER;if(334==a&&void 0!==b.slotsExt)for(var m in b.slotsExt){m=b.slotsExt[m];
if(void 0!==(null==(e=null==m?void 0:m.data)?void 0:e.gtin))return c.CRITEO_COMMERCE_EXPERIENCE_3_HANDLER;if(void 0!==(null==(e=null==m?void 0:m.data)?void 0:e.keyword))return c.CRITEO_COMMERCE_EXPERIENCE_4_HANDLER}return c.CRITEO_BIDDER_HANDLER},c.CRITEO_BIDDER_URL="https://bidder.criteo.com/",c.CRITEO_BIDDER_HANDLER="cdb",c.CRITEO_COMMERCE_EXPERIENCE_3_HANDLER="experiences/2023-10/dynamic-buttons",c.CRITEO_COMMERCE_EXPERIENCE_4_HANDLER="experiences/2023-10/product-recommendation",c.CRITEO_CSM_EVENTS_HANDLER=
"csm/events",c.CRITEO_CSM_COUNTERS_HANDLER="csm/counters",c.CRITEO_ERROR_HANDLER="error",c.CRITEO_BIDDER_AUDIT_HANDLER="prebid/audit",c}();L=function(){function c(){this.urlBuilder=new ja}return c.prototype.sendEventsToBeacon=function(a,b){navigator.sendBeacon&&a&&navigator.sendBeacon(b,JSON.stringify(a))},c}();var Z=function(c){function a(b){var e=c.call(this)||this;return e.localStorageHelper=b,e}return ma(a,c),a.prototype.getLocalStorageKeyCount=function(){return this.localStorageHelper.getAllItemsByPrefix("criteo_").length+
this.localStorageHelper.getAllItemsByPrefix("cto_").length},a.prototype.sendEvents=function(b,e){this.sendEventsToBeacon(b.buildEvents(e),this.urlBuilder.buildCsmEventsUrl());b.clear()},a}(L),ea=function(){function c(){}return c.tryInsertPlaceholder=function(a,b,e){var m,J=document.getElementById(a);return null===J?!1:(J.appendChild(this.createPlaceholder()),!(b||!this.isVisible(J))||(this.removePlaceholder(a,e),null!==(b=J.parentElement)&&(m=this.createClone(J),b.insertBefore(m,J),m.appendChild(this.createPlaceholder()),
this.isVisible(m)?(e[a]=m,!0):(b.removeChild(m),!1))))},c.isVisible=function(a){return 0!==a.offsetWidth&&0!==a.offsetHeight&&0!==a.getClientRects().length},c.createClone=function(a){var b=a.cloneNode(!1);return b.id=this.generateRandomId(),b.className="","none"===b.style.display&&b.style.removeProperty("display"),"SPAN"===b.tagName&&(b.style.display="block"),a.style.display="none",b},c.generateRandomId=function(){for(var a="",b=0;20>b;b++)a+="1234567890abcdefghijklmnopqrstuvwxyz".charAt(Math.floor(36*
Math.random()));return a},c.createPlaceholder=function(){var a=document.createElement("div");return a.style.width="1px",a.style.height="1px",a.style.display="block",a.className=c.PLACEHOLDER_NAME,a},c.removePlaceholder=function(a,b){b=b[a];void 0!==b&&null!==b.parentNode&&b.parentNode.removeChild(b);b=document.getElementById(a);if(null!==b)for(a=0,b=b.getElementsByClassName(c.PLACEHOLDER_NAME);a<b.length;a++){var e=b[a];null!==e.parentNode&&e.parentNode.removeChild(e)}},c.insertAdIFrame=function(a,
b){b=b[a];if(void 0===b&&(b=document.getElementById(a),null===b))return null;for(a=b.getElementsByClassName(c.PLACEHOLDER_NAME);0<a.length;){a=a[0];b=0;for(var e=a.childNodes;b<e.length;b++){var m=e[b];null!==m.parentNode&&m.parentNode.removeChild(m)}b=this.createAdIFrame();return a.appendChild(b),a.style.width="",a.style.height="",a.style.display="",b}return null},c.createAdIFrame=function(){var a=document.createElement("iframe");return a.scrolling="no",a.marginWidth="0",a.marginHeight="0",a.frameBorder=
"0",a.style.border="0",a.style.verticalAlign="bottom",a},c.removePlaceholders=function(a,b,e){for(var m=0;m<a.length;m++){var J=a[m].impId;-1===b.indexOf(J)&&c.removePlaceholder(J,e)}},c.tryInsertPlaceholders=function(a,b,e){for(var m=[],J=0;J<a.length;J++){var P=a[J];c.tryInsertPlaceholder(P.impId,b,e)&&m.push(P)}return m},c.PLACEHOLDER_NAME="criteo_placeholder",c}(),ia=function(){function c(a,b,e,m,J,P,ka,ra,ta,ya,Da,Ja,za,Ma,Ha,Ra,La,Ga,cb,ib,jb,$a){this.slots=a;this.context=b;this.urlBuilder=
e;this.profileId=m;this.integrationMode=J||aa.Unspecified;this.networkId=P;this.adapterVersion=ka;this.privacyWrapper=ra;this.wrapperVersion=ta;this.viewportComputer=ya;this.adapterTimeout=Da;this.clientRequestId=Ja;this.userIds=za;this.auctionStart=Ma;this.source=Ha;this.regs=Ra;this.bcat=La;this.badv=Ga;this.bapp=cb;this.fledgeEnabled=ib||!1;this.publisherId=jb;this.accountId=$a}return c.prototype.isValid=function(){return 0<this.slots.length},c.prototype.getRequest=function(){for(var a=[],b=0,
e=this.slots;b<e.length;b++){var m,J=e[b],P={slotid:J.slotId,impid:J.impId};if(void 0!==J.zoneId&&(P.zoneid=J.zoneId),void 0===J.nativeCallback&&!J.native||(P.native=!0),void 0!==J.transactionId&&(P.transactionid=J.transactionId),void 0!==J.publisherSubId&&(P.publishersubid=J.publisherSubId),void 0!==J.sizes){for(var ka=[],ra=0,ta=J.sizes;ra<ta.length;ra++){var ya=ta[ra];ka.push(ya.width+"x"+ya.height)}P.sizes=ka}void 0!==J.video&&(m={context:J.video.context,playersizes:this.parsePlayerSizes(J.video.playersize),
mimes:J.video.mimes,protocols:J.video.protocols,maxduration:J.video.maxduration,api:J.video.api,skip:J.video.skip,placement:J.video.placement,playbackmethod:J.video.playbackmethod,minduration:J.video.minduration,startdelay:J.video.startdelay,plcmt:J.video.plcmt,w:J.video.w,h:J.video.h,linearity:J.video.linearity,skipmin:J.video.skipmin,skipafter:J.video.skipafter,minbitrate:J.video.minbitrate,maxbitrate:J.video.maxbitrate,delivery:J.video.delivery,pos:J.video.pos,playbackend:J.video.playbackend,adPodDurationSec:J.video.adPodDurationSec,
durationRangeSec:J.video.durationRangeSec},P.video=m);void 0!==this.viewportComputer&&void 0!==(m=this.viewportComputer.getSlotPosition(J))&&(P.position={top:m.top,left:m.left});void 0!==J.ext&&(P.ext=J.ext);void 0!==J.rwdd&&(P.rwdd=J.rwdd);!this.fledgeEnabled&&null!=(J=P.ext)&&J.ae&&delete P.ext.ae;a.push(P)}b=h(h({},this.context.getUser()),{ceh:this.context.ceh,uspOptout:this.context.ccpaOptout});e=this.context.getSite();m=this.context.getApp();J=this.context.getDevice();e=(void 0!==this.publisherId&&
(void 0!==e?(e.publisher=e.publisher||{},e.publisher.id=this.publisherId):void 0!==m?(m.publisher=m.publisher||{},m.publisher.id=this.publisherId):e={publisher:{id:this.publisherId}}),this.context.getUserExtWithContextualData(),this.context.getPublisherExt(),{publisher:{url:this.context.highestAccessibleUrl},slots:a,user:b,site:e,bcat:this.bcat,badv:this.badv,bapp:this.bapp,app:m,device:J});return void 0!==this.networkId&&(e.publisher.networkid=this.networkId),void 0!==this.accountId&&(e.publisher.id=
this.accountId),this.privacyWrapper&&(this.privacyWrapper.gdprConsent&&(e.gdprConsent=this.privacyWrapper.gdprConsent),this.privacyWrapper.ccpaIabConsent&&(b.uspIab=this.privacyWrapper.ccpaIabConsent.uspString),this.privacyWrapper.gppConsent)&&(void 0===this.regs&&(this.regs={}),this.regs.gpp=this.privacyWrapper.gppConsent.gpp,this.regs.gpp_sid=this.privacyWrapper.gppConsent.gppSid),void 0!==this.viewportComputer&&(m=this.viewportComputer.getViewport(),e.viewport={width:m.width,height:m.height,scrollTop:m.scrollTop,
scrollLeft:m.scrollLeft}),void 0!==this.adapterTimeout&&(e.tmax=this.adapterTimeout),void 0!==this.auctionStart&&(e.auctionStart=this.auctionStart),void 0!==this.clientRequestId&&(e.id=this.clientRequestId),void 0!==this.userIds&&(e.eids=this.userIds),void 0!==this.source&&(e.source=this.source),void 0===this.regs||void 0===this.regs.coppa&&void 0===this.regs.gpp&&void 0===this.regs.gpp_sid||(e.regs={coppa:this.regs.coppa,gpp:this.regs.gpp,gpp_sid:this.regs.gpp_sid}),e},c.parsePlayerSize=function(a){return a[0]+
"x"+a[1]},c.prototype.parsePlayerSizes=function(a){return a&&(Array.isArray(a[0])?a.map(function(b){return c.parsePlayerSize(b)}):[c.parsePlayerSize(a)])},c.prototype.getUrl=function(){return this.urlBuilder.buildUrl(this.profileId,this.context,this.integrationMode,this.adapterVersion,this.wrapperVersion)},c}(),qa=function(c,a,b,e,m,J,P,ka,ra,ta,ya,Da){this.slotId=null!=Da?Da:d().replace(/-/g,"");this.impId=c;this.zoneId=a;this.native=b;this.nativeCallback=e;this.transactionId=m;this.sizes=J;this.publisherSubId=
P;this.mediaTypes=ka;this.video=ra;this.ext=ta;this.rwdd=ya},Y=function(c,a,b,e,m,J,P,ka,ra,ta,ya,Da,Ja,za,Ma,Ha,Ra,La,Ga,cb,ib,jb,$a,kb,db){this.context=c;this.playersize=a;this.mimes=b;this.protocols=e;this.maxduration=m;this.api=J;this.skip=P;this.placement=ka;this.playbackmethod=ra;this.minduration=ta;this.startdelay=ya;this.videoCallback=Da;this.plcmt=Ja;this.w=za;this.h=Ma;this.linearity=Ha;this.skipmin=Ra;this.skipafter=La;this.minbitrate=Ga;this.maxbitrate=cb;this.delivery=ib;this.pos=jb;
this.playbackend=$a;this.adPodDurationSec=kb;this.durationRangeSec=db},x=function(){function c(a){(a=void 0===a?!0:a)&&window.performance&&window.performance.now?this.now=window.performance.now.bind(window.performance):Date.now?this.now=Date.now:this.now=function(){return(new Date).getTime()}}return c.CreateRunning=function(){var a=new c;return a.start(),a},c.CreateWithStartTime=function(a){var b=new c(!1);return b.startTime=a,b},c.TimeSincePageLoad=function(){if(window.performance){if(window.performance.now)return window.performance.now();
if(window.performance.timing&&window.performance.timing.navigationStart)return(new Date).getTime()-performance.timing.navigationStart}return 0},c.prototype.start=function(){this.startTime=this.now()},c.prototype.elapsed=function(){return this.now()-this.startTime},c}(),E=function(){function c(a,b,e){this.builder=a;this.timer=void 0!==b?x.CreateWithStartTime(b):x.CreateRunning();a=this.timer.elapsed();this.builder.withAdapterStartElapsed(a);void 0!==e&&this.builder.withAdapterTimeout(e)}return c.prototype.sendRequest=
function(a){this.url=a;this.sendTime=x.CreateRunning();this.builder.withCdbCallStartElapsed(this.timer.elapsed())},c.prototype.requestReceived=function(a){void 0===a&&(a=!1);var b=this.builder,e=b.withElapsed;a:{var m=this.url;if(window.performance&&window.performance.getEntries)for(var J=window.performance.getEntries(),P=J.length-1;0<=P;--P){var ka=J[P];if(ka.name===m&&ka.duration){m=Math.round(ka.duration);break a}}m=void 0}e.call(b,m||this.sendTime.elapsed());this.builder.withCdbCallEndElapsed(this.timer.elapsed());
this.builder.withIsTimeout(a)},c.prototype.finish=function(){this.builder.withAdapterEndElapsed(this.timer.elapsed());var a=c.getLastCdbTiming();void 0!==a&&(this.builder.withTimeToFirstByte(c.computeTimeToFirstByte(a)),this.builder.withConnectionEstablishmentTime(c.computeConnectionEstablishmentTime(a)),this.builder.withDomainLookupTime(c.computeDomainLookupTime(a)))},c.getLastCdbTiming=function(){var a;return void 0!==window.performance&&void 0!==window.performance.getEntriesByType&&"function"==
typeof window.performance.getEntriesByType&&void 0!==(a=window.performance.getEntriesByType("resource"))&&void 0!==(a=a.filter(function(b){return 0<=b.name.indexOf("cdb")}))&&0<a.length?a[a.length-1]:void 0},c.computeTimeToFirstByte=function(a){var b=a.responseStart;a=a.requestStart;if(void 0!==b&&void 0!==a)return b-a},c.computeConnectionEstablishmentTime=function(a){a=a.connectEnd-a.connectStart;return isNaN(a)?void 0:a},c.computeDomainLookupTime=function(a){a=a.domainLookupEnd-a.domainLookupStart;
return isNaN(a)?void 0:a},c}(),Q=function(){function c(a,b){this.width=a;this.height=b}return c.prototype.toString=function(){return"".concat(this.width,"x").concat(this.height)},c}(),k=function(c,a){this.top=c;this.left=a},S=function(c,a,b,e){this.width=c;this.height=a;this.scrollTop=b;this.scrollLeft=e},N=function(){function c(){}return c.getHighestAccessibleWindow=function(a){var b=!1;try{for(;a.parent.document!==a.document;){if(!a.parent.document){b=!0;break}a=a.parent}}catch(e){b=!0}return{topFrame:a,
err:b}},c.getHighestAccessibleUrl=function(a){var b,e=a.topFrame;if(!a.err)return e.location.href;try{var m=null==(b=e.top)?void 0:b.location.href;if(m)return m}catch(P){}try{var J=e.location.ancestorOrigins;if(J)return J[J.length-1]}catch(P){}return e.document.referrer},c.inIframe=function(){try{return window.self!==window.top}catch(a){return!0}},c}(),W=function(){function c(){}return c.prototype.getViewport=function(){var a=N.getHighestAccessibleWindow(window).topFrame,b=a.document,e=g$.cwiw;a=
g$.cwih;var m=b.documentElement.scrollTop||b.body&&b.body.scrollTop||0;b=b.documentElement.scrollLeft||b.body&&b.body.scrollLeft||0;return new S(e,a,m,b)},c.prototype.getSlotPosition=function(a){a=a.impId;a=document.getElementById(a);if(null!==a)return a=a.getBoundingClientRect(),new k(a.top,a.left)},c}(),pa=function(){function c(a,b){this.EXPIRE_SUFFIX="_expires";this.CHECK_STORAGE_KEY="criteo_localstorage_check";a:{try{var e=(a||window).localStorage;break a}catch(m){}e=void 0}this.localStorage=
e;this.localStorageEnabled=this.checkLocalStorage(b)}return c.prototype.checkLocalStorage=function(a){if(!this.localStorage)return!1;var b=this.CHECK_STORAGE_KEY;try{return this.checkTcfPurposeOne(a)?(this.localStorage.setItem(b,b),this.localStorage.removeItem(b),!0):!1}catch(e){return!1}},c.prototype.checkTcfPurposeOne=function(a){return!(a&&a.gdprConsent&&a.gdprConsent.purposes)||!0===a.gdprConsent.purposes[1]},c.prototype.removeItem=function(a){this.localStorageEnabled&&(this.localStorage.removeItem(a),
this.localStorage.removeItem(a+this.EXPIRE_SUFFIX))},c.prototype.getItem=function(a,b){var e,m;return this.localStorageEnabled?(e=(new Date).getTime(),-1!==(m=(m=this.localStorage.getItem(a+this.EXPIRE_SUFFIX))?parseInt(m,10):-1)&&m<e||b&&(-1===m||b<m-e)?(this.removeItem(a),null):this.localStorage.getItem(a)):null},c.prototype.setItem=function(a,b,e){if(this.localStorageEnabled)try{var m;this.localStorage.setItem(a,b);e&&(m=(new Date).getTime()+e,this.localStorage.setItem(a+this.EXPIRE_SUFFIX,m.toString()))}catch(J){}},
c.prototype.getAllItemsByPrefix=function(a){var b=[];if(this.localStorageEnabled)for(var e in localStorage)0===e.indexOf(a)&&b.push(e);return b},c}(),oa=function(){function c(a,b,e,m){void 0===m&&(m=!0);this.url=a;this.data=b;this.contentType=e;this.withCredentials=m}return c.prototype.send=function(a,b,e,m){var J=void 0!==this.data?"POST":"GET",P=this.getXMLHttpRequest(J,a,b,e,m);void 0!==P?P.send(this.data):void 0!==(P=this.getXDomainRequest(J,a,b,e,m))&&P.send(this.data)},c.prototype.getXMLHttpRequest=
function(a,b,e,m,J){var P=new XMLHttpRequest;if("withCredentials"in P)return P.open(a,this.url,!0),P.timeout=J||c.LOCAL_PASSBACK_TIMEOUT,this.contentType?P.setRequestHeader("Content-type",this.contentType):"POST"===a&&P.setRequestHeader("Content-type","application/x-www-form-urlencoded"),P.withCredentials=this.withCredentials,P.onload=function(){4===P.readyState&&200===P.status?b(P.responseText):e(P.readyState,P.status)},P.onerror=function(){e(void 0,void 0)},m&&(P.ontimeout=m),P},c.prototype.getXDomainRequest=
function(a,b,e,m,J){var P;if("undefined"!=typeof XDomainRequest)return(P=new XDomainRequest).timeout=J||c.LOCAL_PASSBACK_TIMEOUT,P.open(a,this.url),P.onload=function(){void 0!==P.responseText?b(P.responseText):e(void 0,void 0)},P.onerror&&(P.onerror=function(){e(void 0,void 0)}),P.ontimeout&&m&&(P.ontimeout=m),P},c.LOCAL_PASSBACK_TIMEOUT=3E4,c}(),xa=function(){function c(a,b,e){void 0===e&&(e=!1);this.pixelSyncEndpoint="https://ssp-sync.criteo.com/user-sync/pixels";this.pixelSyncTimeout=2E3;this.errorReporter=
b;this.onPixelsRetrieved=a;this.debug=e}return c.prototype.retrievePixels=function(a,b){var e=this;(new oa(this.getUserSyncUrl(a,b))).send(function(m){m&&((m=c.parseUserSyncResponse(m))?e.onPixelsRetrieved(m):e.errorReporter.log("Error","Unable to parse response from user sync"))},function(m,J){},function(){},this.pixelSyncTimeout)},c.prototype.getUserSyncUrl=function(a,b){var e=null==a?void 0:a.gdprConsent,m=null==a?void 0:a.ccpaIabConsent;a=null==a?void 0:a.gppConsent;var J=[];return null!=e&&e.consentData&&
J.push("gdpr=".concat(e.consentData)),null!=e&&e.gdprApplies&&J.push("gdprapplies=".concat(e.gdprApplies)),null!=m&&m.uspString&&J.push("ccpa=".concat(m.uspString)),null!=a&&a.gpp&&J.push("gpp=".concat(a.gpp)),null!=a&&a.gppSid&&a.gppSid.forEach(function(P){J.push("gpp_sid=".concat(P))}),null!=b&&b.country_code&&J.push("countrycode=".concat(b.country_code)),this.debug&&J.push("debug=1"),this.pixelSyncEndpoint+(J.length?"?"+J.join("&"):"")},c.parseUserSyncResponse=function(a){if(a=r(a))return"pixels"in
a?Array.isArray(a.pixels)?a.pixels=a.pixels.filter(function(b){try{return new URL(b),!0}catch(e){return!1}}):a.pixels=[]:a.pixels=[],a},c}(),Fa=function(){function c(){}return c.execUserSync=function(a,b,e,m){(new xa(c.appendUserSyncPixels,a,void 0===m?!1:m)).retrievePixels(b,e)},c.getOrCreateTagContainer=function(){var a=document.getElementById(c.tagElementName);return a||((a=document.createElement("div")).setAttribute("id",c.tagElementName),a.style.display="none",document.body.appendChild(a),a)},
c.appendUserSyncPixels=function(a){if(a.pixels.length){var b=c.getOrCreateTagContainer(),e=0;for(a=a.pixels;e<a.length;e++){var m=a[e],J=new Image;J.src=m;J.alt="";b.appendChild(J)}}},c.tagElementName="criteoUserSyncTagsContainer",c}(),Ia=function(c,a,b){this.coppa=c;this.gpp=a;this.gpp_sid=b},Ba,Oa=(!function(c){c.Native="native";c.Banner="banner";c.Video="video"}(Ba=Ba||{}),function(){function c(){}return c.prototype.interpretResponse=function(a,b){return[]},c.prototype.handleBidWon=function(){},
c.prototype.handleBidTimeout=function(){},c.prototype.handleSetTargeting=function(){},c}()),fa=function(){function c(a,b,e,m,J,P){this.utilMethods=P;var ka,ra;P=window.criteo_pubtag_prebid_149||window.criteo_pubtag;var ta=(this.clientRequestId=d(),this.privacies={},m.gdprConsent&&(this.privacies.gdprConsent={},void 0!==m.gdprConsent.consentString&&(this.privacies.gdprConsent.consentData=m.gdprConsent.consentString),void 0!==m.gdprConsent.gdprApplies&&(this.privacies.gdprConsent.gdprApplies=!!m.gdprConsent.gdprApplies),
this.privacies.gdprConsent.version=m.gdprConsent.apiVersion),this.privacies.ccpaIabConsent={uspString:m.uspConsent},this.regs=new Ia(m.coppa,null==(ta=null==(ta=m.ortb2)?void 0:ta.regs)?void 0:ta.gpp,null==(ta=null==(ta=m.ortb2)?void 0:ta.regs)?void 0:ta.gpp_sid),new pa(void 0,this.privacies)),ya=(this.timeout=y(m.timeout),this.metricsManager=new Z(ta),this.metricBuilder=new ha(this.metricsManager),this.timer=new E(this.metricBuilder,m.start,this.timeout),new W);ta=(this.adBlockFlagManager=u.create(ta),
this.adBlockFlagManager.adBlockFlagEnabled()&&(a=280,P.context.isAdBlocked=!0),this.auctionId=m.auctionId,this.bidRequests=e,(window.Criteo_prebid_149||window.Criteo).prebid_adapters=(window.Criteo_prebid_149||window.Criteo).prebid_adapters||{},((window.Criteo_prebid_149||window.Criteo).prebid_adapters[this.auctionId]=this).slots=[],!0);for(var Da=0,Ja=e;Da<Ja.length;Da++){(Ga=Ja[Da]).bidId&&((window.Criteo_prebid_149||window.Criteo).prebid_adapters[Ga.bidId]=this);var za=void 0,Ma=(Ga.fpd&&Ga.fpd.context&&
(za=Ga.fpd.context),null!=(Ma=Ga.ortb2Imp)&&Ma.ext&&(null!=za&&za.data&&Ga.ortb2Imp.ext.data&&(za.data=h(h({},za.data),Ga.ortb2Imp.ext.data)),za=h(h({},Ga.ortb2Imp.ext),za)),Ga.params.ext&&(null!=za&&za.data&&Ga.params.ext.data&&(za.data=h(h({},za.data),Ga.params.ext.data)),za=h(h({},Ga.params.ext),za)),null!=(Ma=Ga.nativeOrtbRequest)&&Ma.assets&&(za=h({assets:Ga.nativeOrtbRequest.assets},za)),ta=this.hasValidNativeParams(Ga),c.isPrebid3OrAbove(J));za=this.enrichSlotWithFloors(za,Ga);this.slots.push(new qa(Ga.adUnitCode,
Ga.params.zoneId,void 0!==Ga.params.nativeCallback||void 0!==(null==(ka=null==Ga?void 0:Ga.mediaTypes)?void 0:ka.native),Ga.params.nativeCallback,Ga.transactionId,this.getSizes(Ga,Ma),Ga.params.publisherSubId,Ga.mediaTypes,c.getVideoInfoFromBidRequest(Ga),za,null==(ka=Ga.ortb2Imp)?void 0:ka.rwdd,Ga.bidId));var Ha=Ga.params.networkId||Ha;var Ra=Ga.schain||Ra;(window.criteo_pubtag_prebid_149||window.criteo_pubtag).context.ceh=m.ceh;Ga.params.integrationMode&&(ra="amp"!==Ga.params.integrationMode.toLowerCase()?
aa.Unspecified:aa.AMP)}ta;var La,Ga;ta=new ja(!1);e=(0<e.length&&(Ga=e[0]).userIdAsEids&&0<Ga.userIdAsEids.length&&(La=Ga.userIdAsEids),null!=(e=m.ortb2)&&e.user&&P.context.setUser(m.ortb2.user),null!=(e=m.ortb2)&&e.site&&P.context.setSite(m.ortb2.site),null!=(e=m.ortb2)&&e.app&&P.context.setApp(m.ortb2.app),null!=(e=m.ortb2)&&e.device&&P.context.setDevice(m.ortb2.device),{tid:null==(e=null==(e=m.ortb2)?void 0:e.source)?void 0:e.tid,ext:Ra?{schain:Ra}:void 0});this.requestBuilder=new ia(this.slots,
P.context,ta,a,ra,Ha,b,{ccpaIabConsent:this.privacies.ccpaIabConsent,gdprConsent:this.privacies.gdprConsent},J,ya,this.timeout,this.clientRequestId,La,m.start,e,this.regs,null==(P=m.ortb2)?void 0:P.bcat,null==(ta=m.ortb2)?void 0:ta.badv,null==(a=m.ortb2)?void 0:a.bapp,m.fledgeEnabled);this.url=this.requestBuilder.getUrl();this.fledgeEnabled=!!m.fledgeEnabled}return c.prototype.hasValidNativeParams=function(a){return!(a.nativeParams&&(a.nativeParams.image&&(!0!==a.nativeParams.image.sendId||!0===a.nativeParams.image.sendTargetingKeys)||
a.nativeParams.icon&&(!0!==a.nativeParams.icon.sendId||!0===a.nativeParams.icon.sendTargetingKeys)||a.nativeParams.clickUrl&&(!0!==a.nativeParams.clickUrl.sendId||!0===a.nativeParams.clickUrl.sendTargetingKeys)||a.nativeParams.displayUrl&&(!0!==a.nativeParams.displayUrl.sendId||!0===a.nativeParams.displayUrl.sendTargetingKeys)||a.nativeParams.privacyLink&&(!0!==a.nativeParams.privacyLink.sendId||!0===a.nativeParams.privacyLink.sendTargetingKeys)||a.nativeParams.privacyIcon&&(!0!==a.nativeParams.privacyIcon.sendId||
!0===a.nativeParams.privacyIcon.sendTargetingKeys)))},c.prototype.buildCdbUrl=function(){return this.url},c.prototype.buildCdbRequest=function(){var a;if(this.requestBuilder.isValid())return a=Math.min((this.timeout||5E3)+1E3,5E3),this.adBlockFlagManager.setAdBlockFlagTimer(a),this.timer.sendRequest(this.url),this.requestBuilder.getRequest()},c.GetAllAdapters=function(){return(window.Criteo_prebid_149||window.Criteo).prebid_adapters},c.GetAdapter=function(a){if("string"==typeof a)return new Oa;for(var b=
c.GetAllAdapters(),e=0,m=a.bidRequests;e<m.length;e++){var J=m[e];if(null!=J&&J.bidId&&b&&J.bidId in b)return b[J.bidId]}a=a.bidRequests[0].auctionId;return b&&a in b?b[a]:void 0},c.isPrebid3OrAbove=function(a){return null!=a&&(a=parseInt(a,10),!isNaN(a))&&3<=a},c.createCriteoNativeAdWithCallback=function(a,b,e){a=I(a);return window.criteo_prebid_native_slots=window.criteo_prebid_native_slots||{},window.criteo_prebid_native_slots[a]={callback:e,payload:b},'<script type="text/javascript">\n            var win = window;\n            for (var i = 0; i < 10; ++i) {\n                win = win.parent;\n                if (win.criteo_prebid_native_slots) {\n                    var responseSlot = win.criteo_prebid_native_slots["'.concat(a,
'"];\n                    responseSlot.callback(responseSlot.payload);\n                    break;\n                }\n            }\n        \x3c/script>')},c.createPrebidNativeAd=function(a){return{sendTargetingKeys:!1,title:a.products[0].title,body:a.products[0].description,sponsoredBy:a.advertiser.description,icon:a.advertiser.logo,image:a.products[0].image,clickUrl:a.products[0].click_url,privacyLink:a.privacy.optout_click_url,privacyIcon:a.privacy.optout_image_url,cta:a.products[0].call_to_action,
price:a.products[0].price,impressionTrackers:a.impression_pixels.map(function(b){return b.url})}},c.prototype.getBidRequestForSlot=function(a){for(var b,e,m=0,J=this.bidRequests;m<J.length;m++){var P=J[m];if(P.adUnitCode===a.impid){if(P.params.zoneId&&parseInt(P.params.zoneId,10)===a.zoneid)return P;if(a.native){if(null!=(b=P.mediaTypes)&&b.native||P.nativeParams)return P}else if(a.video){if(null!=(b=P.mediaTypes)&&b.video)return P}else if(null!=(e=P.mediaTypes)&&e.banner)return P}}},c.prototype.getSlotForAdUnitCode=
function(a){for(var b=0,e=this.slots;b<e.length;b++){var m=e[b];if(m&&m.impId===a)return m}},c.getVideoInfoFromBidRequest=function(a){var b;if(c.hasVideoMediaType(a))return new Y(a.mediaTypes.video.context,a.mediaTypes.video.playerSize,a.mediaTypes.video.mimes,a.mediaTypes.video.protocols,a.mediaTypes.video.maxduration,a.mediaTypes.video.api,a.mediaTypes.video.skip||(null==(b=a.params.video)?void 0:b.skip)||0,a.mediaTypes.video.placement||(null==(b=a.params.video)?void 0:b.placement),a.mediaTypes.video.playbackmethod||
(null==(b=a.params.video)?void 0:b.playbackmethod),a.mediaTypes.video.minduration||(null==(b=a.params.video)?void 0:b.minduration),a.mediaTypes.video.startdelay||(null==(b=a.params.video)?void 0:b.startdelay)||0,void 0,a.mediaTypes.video.plcmt,a.mediaTypes.video.w,a.mediaTypes.video.h,a.mediaTypes.video.linearity,a.mediaTypes.video.skipmin,a.mediaTypes.video.skipafter,a.mediaTypes.video.minbitrate,a.mediaTypes.video.maxbitrate,a.mediaTypes.video.delivery,a.mediaTypes.video.pos,a.mediaTypes.video.playbackend,
a.mediaTypes.video.adPodDurationSec,a.mediaTypes.video.durationRangeSec)},c.hasVideoMediaType=function(a){return 0<(null==(a=null==(a=null==(a=null==a?void 0:a.mediaTypes)?void 0:a.video)?void 0:a.playerSize)?void 0:a.length)},c.prototype.interpretResponse=function(a,b){var e=this;b=window.criteo_pubtag_prebid_149||window.criteo_pubtag;var m=(this.timer.requestReceived(),this.adBlockFlagManager.disableAdBlockFlagTimer(),G(a)),J={};if(void 0!==m.slots)for(var P=0,ka=m.slots;P<ka.length;P++)J[(Ha=ka[P]).imp_id]=
Ha;var ra,ta;P=[];var ya=[];if(a.slots&&Array.isArray(a.slots)){ka=0;for(var Da=a.slots;ka<Da.length;ka++){var Ja,za,Ma,Ha=Da[ka],Ra=this.getBidRequestForSlot(Ha);Ra?!0===b.context.isAdBlocked?void 0!==(za=O(Ha.slotid,Ha.impid,Ha.cpm,Ha.width,Ha.height,Ha.zoneid,Ra.params.nativeCallback,Ha.native,Ha.displayurl,Ha.creative,Ha.deal,null==(za=J[Ha.slotid])?void 0:za.enable_safeframe))&&ea.tryInsertPlaceholder(Ra.adUnitCode,!0,b.context.cloneByImpressionId)&&null!=(Ja=ea.insertAdIFrame(Ra.adUnitCode,
b.context.cloneByImpressionId))&&(Ja=new g(Ja.contentDocument),za.GenerateEvent(Ja).eval(window.criteo_pubtag_prebid_149)):(Ja=Ra.bidId,Ma=Ha.ttl||J[Ha.slotid]&&J[Ha.slotid].ttl||60,za={requestId:Ja,cpm:Ha.cpm,currency:Ha.currency,netRevenue:!0,ttl:Ma,creativeId:Ha.creativecode||Ja,width:Ha.width,height:Ha.height,dealId:Ha.deal},null!=(Ma=null==(Ma=a.ext)?void 0:Ma.paf)&&Ma.transmission&&null!=(Ma=null==(Ma=Ha.ext)?void 0:Ma.paf)&&Ma.content_id&&(Ma={content_id:Ha.ext.paf.content_id,transmission:a.ext.paf.transmission},
za.meta=h(h({},za.meta),{paf:Ma})),null!=(Ma=null==(Ma=Ha.ext)?void 0:Ma.meta)&&Ma.networkName&&(za.meta=h(h({},za.meta),{networkName:Ha.ext.meta.networkName})),Ha.adomain&&(za.meta=h(h({},za.meta),{advertiserDomains:Ha.adomain})),Ha.native?Ra.params.nativeCallback?za.ad=c.createCriteoNativeAdWithCallback(Ja,Ha.native,Ra.params.nativeCallback):(za.native=c.createPrebidNativeAd(Ha.native),za.mediaType=Ba.Native):Ha.video?(za.vastUrl=Ha.displayurl,za.mediaType=Ba.Video,"outstream"===(null==(Ra=null==
(Ma=Ra.mediaTypes)?void 0:Ma.video)?void 0:Ra.context)&&(null!=(Ma=this.utilMethods)&&Ma.createOutstreamVideoRenderer&&(za.renderer=null==(Ra=this.utilMethods)?void 0:Ra.createOutstreamVideoRenderer(Ha)),za.renderer=null!=(Ma=za.renderer)?Ma:this.createOutstreamVideoRenderer(Ha))):za.ad=Ha.creative,P.push(za)):null}}return this.fledgeEnabled&&a.ext&&Array.isArray(null==(m=a.ext)?void 0:m.igbid)&&(ra=a.ext.seller||"https://grid-mercury.criteo.com",ta=a.ext.sellerTimeout||500,a.ext.igbid.forEach(function(La){var Ga=
{};La.igbuyer.forEach(function(mb){Ga[mb.origin]=mb.buyerdata});for(var cb=0,ib=e.bidRequests;cb<ib.length;cb++){var jb=ib[cb];if(jb.bidId===La.impid){var $a=jb;break}}var kb,db=(null==(db=a.ext)?void 0:db.sellerSignals)||{};!db.floor&&null!=$a&&$a.params.bidFloor&&(db.floor=null==$a?void 0:$a.params.bidFloor);!db.sellerCurrency&&null!=$a&&$a.params.bidFloorCur&&(db.sellerCurrency=null==$a?void 0:$a.params.bidFloorCur);void 0!==(null==(kb=null==a?void 0:a.ext)?void 0:kb.sellerSignalsPerImp)&&void 0!==
(kb=a.ext.sellerSignalsPerImp[La.impid])&&(db=h(h({},db),kb));ya.push({bidId:La.impid,config:{seller:ra,sellerSignals:db,sellerTimeout:ta,perBuyerSignals:Ga,auctionSignals:{},decisionLogicUrl:"https://grid-mercury.criteo.com/fledge/decision",interestGroupBuyers:Object.keys(Ga)}})})),this.timer.finish(),this.metricsManager.sendEvents(this.metricBuilder,this.clientRequestId),!0===a.user_sync&&Fa.execUserSync(b.context.remoteLogging,this.privacies,a),ya.length?{bids:P,fledgeAuctionConfigs:ya}:P},c.prototype.handleBidWon=
function(){},c.prototype.handleBidTimeout=function(){this.timer.requestReceived(!0);this.timer.finish();this.metricsManager.sendEvents(this.metricBuilder,this.clientRequestId)},c.prototype.handleSetTargeting=function(){},c.prototype.onDataDeletionRequest=function(a){a=(window.criteo_pubtag_prebid_149||window.criteo_pubtag).context;var b=a.bundle;a.identityHelper.deleteCriteoUid();b&&fetch("https://privacy.criteo.com/api/privacy/datadeletionrequest",{method:"POST",headers:{"Content-Type":"application/json"},
body:JSON.stringify({publisherUserId:b})})},c.prototype.getBannerSizes=function(a,b){var e;return(null==(e=null==(e=a.mediaTypes)?void 0:e.banner)?void 0:e.sizes)||(b?a.sizes:[])||[]},c.prototype.getNativeSizes=function(a){return(null==(a=null==(a=null==(a=a.mediaTypes)?void 0:a.native)?void 0:a.image)?void 0:a.sizes)||[]},c.prototype.getSizes=function(a,b){b=this.getBannerSizes(a,!b).map(function(e){return new Q(e[0],e[1])});a=this.getNativeSizes(a).map(function(e){return new Q(e[0],e[1])});return b.concat(a).filter(function(e,
m,J){return J.indexOf(e)===m})},c.prototype.createOutstreamVideoRenderer=function(a){if(void 0!==a.video_callback)return{url:"#",render:function(b,e){na(a.video_callback,[{slotid:a.impid,vastUrl:a.displayurl,vastXml:a.creative,documentContext:e}])},config:{documentResolver:function(b,e,m){return null!=m?m:e}}}},c.prototype.parseSizes=function(a){try{if(a)return 2===a.length&&"number"==typeof a[0]&&"number"==typeof a[1]?[new Q(a[0],a[1])]:(a||[]).map(function(b){return new Q(b[0],b[1])})}catch(b){}return[]},
c.prototype.pickAvailableGetFloorFunc=function(a){if(a.getFloor)return a.getFloor;if(a.params.bidFloor&&a.params.bidFloorCur)try{var b=parseFloat(a.params.bidFloor);return function(e){return{currency:a.params.bidFloorCur,floor:b}}}catch(e){}},c.prototype.enrichSlotWithFloors=function(a,b){var e,m,J,P,ka,ra,ta;try{var ya={},Da=this.pickAvailableGetFloorFunc(b);void 0!==Da&&(null!=(e=b.mediaTypes)&&e.banner&&(ya.banner={},this.parseSizes(null==(J=null==(m=b.mediaTypes)?void 0:m.banner)?void 0:J.sizes).forEach(function(Ja){void 0!==
Da&&(ya.banner[Ja.toString()]=Da.call(b,{size:[Ja.width,Ja.height],mediaType:Ba.Banner}))})),null!=(P=b.mediaTypes)&&P.video&&(ya.video={},this.parseSizes(null==(ra=null==(ka=b.mediaTypes)?void 0:ka.video)?void 0:ra.playerSize).forEach(function(Ja){void 0!==Da&&(ya.video[Ja.toString()]=Da.call(b,{size:[Ja.width,Ja.height],mediaType:Ba.Video}))})),null!=(ta=b.mediaTypes)&&ta.native&&(ya.native={},ya.native["*"]=Da.call(b,{size:"*",mediaType:Ba.Native})),Object.keys(ya).length)&&(a=h(h({},a),{floors:ya}))}catch(Ja){}return a},
c}(),X=function(){function c(a,b,e){void 0===e&&(e=function(m){});this.uspapiCallbacks={};this.currentWindow=a;this.timeout=b.uspApiTimeout;this.logger=e}return c.prototype.getCMPFrame=function(){for(var a,b=this.currentWindow,e=0;10>e;++e){try{b.frames.__uspapiLocator&&(a=b)}catch(m){}if(b===this.currentWindow.top)break;b=b.parent}return a},c.prototype.hasCallerFunctionInWindow=function(){return"function"==typeof this.currentWindow.__uspapi},c.prototype.readyToRetrieve=function(){return this.hasCallerFunctionInWindow()||
void 0!==this.getCMPFrame()},c.prototype.retrieveConsent=function(a){var b=this,e=!1,m=window.setTimeout(function(){e=!0;b.logger("Timeout: Unable to resolve CCPA consent after ".concat(b.timeout,"ms"));a(void 0)},this.timeout);this.executeCommand("getUSPData",1,function(J,P){e||(clearTimeout(m),P?(b.logger("CCPA consent retrieved"),b.processResponseData(J,a)):(b.logger("Error retrieving CCPA consent data from CMP"),a(void 0)))})},c.prototype.processResponseData=function(a,b){a?b(a):(this.logger("Unable to read CCPA consent data from CMP"),
b(void 0))},c.prototype.executeCommand=function(a,b,e){var m,J=this;this.hasCallerFunctionInWindow()||(this.logger("No CCPA CMP defined on current frame"),m=this.getCMPFrame(),this.currentWindow.__uspapi=function(P,ka,ra){m?(ka={__uspapiCall:{command:P,parameter:ka,callId:P=Math.random().toString(10)}},J.uspapiCallbacks[P]=ra,m.postMessage(ka,"*")):(J.logger("CCPA CMP not found in any frame"),ra({msg:"CCPA CMP not found in any frame"},!1))},this.currentWindow.addEventListener("message",function(P){(P=
"string"==typeof P.data?f(P.data):P.data)&&P.__uspapiReturn&&P.__uspapiReturn.callId&&P.__uspapiReturn.returnValue&&(P=P.__uspapiReturn,J.uspapiCallbacks)&&J.uspapiCallbacks[P.callId]&&(J.uspapiCallbacks[P.callId](P.returnValue,P.success),delete J.uspapiCallbacks[P.callId])},!1));this.currentWindow.__uspapi(a,b,e)},c.prototype.hasUserOptOut=function(a){return!(!a||!a.uspString||"1YNY"===a.uspString.toUpperCase()||"1YNN"===a.uspString.toUpperCase()||"1YN-"===a.uspString.toUpperCase()||"1-N-"===a.uspString.toUpperCase()||
"1---"===a.uspString)},c}(),la=function(){function c(a,b,e){void 0===e&&(e=function(m){});this.tcfv1ConsentProvider=a;this.tcfv2ConsentProvider=b;this.logger=e}return c.prototype.getReadyToRetrieveProvider=function(){return this.tcfv2ConsentProvider.hasCallerFunctionInFrame()?this.tcfv2ConsentProvider:this.tcfv1ConsentProvider.hasCallerFunctionInFrame()?this.tcfv1ConsentProvider:void 0!==this.tcfv2ConsentProvider.getCMPFrame()?this.tcfv2ConsentProvider:void 0!==this.tcfv1ConsentProvider.getCMPFrame()?
this.tcfv1ConsentProvider:void 0},c.prototype.retrieveConsentForPassback=function(a){var b=this.getReadyToRetrieveProvider();void 0===b&&(this.logger("No compatible GDPR privacy provider found"),a(void 0));b===this.tcfv1ConsentProvider?this.tcfv1ConsentProvider.retrieveConsentForPassback(a):b===this.tcfv2ConsentProvider&&this.tcfv2ConsentProvider.retrieveConsent(a)},c.prototype.retrieveConsent=function(a){var b=this.getReadyToRetrieveProvider();void 0===b&&(this.logger("No compatible GDPR privacy provider found"),
a(void 0));null!=b&&b.retrieveConsent(a)},c.prototype.readyToRetrieve=function(){return this.tcfv2ConsentProvider.readyToRetrieve()||this.tcfv1ConsentProvider.readyToRetrieve()},c}(),va=function(){function c(a,b,e){void 0===e&&(e=function(m){});this.cmpCallbacks={};this.currentWindow=a;this.timeout=b.tcfTimeout;this.pingTimeout=b.tcfPingTimeout;this.pingDelay=b.tcfPingDelay;this.cmpAutoDetect=b.cmpAutoDetect;this.logger=e}return c.prototype.getCMPFrame=function(){for(var a,b=this.currentWindow,e=
0;10>e;++e){try{b.frames.__cmpLocator&&(a=b)}catch(m){}if(b===this.currentWindow.top)break;b=b.parent}return a},c.prototype.hasCallerFunctionInFrame=function(){return"function"==typeof this.currentWindow.__cmp},c.prototype.readyToRetrieve=function(){return this.hasCallerFunctionInFrame()||void 0!==this.getCMPFrame()},c.prototype.pingWithTimeout=function(a,b,e,m){var J=this;return window.setTimeout(function(){var P=window.setTimeout(function(){var ka="Timeout: Unable to get ping return after ".concat(b,
"ms");J.logger(ka);clearTimeout(a);m()},b);J.executeCommand("ping",null,function(ka,ra){clearTimeout(P);ra?(J.logger("GDPR CMP ping returned"),!0!==ka.cmpLoaded&&(J.logger("GDPR ping returned cmpLoaded which is not true"),clearTimeout(a),m()),J.logger("GDPR ping returned cmpLoaded which is true")):(J.logger("Error sending ping to GDPR CMP"),clearTimeout(a),m())})},e)},c.prototype.retrieveConsent=function(a){this.executeRetrieveConsent("getConsentData",null,a)},c.prototype.retrieveConsentForPassback=
function(a){this.executeRetrieveConsent("getVendorConsents",[91],a)},c.prototype.executeRetrieveConsent=function(a,b,e){var m=this,J=!1,P=window.setTimeout(function(){J=!0;m.logger("Timeout: Unable to resolve GDPR consent after ".concat(m.timeout,"ms"));e(void 0)},this.timeout),ka=!1!==this.cmpAutoDetect?this.pingWithTimeout(P,this.pingTimeout,this.pingDelay,function(){J=!0;m.logger("Timeout: Unable to ping GDPR API after ".concat(m.pingTimeout,"ms"));e(void 0)}):void 0;this.executeCommand(a,b,function(ra,
ta){clearTimeout(ka);J||(clearTimeout(P),ta?(m.logger("GDPR consent retrieved"),m.processConsentData(ra,e)):(m.logger("Error retrieving GDPR consent data from CMP"),e(void 0)))})},c.prototype.processConsentData=function(a,b){var e;a?(e={},void 0!==a.consentData&&(e.consentData=a.consentData),void 0!==a.gdprApplies&&(e.gdprApplies=!!a.gdprApplies),b(e)):(this.logger("Unable to read GDPR consent data from CMP"),b(void 0))},c.prototype.executeCommand=function(a,b,e){var m,J=this;this.hasCallerFunctionInFrame()||
(this.logger("No GDPR CMP defined on current frame"),m=this.getCMPFrame(),this.currentWindow.__cmp=function(P,ka,ra){m?(ka={__cmpCall:{command:P,parameter:ka,callId:P=Math.random().toString(10)}},J.cmpCallbacks[P]=ra,m.postMessage(ka,"*")):(J.logger("GDPR CMP not found in any frame"),ra({msg:"GDPR CMP not found in any frame"},!1))},this.currentWindow.addEventListener("message",function(P){(P="string"==typeof P.data?f(P.data):P.data)&&P.__cmpReturn&&P.__cmpReturn.callId&&P.__cmpReturn.returnValue&&
(P=P.__cmpReturn,J.cmpCallbacks)&&J.cmpCallbacks[P.callId]&&(J.cmpCallbacks[P.callId](P.returnValue,P.success),delete J.cmpCallbacks[P.callId])},!1));this.currentWindow.__cmp(a,b,e)},c}(),Ea,Ka=(!function(c){c.LOADED="tcloaded";c.UI_SHOWN="cmpuishown";c.USER_ACTION_COMPLETE="useractioncomplete"}(Ea=Ea||{}),function(){function c(a,b,e){void 0===e&&(e=function(m){});this.cmpCallbacks={};this.currentWindow=a;this.timeout=b.tcfTimeout;this.pingTimeout=b.tcfPingTimeout;this.pingDelay=b.tcfPingDelay;this.cmpAutoDetect=
b.cmpAutoDetect;this.logger=e}return c.prototype.getCMPFrame=function(){for(var a,b=this.currentWindow,e=0;10>e;++e){try{b.frames.__tcfapiLocator&&(a=b)}catch(m){}if(b===this.currentWindow.top)break;b=b.parent}return a},c.prototype.hasCallerFunctionInFrame=function(){return"function"==typeof this.currentWindow.__tcfapi},c.prototype.readyToRetrieve=function(){return this.hasCallerFunctionInFrame()||void 0!==this.getCMPFrame()},c.prototype.pingWithTimeout=function(a,b,e,m){var J=this;return window.setTimeout(function(){var P=
window.setTimeout(function(){var ka="Timeout: Unable to get TCFv2 ping return after ".concat(b,"ms");J.logger(ka);clearTimeout(a);m()},b);J.executeCommand("ping",2,function(ka){clearTimeout(P);J.logger("TCFv2 CMP ping returned in ms");"error"===ka.cmpStatus?(J.logger("Error status on ping to TCFv2 CMP"),clearTimeout(a),m()):!0!==ka.cmpLoaded?(J.logger("TCFv2 ping returned cmpLoaded = false"),clearTimeout(a),m()):J.logger("TCFv2 ping returned cmpLoaded = true")})},e)},c.prototype.retrieveConsent=function(a){var b,
e,m=this,J=!1,P=window.setTimeout(function(){J=!0;e===Ea.UI_SHOWN?(m.logger("Timeout: User hasn't confirm their consent settings after ".concat(m.timeout,"ms")),a(b)):(m.logger("Timeout: Unable to resolve TCFv2 consent after ".concat(m.timeout,"ms")),a(void 0))},this.timeout),ka=!1!==this.cmpAutoDetect?this.pingWithTimeout(P,this.pingTimeout,this.pingDelay,function(){J=!0;m.logger("Timeout: Unable to ping TCFv2 API after ".concat(m.pingTimeout,"ms"));a(void 0)}):void 0;this.executeCommand("addEventListener",
2,function(ra,ta){clearTimeout(ka);J||((e=ra.eventStatus)!==Ea.UI_SHOWN&&clearTimeout(P),ta?(m.logger("TCFv2 consent retrieved in ms"),ra||(m.logger("Unable to read GDPR consent data from CMP"),a(void 0)),b=m.processResponseData(ra),e!==Ea.LOADED&&e!==Ea.USER_ACTION_COMPLETE||a(b)):(m.logger("Error retrieving TCFv2 consent data from CMP"),a(void 0)))})},c.prototype.processResponseData=function(a){var b,e={};return void 0!==a.tcString&&(e.consentData=a.tcString),void 0!==a.gdprApplies&&(e.gdprApplies=
!!a.gdprApplies),e.version=a.tcfPolicyVersion||2,e.purposes=null==(b=null==a?void 0:a.purpose)?void 0:b.consents,e.vendorConsents=null==(b=null==a?void 0:a.vendor)?void 0:b.consents,e},c.prototype.executeCommand=function(a,b,e,m){var J,P=this;this.hasCallerFunctionInFrame()||(this.logger("No TCFv2 CMP defined on current frame"),J=this.getCMPFrame(),this.currentWindow.__tcfapi=function(ka,ra,ta,ya){J?(ra={__tcfapiCall:{command:ka,version:ra,parameter:ya,callId:ka=Math.random().toString(10)}},P.cmpCallbacks[ka]=
ta,J.postMessage(ra,"*")):(P.logger("TCFv2 CMP not found in any frame"),ta({msg:"TCFv2 CMP not found in any frame"},!1))},this.currentWindow.addEventListener("message",function(ka){(ka="string"==typeof ka.data?f(ka.data):ka.data)&&ka.__tcfapiReturn&&ka.__tcfapiReturn.callId&&ka.__tcfapiReturn.returnValue&&(ka=ka.__tcfapiReturn,P.cmpCallbacks)&&P.cmpCallbacks[ka.callId]&&"function"==typeof P.cmpCallbacks[ka.callId]&&(P.cmpCallbacks[ka.callId](ka.returnValue,ka.success),ka.returnValue.eventStatus!==
Ea.UI_SHOWN)&&delete P.cmpCallbacks[ka.callId]},!1));this.currentWindow.__tcfapi(a,b,e,m)},c}()),Aa=function(){function c(a,b,e){void 0===e&&(e=function(m){});this.cmpCallbacks={};this.currentWindow=a;this.timeout=b.gppTimeout;this.pingTimeout=b.gppPingTimeout;this.pingDelay=b.gppPingDelay;this.logger=e}return c.prototype.getCMPFrame=function(){for(var a,b=this.currentWindow,e=0;10>e;++e){try{void 0!==b&&b.frames.__gppLocator&&(a=b)}catch(m){}if(b===this.currentWindow.top)break;b=b.parent}return a},
c.prototype.hasCallerFunctionInFrame=function(){return"function"==typeof this.currentWindow.__gpp},c.prototype.readyToRetrieve=function(){return this.hasCallerFunctionInFrame()||void 0!==this.getCMPFrame()},c.prototype.retrieveConsent=function(a){function b(P,ka){e.logger(ka);clearTimeout(P);m=!0;e.logger("Timeout: Unable to ping GPP after ".concat(e.pingTimeout,"ms"));a(void 0)}var e=this,m=!1,J=window.setTimeout(function(){m=!0;e.logger("Timeout: Unable to resolve GPP consent after ".concat(e.timeout,
"ms"));a(void 0)},this.timeout);window.setTimeout(function(){var P=window.setTimeout(function(){b(J,"Timeout: Unable to get GPP ping return after ".concat(e.pingTimeout,"ms"))},e.pingTimeout);e.executeCommand("ping",function(ka){clearTimeout(P);e.logger("GPP CMP ping has responsed");"1.0"===ka.gppVersion?(e.logger("Detected GPP CMP 1.0"),"error"===ka.cmpStatus?b(J,"Error status on ping to GPP CMP"):"loaded"===ka.cmpStatus?(e.logger("GPP ping returned cmpStatus = loaded"),e.executeCommand("getGPPData",
function(ra,ta){m||(clearTimeout(J),ta?(e.logger("GPP consent retrieved"),e.processResponseData(ra,a)):(e.logger("Error retrieving GPP consent data from CMP"),a(void 0)))})):b(J,"GPP ping returned cmpStatus != loaded")):"1.1"===ka.gppVersion?(e.logger("Detected GPP CMP 1.1"),"ready"===ka.signalStatus?(clearTimeout(J),e.logger("GPP consent retrieved"),e.processResponseData(ka,a)):e.executeCommand("addEventListener",function(ra,ta){m||"signalStatus"===ra.eventName&&"ready"===ra.pingData.signalStatus&&
(clearTimeout(J),e.logger("GPP consent retrieved"),e.processResponseData(ra.pingData,a))})):b(J,"Unknown GPP version "+ka.gppVersion)})},this.pingDelay)},c.prototype.processResponseData=function(a,b){var e;a?(e={},void 0!==a.gppString&&(e.gpp=a.gppString),void 0!==a.applicableSections&&(e.gppSid=a.applicableSections),b(e)):(this.logger("Unable to read GPP consent data from CMP"),b(void 0))},c.prototype.executeCommand=function(a,b,e){var m,J=this;this.hasCallerFunctionInFrame()||(this.logger("No GPP CMP defined on current frame"),
m=this.getCMPFrame(),this.currentWindow.__gpp=function(P,ka,ra){m?(ra={__gppCall:{command:P,parameter:ra,callId:P=Math.random().toString(10)}},J.cmpCallbacks[P]=ka,m.postMessage(ra,"*")):(J.logger("GPP CMP not found in any frame"),ka({msg:"GPP CMP not found in any frame"},!1))},this.currentWindow.addEventListener("message",function(P){(P="string"==typeof P.data?f(P.data):P.data)&&P.__gppReturn&&P.__gppReturn.callId&&P.__gppReturn.returnValue&&(P=P.__gppReturn,J.cmpCallbacks)&&J.cmpCallbacks[P.callId]&&
"function"==typeof J.cmpCallbacks[P.callId]&&(J.cmpCallbacks[P.callId](P.returnValue,P.success),delete J.cmpCallbacks[P.callId])},!1));this.currentWindow.__gpp(a,b,e)},c}(),Na=function(){function c(a){this.publicTopTlds="co.id co.il co.jp co.kr co.nz co.th co.uk com.au com.br com.mx com.my com.pl com.sg com.tr com.vn".split(" ");this.cookiesEnabled=this.checkTcfPurposeOne(a)}return c.prototype.checkTcfPurposeOne=function(a){return!(a&&null!=a&&a.gdprConsent&&a.gdprConsent.purposes)||!0===a.gdprConsent.purposes[1]},
c.prototype.setCookie=function(a,b,e,m,J){void 0===J&&(J=!1);var P=m||document,ka=P.location.hostname,ra=new Date;e=(ra.setTime(ra.getTime()+36E5*e),"expires="+ra.toUTCString());if(J)for(J=ka.split("."),ra=1;ra<J.length;++ra){var ta=J.slice(J.length-ra-1,J.length).join(".");if(!(-1<this.publicTopTlds.indexOf(ta)))try{this.setCookieString(a,b,e,ta,P);var ya=this.getCookie(a,m);if(ya&&ya===b)return ta}catch(Da){}}else this.setCookieString(a,b,e,void 0,P);return ka},c.prototype.deleteCookie=function(a,
b,e){this.setCookie(a,"",0,b,void 0===e?!1:e)},c.prototype.getCookie=function(a,b){if(this.cookiesEnabled){var e=0;for(b=(b||document).cookie.split(";");e<b.length;e++){var m=b[e],J=m.substr(0,m.indexOf("=")).replace(/^\s+|\s+$/g,"");m=m.substr(m.indexOf("=")+1);if(J===a)return decodeURIComponent(m)}}},c.prototype.setCookieString=function(a,b,e,m,J){this.cookiesEnabled&&(a=a+"="+encodeURIComponent(b)+";"+e+";",m&&""!==m&&(a+="domain=."+m+";"),J.cookie=a+"path=/")},c}(),Sa=function(){function c(a,
b,e,m,J){this.initialized=this.initializing=!1;this.postInitiliazeServicesCallbacks=[];this.topFrame=a||window;a=J;a={uspApiTimeout:50,tcfTimeout:1E4,tcfPingTimeout:50,tcfPingDelay:1E3,gppTimeout:1E4,gppPingTimeout:50,gppPingDelay:1E3,cmpAutoDetect:null==a?void 0:a.cmpAutoDetect};this.ccpaConsentProvider=b||new X(window,a,F.Warning);J=new va(window,a,F.Warning);b=new Ka(window,a,F.Warning);this.tcfCompatibleConsentProvider=e||new la(J,b,F.Warning);this.gppConsentProvider=m||new Aa(window,a,F.Warning);
this.initializeServices()}return c.prototype.initializeServices=function(){var a=this;this.initializing=!0;this.retrievePrivacyConsent(function(b){var e={localStorageHelper:new pa(a.topFrame,b),privacies:b,ccpaConsentProvider:a.ccpaConsentProvider,gppConsentProvider:a.gppConsentProvider,cookieHelper:new Na(b)};a.services=e;a.initialized=!0;a.initializing=!1;a.postInitiliazeServicesCallbacks.forEach(function(m){m(e)})})},c.prototype.getServicesAsync=function(a){this.initialized?a(this.services):(this.postInitiliazeServicesCallbacks.push(a),
this.initializing||this.initializeServices())},c.prototype.retrievePrivacyConsent=function(a){var b=this.tcfCompatibleConsentProvider.readyToRetrieve(),e=this.ccpaConsentProvider.readyToRetrieve(),m=this.gppConsentProvider.readyToRetrieve(),J=(b||e||m||a(void 0),[]),P=(b&&J.push(la),e&&J.push(X),m&&J.push(Aa),{});b&&this.tcfCompatibleConsentProvider.retrieveConsent(function(ka){P.gdprConsent=ka;J.splice(J.indexOf(la),1);0===J.length&&a(P)});e&&this.ccpaConsentProvider.retrieveConsent(function(ka){P.ccpaIabConsent=
ka;J.splice(J.indexOf(X),1);0===J.length&&a(P)});m&&this.gppConsentProvider.retrieveConsent(function(ka){P.gppConsent=ka;J.splice(J.indexOf(Aa),1);0===J.length&&a(P)})},c}(),ab=function(c){function a(b,e,m,J,P,ka,ra,ta,ya,Da,Ja,za,Ma,Ha,Ra){var La=c.call(this,a.NAME)||this;return La.profileId=b,La.urlBuilder=e,La.slots=m,La.callbackSuccess=J,La.callbackError=P,La.callbackTimeout=ka,La.serviceProvider=ra,La.timeout=ya,La.networkId=Da,La.integrationMode=Ja,La.adapterVersion=za,La.viewportComputer=Ma,
La.metricsManager=ta,La.publisherId=Ha,La.accountId=Ra,La.metricsManager&&(La.metricBuilder=new ha(La.metricsManager)),La}return ma(a,c),a.prototype.getMetricBuilder=function(){return this.metricBuilder},a.prototype.eval=function(b){this.evalWithTimeout(b,void 0)},a.prototype.evalWithTimeout=function(b,e){var m=this;(this.serviceProvider||new Sa).getServicesAsync(function(J){m.metricsManager||(m.metricsManager=new Z(J.localStorageHelper));m.metricBuilder||(m.metricBuilder=new ha(m.metricsManager));
m.innerEval(b,m.metricBuilder,J.privacies,e)})},a.prototype.innerEval=function(b,e,m,J){var P=this,ka=d(),ra=a.getCriteoAdapterBidRequest(),ta=a.getRequestAuctionStart(ra);J=J||y(ra&&ra.timeout);var ya=new E(e,ta,J);ra=new ia(this.slots,b.context,this.urlBuilder,this.profileId,this.integrationMode,this.networkId,this.adapterVersion,m,void 0,this.viewportComputer,J,ka,b.context.userIds,Math.round(new Date/1E3),void 0,void 0,void 0,void 0,void 0,void 0,this.publisherId,this.accountId);ra.isValid()&&
"undefined"!=typeof JSON?(ta=ra.getRequest(),J=JSON.stringify(ta),ta=ra.getUrl(),ra=new oa(ta,J,"application/x-www-form-urlencoded"),ya.sendRequest(ta),ra.send(function(Da){try{ya.requestReceived();var Ja=r(Da)||{},za=G(Ja);void 0!==P.callbackSuccess&&P.callbackSuccess(JSON.stringify(Ja),za);ya.finish();!0===Ja.user_sync&&Fa.execUserSync(b.context.remoteLogging,m,Ja);e.getMetricsManager().sendEvents(e,ka)}catch(Ma){P.reportAsyncRequestException(b,"onSuccess",Ma)}b.context.remoteLogging.sendErrorReport(P.urlBuilder,
ka);P.metricBuilder=void 0},function(Da,Ja){try{ya.requestReceived(),void 0!==P.callbackError&&P.callbackError(Da,Ja),ya.finish(),e.getMetricsManager().sendEvents(e,ka)}catch(za){P.reportAsyncRequestException(b,"onError",za)}b.context.remoteLogging.sendErrorReport(P.urlBuilder,ka);P.metricBuilder=void 0},function(){try{ya.requestReceived(!0),void 0!==P.callbackTimeout&&P.callbackTimeout(),ya.finish(),e.getMetricsManager().sendEvents(e,ka)}catch(Da){P.reportAsyncRequestException(b,"onTimeout",Da)}b.context.remoteLogging.sendErrorReport(P.urlBuilder,
ka);P.metricBuilder=void 0},this.timeout)):this.callbackError(void 0,void 0)},a.prototype.reportAsyncRequestException=function(b,e,m){m=m.stack||m.toString();b.context.remoteLogging.log("Exception","Exception caught in AsyncRequest ".concat(e," callback:\n").concat(m))},a.getCriteoAdapterBidRequest=function(){try{return window.pbjs._bidsRequested.find(function(b){return"criteo"===b.bidderCode})}catch(b){}},a.getRequestAuctionStart=function(b){return b&&b.auctionStart},a.NAME="directbidding",a}(B),
Za=function(c){function a(b,e,m,J,P,ka,ra,ta,ya,Da,Ja,za,Ma,Ha,Ra){var La=c.call(this,a.NAME)||this;return La.directBiddingEvent=new ab(b,e,m,function(Ga,cb){return La.onSuccess(Ga,cb)},function(Ga,cb){return La.onError(Ga,cb)},function(){return La.onHttpTimeout()},ta,ra,Math.max(10*(ya||3E3),3E3),Da,Ja,za,Ma,Ha,Ra),La.slots=m,La.callbackSuccess=J,La.callbackError=P,La.callbackTimeout=ka,La.timeout=0===ya?0:ya||3E3,La.hasTimeouted=!1,La.hasResponded=!1,La}return ma(a,c),a.prototype.eval=function(b){var e=
this;setTimeout(function(){return e.onTimeout()},this.timeout);this.directBiddingEvent.evalWithTimeout(b,this.timeout)},a.prototype.onSuccess=function(b,e){this.hasResponded=!0;this.hasTimeouted||this.callbackSuccess(b,e)},a.prototype.onError=function(b,e){this.hasResponded=!0;this.hasTimeouted||this.callbackError(b,e)},a.prototype.onHttpTimeout=function(){this.hasResponded=!0;this.hasTimeouted||this.callbackTimeout()},a.prototype.onTimeout=function(){this.hasResponded||(this.hasTimeouted=!0,this.callbackTimeout())},
a.prototype.getMetricBuilder=function(){return this.directBiddingEvent.getMetricBuilder()},a.NAME="directbidding",a}(B),Xa=function(c,a){this.errorType=c;this.messages=a},Ta=function(c,a,b){this.environment=c;this.errors=a;this.requestId=b},Qa=function(){function c(a){this.messages={};this.environment=a}return c.prototype.withMessage=function(a,b){return a in this.messages||(this.messages[a]=[]),this.messages[a].push(b),this},c.prototype.withRequestId=function(a){return this.requestId=a,this},c.prototype.build=
function(){var a,b=[];for(a in this.messages)null!=a&&b.push(new Xa(a,this.messages[a]));return new Ta(this.environment,b,this.requestId)},c}(),Pa=function(){function c(a){void 0===a&&(a=!1);this.builder=new Qa(c.environment);this.shouldSend=!1;this.debug=a}return c.prototype.reportPending=function(){return this.shouldSend},c.prototype.sendErrorReport=function(a,b){this.shouldSend&&(void 0!==b&&this.builder.withRequestId(b),b=this.builder.build(),a=a.buildErrorUrl(),a+=this.debug?"?debug=1":"",b=
JSON.stringify(b),navigator.sendBeacon&&navigator.sendBeacon(a,b),this.shouldSend=!1,this.builder=new Qa(c.environment))},c.prototype.log=function(a,b){this.shouldSend=!0;this.builder.withMessage(a,b)},c.environment="PublisherTag Version ".concat(149),c}(),Ua;!function(c){c[c.InFriendlyIframe=1]="InFriendlyIframe";c[c.InUnfriendlyIframe=2]="InUnfriendlyIframe";c[c.DirectIntegration=3]="DirectIntegration"}(Ua=Ua||{});var bb=function(){function c(a){this.window=a}return c.prototype.getUserContextualData=
function(){var a;return{data:{contentLanguage:"en-US",navigatorLanguage:null==(a=null==(a=this.window)?void 0:a.navigator)?void 0:a.language,orientation:this.getOrientation(),windowInnerWidth:g$.cwiw,windowInnerHeight:g$.cwih,pageWidth:null==(a=null==(a=null==(a=this.window)?void 0:a.document)?void 0:a.documentElement)?void 0:a.scrollWidth,pageHeight:null==(a=null==(a=null==(a=this.window)?void 0:a.document)?void 0:a.documentElement)?void 0:a.scrollHeight,sessionDuration:x.TimeSincePageLoad()},device:{w:null==
(a=null==(a=this.window)?void 0:a.screen)?void 0:a.width,h:null==(a=null==(a=this.window)?void 0:a.screen)?void 0:a.height}}},c.prototype.getOrientation=function(){var a;return((null==(a=null==(a=this.window)?void 0:a.screen)?void 0:a.orientation)||{}).type||(null==(a=null==(a=this.window)?void 0:a.screen)?void 0:a.mozOrientation)||(null==(a=null==(a=this.window)?void 0:a.screen)?void 0:a.msOrientation)},c}(),hb=function(c){function a(b){var e=c.call(this)||this;return e.context=b,e}return ma(a,c),
a.prototype.sendEvents=function(b){b={requestId:this.context.getClientSessionId(),events:[b]};this.context.isEligibleForCsmEvents()&&this.sendEventsToBeacon(b,this.urlBuilder.buildCsmEventsUrl())},a}(L),Va,eb,lb=(!function(c){c[c.None=0]="None";c[c.Cookie=1]="Cookie";c[c.LocalStorage=2]="LocalStorage";c[c.Delegation=4]="Delegation"}(Va=Va||{}),!function(c){c[c.Unknown=0]="Unknown";c[c.Deactivated=1]="Deactivated";c[c.Activated=2]="Activated"}(eb=eb||{}),function(){function c(a){this.userDataHandlers=
a}return c.prototype.getLocalWebId=function(){return this.userDataHandlers.localWebId().fromAllStorages()},c.prototype.getOptOut=function(){return this.userDataHandlers.optOut().fromAllStorages()},c.prototype.getBundle=function(){return this.userDataHandlers.bundle().fromAllStorages()},c}()),fb=function(c){function a(b,e,m,J,P){m=c.call(this,m,J)||this;return m.storageKey=b,m.expirationTimeHours=e,m.storageAdapter=P,m}return ma(a,c),a.prototype.hasValue=function(){return""!==String(this.value)&&null!==
this.value&&void 0!==this.value},a.prototype.saveOnAllStorages=function(){var b;this.hasValue()&&(b="boolean"==typeof this.value?this.value?"1":"0":String(this.value),this.storageAdapter.writeToAllStorages(this.storageKey,b,this.expirationTimeHours))},a.prototype.toJSON=function(){return{value:this.value,origin:this.origin}},a}(function(){function c(a,b){this.value=a;this.origin=b}return c.fromUserIdentificationData=function(a){return new c(a.value,a.origin)},c.fromValue=function(a){return new c(a,
Va.None)},c.prototype.hasValue=function(){return""!==String(this.value)&&null!==this.value&&void 0!==this.value},c}()),U=function(){function c(a){this.storageAdapter=a}return c.prototype.localWebId=function(){return this.createGuid(c.LWID_COOKIE_NAME)},c.prototype.optOut=function(){return new da(Boolean,c.OPTOUT_COOKIE_NAME,c.OPTOUT_RETENTION_TIME_HOUR,this.storageAdapter)},c.prototype.bundle=function(){return this.createGuid(c.BUNDLE_COOKIE_NAME)},c.prototype.createGuid=function(a){return new da(String,
a,c.GUID_RETENTION_TIME_HOUR,this.storageAdapter)},c.LWID_COOKIE_NAME="cto_lwid",c.OPTOUT_COOKIE_NAME="cto_optout",c.BUNDLE_COOKIE_NAME="cto_bundle",c.GUID_RETENTION_TIME_HOUR=9360,c.OPTOUT_RETENTION_TIME_HOUR=43200,c}(),da=function(){function c(a,b,e,m){this.type=a;this.storageKey=b;this.expirationTimeHours=e;this.storageAdapter=m}return c.prototype.fromAllStorages=function(){var a=this.storageAdapter.readFromAllStorages(this.storageKey),b="boolean"==typeof(new this.type).valueOf()?"1"===a.value:
a.value;return this.create(b,a.origin)},c.prototype.fromValue=function(a){return this.create(a,Va.None)},c.prototype.removeFromAllStorages=function(){this.storageAdapter.removeFromAllStorages(this.storageKey)},c.prototype.create=function(a,b){return new fb(this.storageKey,this.expirationTimeHours,a,b,this.storageAdapter)},c}(),sa=function(c){function a(b,e,m){e=c.call(this,e,b.storageAdapter,(void 0===m?0:m)?"gumi.criteo.com":"gum.criteo.com")||this;return e.adapter=b,e}return ma(a,c),a.prototype.handleSyncframeResponse=
function(b,e){var m;if(b.optout)this.deleteUserData(),this.userDataHandlers.optOut().fromValue(!0).saveOnAllStorages(),null!=(m=null==e?void 0:e.resolve)&&m.call(e,"");else{if(b.callbacks){m=0;for(var J="string"==typeof b.callbacks?[b.callbacks]:b.callbacks;m<J.length;m++){var P=J[m],ka=this.document.createElement("img");ka.style.display="none";ka.width=1;ka.height=1;ka.setAttribute("data-owner","criteo-tag");ka.src=P}}else b.bundle&&this.userDataHandlers.bundle().fromValue(b.bundle).saveOnAllStorages();
null!=e&&e.resolve&&e.resolve(b.bundle||"")}},a.prototype.appendGumIFrameOnCompletedDomIfItDoesNotExist=function(b,e){function m(){return J.appendGumIframeIfDoesNotExist(function(){return J.createSyncframeRequest(b(),P)},function(){},{resolve:e})}var J=this,P=Math.random().toString();this.adapter.isPubTagIds?m():this.doOnCompletedDom(m)},a.prototype.createSyncframeRequest=function(b,e){return{localWebId:this.userDataHandlers.localWebId().fromAllStorages().toJSON(),bundle:this.userDataHandlers.bundle().fromAllStorages().toJSON(),
optoutCookie:this.userDataHandlers.optOut().fromAllStorages().toJSON(),topLevelDomain:b.topLevelDomain,topUrl:b.topUrl,version:b.version,canWriteCookie:b.canWriteCookie,canWriteLocalStorage:b.canWriteLocalStorage,origin:this.adapter.isPubTagIds?"publishertagids":"publishertag",privateMode:void 0,consent:b.consent,rtusCallerId:void 0,isDebug:this.adapter.isDebug,requestId:e}},a.prototype.fetchUserData=function(){return new lb(this.userDataHandlers)},a.prototype.deleteUserData=function(){this.userDataHandlers.bundle().removeFromAllStorages()},
a}(function(){function c(a,b,e){this.criteoGlobalVendorListId=91;this.window=a;this.document=a.document;this.userDataHandlers=new U(b);this.syncframeOrigin="https://".concat(e=null!=e?e:"gum.criteo.com");this.syncframeEndpoint="https://".concat(e,"/syncframe");this.window.criteo_syncframe_state||(this.window.criteo_syncframe_state={syncframeRequested:!1});this.window.criteo_syncframe_state.appendSyncframeRequestQueue||(this.window.criteo_syncframe_state.appendSyncframeRequestQueue=[])}return c.prototype.getSyncframeListener=
function(a,b){var e=this;return function(m){var J;e.discardMessageFromOtherFrames(m)&&!e.window.criteo_syncframe_state.ForceSyncframeMessageHandling||(null==(J=m.data)?void 0:J.requestId)===a&&(m.stopImmediatePropagation(),e.handleSyncframeResponse(J,b),e.window.criteo_syncframe_state.firstSyncframeCompleted=!0,e.window.criteo_syncframe_state.syncframeRequested=!1,e.tryUnqueueAppendSyncframeRequests())}},c.prototype.userBundleHasAlreadyBeenRetrieved=function(){return this.userDataHandlers.bundle().fromAllStorages().hasValue()},
c.prototype.canDropSyncframe=function(){return!this.window.criteo_syncframe_state.syncframeRequested},c.prototype.discardMessageFromOtherFrames=function(a){return!a.data||a.origin!=this.syncframeOrigin},c.prototype.appendGumIframeIfDoesNotExist=function(a,b,e){var m,J=this;!0===(null==(m=this.window.criteo_syncframe_state)?void 0:m.firstSyncframeCompleted)||this.userBundleHasAlreadyBeenRetrieved()||this.canDropSyncframe()?this.appendGumIframe(a,b,e):this.queueAppendSyncframeRequest(function(){return J.appendGumIframeIfDoesNotExist(a,
b,e)})},c.prototype.doOnCompletedDom=function(a){var b,e=this;this.window.addEventListener&&("complete"===this.document.readyState?a():(b=function(){e.window.removeEventListener("load",b);e.document.removeEventListener("DOMContentLoaded",b);a()},this.window.addEventListener("load",b,!1),this.document.addEventListener("DOMContentLoaded",b,!1)))},c.prototype.appendGumIframe=function(a,b,e){b();b=a();this.consentAllowsSyncframeToBeDropped(b.consent)?(this.window.addEventListener("message",this.getSyncframeListener(b.requestId,
e),!0),a=this.createIFrame(b),this.document.body.appendChild(a),this.window.criteo_syncframe_state.syncframeRequested=!0):this.handleSyncframeResponse({},e)},c.prototype.consentAllowsSyncframeToBeDropped=function(a){return 2!==(null==a?void 0:a.gdprVersion)||!0!==(null==a?void 0:a.gdprApplies)||!0===(null==(a=null==a?void 0:a.vendorConsents)?void 0:a[this.criteoGlobalVendorListId])},c.prototype.queueAppendSyncframeRequest=function(a){void 0!==this.window.criteo_syncframe_state.appendSyncframeRequestQueue&&
this.window.criteo_syncframe_state.appendSyncframeRequestQueue.push(a)},c.prototype.tryUnqueueAppendSyncframeRequests=function(){for(var a,b,e=null==(a=this.window.criteo_syncframe_state.appendSyncframeRequestQueue)?void 0:a.shift();void 0!==e;)e(),e=null==(b=this.window.criteo_syncframe_state.appendSyncframeRequestQueue)?void 0:b.shift()},c.prototype.createIFrame=function(a){var b=this.document.createElement("iframe"),e={lwid:a.localWebId,bundle:a.bundle,optout:a.optoutCookie,tld:a.topLevelDomain,
topUrl:a.topUrl,version:"string"==typeof a.version?null==(e=a.version)?void 0:e.replace(/\./g,"_"):a.version,cw:a.canWriteCookie,lsw:a.canWriteLocalStorage,origin:a.origin,pm:a.privateMode,rtusCallerId:a.rtusCallerId,requestId:a.requestId},m=[];return m.push("origin=".concat(a.origin)),m.push("topUrl=".concat(a.topUrl)),a.consent&&(void 0!==a.consent.gdprApplies&&m.push("gdpr=".concat(a.consent.gdprApplies?1:0)),void 0!==a.consent.consentData&&m.push("gdpr_consent=".concat(a.consent.consentData)),
void 0!==a.consent.uspString&&m.push("us_privacy=".concat(a.consent.uspString)),void 0!==a.consent.gppString&&m.push("gpp=".concat(a.consent.gppString)),void 0!==a.consent.gppSectionIds)&&m.push("gpp_sid=".concat(a.consent.gppSectionIds)),a.isDebug&&m.push("debug=1"),b.src="".concat(this.syncframeEndpoint,"?").concat(m.join("&"),"#").concat(JSON.stringify(e)),b.width="0",b.height="0",b.frameBorder="0",b.style.borderWidth="0px",b.style.margin="0px",b.style.display="none",b.title="Criteo GUM iframe",
b},c}()),wa=function(){function c(a,b,e,m,J,P,ka){var ra=this;a=(this.topDoc=e.document,this.cookieHelper=a,this.localStorageHelper=b,this.canWriteCookies=g$.ks||this.checkCookiesAreWriteable(),this.topUrl=J,!1);try{a=JSON.parse("false")}catch(ta){}this.syncframe=null!=ka?ka:new sa({storageAdapter:{readFromAllStorages:function(ta){ta=ra.getFromAllStorages(ta);return{value:ta.value,origin:ta.origin}},writeToAllStorages:function(ta,ya,Da){ra.writeOnAllStorages(ta,ya,Da)},removeFromAllStorages:function(ta){ra.deleteFromAllStorage(ta)}},
isPubTagIds:null!=P&&P,isDebug:m},e,a)}return c.prototype.synchronizeCriteoUid=function(a,b){var e=this,m=null==a?void 0:a.gdprConsent,J=null==a?void 0:a.ccpaIabConsent,P=null==a?void 0:a.gppConsent;this.syncframe.appendGumIFrameOnCompletedDomIfItDoesNotExist(function(){var ka,ra=e.getTld(),ta=encodeURIComponent;var ya=e.topUrl;var Da=document.createElement("a");ya=(Da.href=ya,{protocol:Da.protocol,host:Da.host,hostname:Da.hostname,pathname:"/"===Da.pathname[0]?Da.pathname.slice(1):Da.pathname,search:Da.search,
href:Da.href});return{topLevelDomain:ra,topUrl:ta(ya.hostname),version:149,canWriteCookie:e.canWriteCookies,canWriteLocalStorage:e.localStorageHelper.localStorageEnabled,consent:{gdprApplies:null==m?void 0:m.gdprApplies,consentData:null==m?void 0:m.consentData||"",gdprVersion:null==m?void 0:m.version,vendorConsents:null==m?void 0:m.vendorConsents,uspString:null==J?void 0:J.uspString,ccpaVersion:null==J?void 0:J.version,gppString:null==P?void 0:P.gpp,gppSectionIds:null==(ka=null==P?void 0:P.gppSid)?
void 0:ka.join(",")}}},b)},c.prototype.checkCookiesAreWriteable=function(){var a=(this.cookieHelper.setCookie("cto_writeable","1",1,this.topDoc,!0),"1"===this.cookieHelper.getCookie("cto_writeable",this.topDoc));return this.cookieHelper.deleteCookie("cto_writeable",this.topDoc,!0),a},c.prototype.writeOnAllStorages=function(a,b,e){this.localStorageHelper.setItem(a,b);this.cookieHelper.setCookie(a,b,e,this.topDoc,!0)},c.prototype.getFromAllStorages=function(a){var b=this.cookieHelper.getCookie(a,this.topDoc);
a=this.localStorageHelper.getItem(a)||void 0;return{value:b||a,origin:(b&&Va.Cookie)|(a&&Va.LocalStorage)}},c.prototype.deleteFromAllStorage=function(a){this.cookieHelper.deleteCookie(a,this.topDoc,!0);this.localStorageHelper.removeItem(a)},c.prototype.getTld=function(){var a=this.cookieHelper.setCookie(c.TLD_TEST_COOKIE_NAME,"test",1,this.topDoc,!0);return this.cookieHelper.deleteCookie(c.TLD_TEST_COOKIE_NAME,this.topDoc,!0),a},c.prototype.fetchUserData=function(){return this.syncframe.fetchUserData()},
c.prototype.deleteUserData=function(){this.syncframe.deleteUserData()},c.TLD_TEST_COOKIE_NAME="cto_pub_test_tld",c}(),Ca=function(){function c(a,b,e,m){this.highestAccessibleWindowStruct=N.getHighestAccessibleWindow(a);this.highestAccessibleUrl=N.getHighestAccessibleUrl(this.highestAccessibleWindowStruct);a=t(this.highestAccessibleUrl);if(this.debugMode="1"===a.pbt_debug||!1)F.LOGLEVEL=C.Debug;this.cookieSynchronizerFactory=b;this.serviceProvider=e||new Sa(this.highestAccessibleWindowStruct.topFrame,
void 0,void 0,void 0,m)}return c.prototype.synchronizeCriteoUid=function(a,b,e,m){var J=(null==(J=this.cookieSynchronizerFactory)?void 0:J.call(this))||new wa(b,a,this.highestAccessibleWindowStruct.topFrame,this.debugMode,this.highestAccessibleUrl,!1);b=J.fetchUserData();e("",b.getOptOut().value,"",b.getBundle().value);J.synchronizeCriteoUid(m)},c.prototype.getServicesAndSyncCriteoUid=function(a){var b=this;void 0===a&&(a=function(e,m,J,P){});this.serviceProvider.getServicesAsync(function(e){var m;
(null==(m=e.ccpaConsentProvider)?0:m.hasUserOptOut(null==(m=e.privacies)?void 0:m.ccpaIabConsent))||b.synchronizeCriteoUid(e.localStorageHelper,e.cookieHelper,a,e.privacies)})},c.prototype.deleteCriteoUid=function(){var a=this;this.serviceProvider.getServicesAsync(function(b){var e;((null==(e=a.cookieSynchronizerFactory)?void 0:e.call(a))||new wa(b.cookieHelper,b.localStorageHelper,a.highestAccessibleWindowStruct.topFrame,a.debugMode,a.highestAccessibleUrl,!1)).deleteUserData()})},c}(),Wa=function(){function c(a,
b,e,m,J,P,ka,ra){void 0===ka&&(ka=(new Date).getUTCMilliseconds());void 0===ra&&(ra=d());this.cloneByImpressionId={};this.sessionRandomId=ka;this.clientSessionId=ra;this.contextMetricsManager=new hb(this);this.charset=a.charset||a.characterSet||"";this.highestAccessibleWindowStruct=N.getHighestAccessibleWindow(b);this.displayContext=this.getDisplayContext(this.highestAccessibleWindowStruct);this.highestAccessibleUrl=N.getHighestAccessibleUrl(this.highestAccessibleWindowStruct);ka=t(this.highestAccessibleUrl);
this.debugMode="1"===ka.pbt_debug||!1;this.noLog="1"===ka.pbt_nolog||!1;this.remoteLogging=new Pa(this.debugMode);this.debugMode&&(F.LOGLEVEL=C.Debug);this.location=b.location;this.dising=!1;this.isAdBlocked=this.wpdt0=this.ct0=void 0;this.rtaVarNames=[];this.identityHelper=new Ca(b,e,m,J);this.serviceProvider=this.identityHelper.serviceProvider;this.synchronizeCriteoUid();this.userContextualDataManager=P||new bb(b)}return c.prototype.getContextFlags=function(){return(this.debugMode?"&debug=1":"")+
(this.noLog?"&nolog=1":"")},c.prototype.isEligibleForCsmEvents=function(){return 0==this.sessionRandomId%100},c.prototype.getClientSessionId=function(){return this.clientSessionId},c.prototype.getMetricsManager=function(){return this.contextMetricsManager},c.prototype.getDisplayContext=function(a){return N.inIframe()?a.err?Ua.InUnfriendlyIframe:Ua.InFriendlyIframe:Ua.DirectIntegration},c.prototype.synchronizeCriteoUid=function(){var a=this;this.identityHelper.getServicesAndSyncCriteoUid(function(b,
e,m,J){a.isOptOut=e;a.bundle=J})},c.prototype.getIdfs=function(){return""},c.prototype.setIdfs=function(a){},c.prototype.setSite=function(a){this.site=a},c.prototype.getSite=function(){return this.site},c.prototype.setApp=function(a){this.app=a},c.prototype.getApp=function(){return this.app},c.prototype.setDevice=function(a){this.device=a},c.prototype.getDevice=function(){return this.device},c.prototype.setUser=function(a){this.user=a},c.prototype.getPublisherExt=function(){return{}},c.prototype.getUserExtWithContextualData=
function(){return{}},c.prototype.getUser=function(){var a,b=this.user||{},e=this.userContextualDataManager.getUserContextualData();return null!=e&&e.data&&(a=h(h({},null==(a=b.ext)?void 0:a.data),e.data),b.ext=h(h({},b.ext),{data:a})),null!=e&&e.device&&(a=h(h({},null==(a=b.ext)?void 0:a.device),e.device),b.ext=h(h({},b.ext),{device:a})),null!=(e=this.device)&&e.sua&&(b.ext=h(h({},b.ext),{sua:this.device.sua})),b},c}(),Ya=function(){this.bids={};this.lineItemRanges=[];this.impIds=[]},gb=function(){function c(a){var b;
void 0===a&&(a=null==(b=window.Criteo_prebid_149||window.Criteo)?void 0:b.config);this.standaloneBidder=new Ya;this.events=[];this.context=new Wa(document,window,void 0,void 0,a)}return c.prototype.push=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];for(b=0;b<a.length;b++)this.events.push(a[b]);this.evalEvents()},c.prototype.evalEvents=function(){for(var a=0;a<this.events.length;){var b=this.events[a];if("conditionalEvent"!==b.name||b.canEval()){b=this.events.splice(a,1);try{b[0].eval(this)}catch(e){}}else a++}},
c.VERSION=149,c}();K();ca.DeclarePrebid=K}({});
if(window.pbjs&&window.pbjs.libLoaded)try{window.pbjs.getConfig("debug")&&console.warn("Attempted to load a copy of Prebid.js that clashes with the existing 'pbjs' instance. Load aborted.")}catch(ca){}else(function(){(()=>{function ca(O){var G=I[O];if(void 0!==G)return G.exports;G=I[O]={exports:{}};ma[O](G,G.exports,ca);return G.exports}var ma={"./src/Renderer.js":(O,G,d)=>{function y(n){const {url:p,config:v,id:K,callback:A,loaded:h,adUnitCode:q,renderNow:u}=n;this.url=p;this.config=v;this.handlers=
{};this.id=K;this.renderNow=u;this.loaded=h;this.cmd=[];this.push=g=>{"function"===typeof g&&(this.loaded?g.call():this.cmd.push(g))};this.callback=A||(()=>{this.loaded=!0;this.process()});this.render=function(){const g=arguments,B=()=>{this._render&&this._render.apply(this,g)};l(q)?B():u?B():(this.cmd.unshift(B),(0,z.loadExternalScript)(p,"outstream",this.callback,this.documentContext))}.bind(this)}function r(n){return!(!n||!n.url&&!n.renderNow)}function f(n,p,v){let K=null;n.config&&n.config.documentResolver&&
(K=n.config.documentResolver(p,document,v));K||(K=document);n.documentContext=K;n.render(p,n.documentContext)}function l(n){var p=(0,w.find)(t.adUnits,h=>h.code===n);if(!p)return!1;const v=(0,H["default"])(p,"renderer"),K=!!(v&&v.url&&v.render);p=(0,H["default"])(p,"mediaTypes.video.renderer");const A=!!(p&&p.url&&p.render);return!!(K&&!0!==v.backupOnly||A&&!0!==p.backupOnly)}d.d(G,{Renderer:()=>y,executeRenderer:()=>f,isRendererRequired:()=>r});var z=d("./src/adloader.js");d("./src/utils.js");var H=
d("./node_modules/dlv/index.js"),w=d("./src/polyfill.js");const t=(0,d("./src/prebidGlobal.js").getGlobal)();y.install=function(n){let {url:p,config:v,id:K,callback:A,loaded:h,adUnitCode:q,renderNow:u}=n;return new y({url:p,config:v,id:K,callback:A,loaded:h,adUnitCode:q,renderNow:u})};y.prototype.getConfig=function(){return this.config};y.prototype.setRender=function(n){this._render=n};y.prototype.setEventHandlers=function(n){this.handlers=n};y.prototype.handleVideoEvent=function(n){({eventName:n}=
n);if("function"===typeof this.handlers[n])this.handlers[n]()};y.prototype.process=function(){for(;0<this.cmd.length;)try{this.cmd.shift().call()}catch(n){}}},"./src/activities/activities.js":(O,G,d)=>{d.d(G,{ACTIVITY_ACCESS_DEVICE:()=>"accessDevice",ACTIVITY_FETCH_BIDS:()=>"fetchBids",ACTIVITY_REPORT_ANALYTICS:()=>"reportAnalytics",ACTIVITY_SYNC_USER:()=>"syncUser",ACTIVITY_TRANSMIT_EIDS:()=>"transmitEids",ACTIVITY_TRANSMIT_PRECISE_GEO:()=>"transmitPreciseGeo",ACTIVITY_TRANSMIT_TID:()=>"transmitTid",
ACTIVITY_TRANSMIT_UFPD:()=>"transmitUfpd"})},"./src/activities/activityParams.js":(O,G,d)=>{d.d(G,{activityParams:()=>r});var y=d("./src/adapterManager.js");const r=(0,d("./src/activities/params.js").activityParamsBuilder)(f=>y["default"].resolveAlias(f))},"./src/activities/modules.js":(O,G,d)=>{d.d(G,{MODULE_TYPE_ANALYTICS:()=>"analytics",MODULE_TYPE_BIDDER:()=>"bidder",MODULE_TYPE_PREBID:()=>"prebid"})},"./src/activities/params.js":(O,G,d)=>{function y(l){return function(z,H,w){const t={componentType:z,
componentName:H,component:`${z}.${H}`};z===r.MODULE_TYPE_BIDDER&&(t.adapterCode=l(H));return f(Object.assign(t,w))}}d.d(G,{ACTIVITY_PARAM_ADAPTER_CODE:()=>"adapterCode",ACTIVITY_PARAM_ANL_CONFIG:()=>"_config",ACTIVITY_PARAM_COMPONENT:()=>"component",ACTIVITY_PARAM_COMPONENT_NAME:()=>"componentName",ACTIVITY_PARAM_COMPONENT_TYPE:()=>"componentType",ACTIVITY_PARAM_S2S_NAME:()=>"configName",ACTIVITY_PARAM_STORAGE_TYPE:()=>"storageType",ACTIVITY_PARAM_SYNC_TYPE:()=>"syncType",ACTIVITY_PARAM_SYNC_URL:()=>
"syncUrl",activityParamsBuilder:()=>y,buildActivityParams:()=>f});var r=d("./src/activities/modules.js");const f=(0,d("./src/hook.js").hook)("sync",l=>l)},"./src/activities/redactor.js":(O,G,d)=>{function y(q){return Object.assign({get(){},run(u,g,B,M,L){u=B&&B[M];null!=u&&("object"!==typeof u||0<Object.keys(u).length)&&L()&&(L=this.get(u),void 0===L?delete B[M]:B[M]=L)}},q)}function r(q){q.forEach(u=>{u.paths=u.paths.map(g=>{g=g.split(".");const B=g.pop();return[0<g.length?g.join("."):null,B]})});
return function(u,g){const B=[];for(var M=arguments.length,L=Array(2<M?M-2:0),R=2;R<M;R++)L[R-2]=arguments[R];const V=f(u,...L);q.forEach(C=>{if(!1!==u[C.name])for(const [D,F]of C.paths){const T=null==D?g:(0,w["default"])(g,D);B.push(C.run(g,D,T,F,V.bind(null,C)));if(!1===u[C.name])break}});return B.filter(C=>null!=C)}}function f(q){for(var u=arguments.length,g=Array(1<u?u-1:0),B=1;B<u;B++)g[B-1]=arguments[B];return function(M){q.hasOwnProperty(M.name)||(q[M.name]=!!M.applies(...g));return q[M.name]}}
function l(q){let u=1<arguments.length&&void 0!==arguments[1]?arguments[1]:n.isActivityAllowed;return function(g){return!u(q,g)}}function z(){let q=0<arguments.length&&void 0!==arguments[0]?arguments[0]:n.isActivityAllowed;return[{name:p.ACTIVITY_TRANSMIT_EIDS,paths:["userId","userIdAsEids"],applies:l(p.ACTIVITY_TRANSMIT_EIDS,q)},{name:p.ACTIVITY_TRANSMIT_TID,paths:["ortb2Imp.ext.tid"],applies:l(p.ACTIVITY_TRANSMIT_TID,q)}].map(y)}function H(){let q=0<arguments.length&&void 0!==arguments[0]?arguments[0]:
n.isActivityAllowed;return[{name:p.ACTIVITY_TRANSMIT_UFPD,paths:v,applies:l(p.ACTIVITY_TRANSMIT_UFPD,q)},{name:p.ACTIVITY_TRANSMIT_EIDS,paths:K,applies:l(p.ACTIVITY_TRANSMIT_EIDS,q)},{name:p.ACTIVITY_TRANSMIT_PRECISE_GEO,paths:A,applies:l(p.ACTIVITY_TRANSMIT_PRECISE_GEO,q),get(u){return Math.round(100*(u+Number.EPSILON))/100}},{name:p.ACTIVITY_TRANSMIT_TID,paths:["source.tid"],applies:l(p.ACTIVITY_TRANSMIT_TID,q)}].map(y)}d.d(G,{redactor:()=>h});var w=d("./node_modules/dlv/index.js"),t=d("./src/config.js"),
n=d("./src/activities/rules.js"),p=d("./src/activities/activities.js");const v="data ext.data yob gender keywords kwarray id buyeruid customdata".split(" ").map(q=>`user.${q}`).concat("device.ext.cdep"),K=["user.eids","user.ext.eids"],A=["user.geo.lat","user.geo.lon","device.geo.lat","device.geo.lon"],h=function(){let q=0<arguments.length&&void 0!==arguments[0]?arguments[0]:n.isActivityAllowed;const u=r(H(q)),g=r(z(q));return function(B){const M={};return{ortb2(L){u(M,L,B);return L},bidRequest(L){g(M,
L,B);return L}}}}();(0,n.registerActivityControl)(p.ACTIVITY_TRANSMIT_TID,"enableTIDs config",()=>{if(!t.config.getConfig("enableTIDs"))return{allow:!1,reason:"TIDs are disabled"}})},"./src/activities/rules.js":(O,G,d)=>{d.d(G,{isActivityAllowed:()=>l,registerActivityControl:()=>f});var y=d("./src/utils.js"),r=d("./src/activities/params.js");const [f,l]=function(){function z(t){let {activity:n,name:p,allow:v,reason:K,component:A}=t;const h=`${p} ${v?"allowed":"denied"} '${n}' for '${A}'${K?":":""}`;
(t=w.hasOwnProperty(h))&&clearTimeout(w[h]);w[h]=setTimeout(()=>delete w[h],1E3);t||(t=[h],K&&t.push(K))}0<arguments.length&&void 0!==arguments[0]||(0,y.prefixLog)("Activity control:");const H={},w={};return[function(t,n,p){let v=3<arguments.length&&void 0!==arguments[3]?arguments[3]:10;const K=H[t]=H[t]||[],A=K.findIndex(q=>{[q]=q;return v<q}),h=[v,n,p];K.splice(0>A?K.length:A,0,h);return function(){const q=K.indexOf(h);0<=q&&K.splice(q,1)}},function(t,n){let p,v;for(const [u,g,B]of H[t]=H[t]||[]){if(p!==
u&&v)break;p=u;{let M=void 0;var K=t;var A=g,h=B,q=n;try{M=h(q)}catch(L){M={allow:!1,reason:L}}K=M&&Object.assign({activity:K,name:A,component:q[r.ACTIVITY_PARAM_COMPONENT]},M)}if(K)if(K.allow)v=K;else return z(K),!1}v&&z(v);return!0}]}()},"./src/adRendering.js":(O,G,d)=>{function y(u){let {reason:g,message:B,bid:M,id:L}=u;u={reason:g,message:B};M&&(u.bid=M);L&&(u.adId=L);H.emit(K,u)}function r(u){let {doc:g,bid:B,id:M}=u;u={doc:g};B&&(u.bid=B);M&&(u.adId=M);H.emit(A,u)}function f(u,g){let {adId:B,
options:M,bidResponse:L}=g;if(null==L)y({reason:w.AD_RENDER_FAILED_REASON.CANNOT_FIND_AD,message:`Cannot find ad '${B}'`,id:B});else{if(L.status===w.BID_STATUS.RENDERED&&(H.emit(h,L),(0,z["default"])(t.config.getConfig("auctionOptions"),"suppressStaleRender")))return;try{const {adId:R,ad:V,adUrl:C,width:D,height:F,renderer:T,cpm:ba,originalCpm:ha,mediaType:ua}=L;if((0,n.isRendererRequired)(T))(0,n.executeRenderer)(T,L);else if(R){if(ua===p.VIDEO){y({reason:w.AD_RENDER_FAILED_REASON.PREVENT_WRITING_ON_MAIN_DOCUMENT,
message:"Cannot render video ad",bid:L,id:R});return}const aa={AUCTION_PRICE:ha||ba,CLICKTHROUGH:(null===M||void 0===M?void 0:M.clickUrl)||""};u({ad:(0,l.replaceMacros)(V,aa),adUrl:(0,l.replaceMacros)(C,aa),adId:R,width:D,height:F})}}catch(R){y({reason:w.AD_RENDER_FAILED_REASON.EXCEPTION,message:R.message,id:B,bid:L});return}v.auctionManager.addWinningBid(L);H.emit(q,L)}}d.d(G,{emitAdRenderFail:()=>y,emitAdRenderSucceeded:()=>r,handleRender:()=>f});var l=d("./src/utils.js"),z=d("./node_modules/dlv/index.js"),
H=d("./src/events.js"),w=d("./src/constants.json"),t=d("./src/config.js"),n=d("./src/Renderer.js"),p=d("./src/mediaTypes.js"),v=d("./src/auctionManager.js");const {AD_RENDER_FAILED:K,AD_RENDER_SUCCEEDED:A,STALE_RENDER:h,BID_WON:q}=w.EVENTS},"./src/adUnits.js":(O,G,d)=>{function y(z,H,w){z=f[z]=f[z]||{bidders:{}};w=w?z.bidders[w]=z.bidders[w]||{}:z;w[H]=(w[H]||0)+1;return w[H]}d.d(G,{adunitCounter:()=>l});var r=d("./node_modules/dlv/index.js");let f={},l={incrementRequestsCounter:function(z){return y(z,
"requestsCounter")},incrementBidderRequestsCounter:function(z,H){return y(z,"requestsCounter",H)},incrementBidderWinsCounter:function(z,H){return y(z,"winsCounter",H)},getRequestsCounter:function(z){return(0,r["default"])(f,`${z}.requestsCounter`)||0},getBidderRequestsCounter:function(z,H){return(0,r["default"])(f,`${z}.bidders.${H}.requestsCounter`)||0},getBidderWinsCounter:function(z,H){return(0,r["default"])(f,`${z}.bidders.${H}.winsCounter`)||0}}},"./src/adapter.js":(O,G,d)=>{function y(r){var f=
r;return{callBids:function(){},setBidderCode:function(l){f=l},getBidderCode:function(){return f}}}d.d(G,{"default":()=>y})},"./src/adapterManager.js":(O,G,d)=>{function y(x){return ja(V.MODULE_TYPE_PREBID,"pbsBidAdapter",{[D.ACTIVITY_PARAM_S2S_NAME]:x.configName})}function r(x,E){x=(0,n.deepClone)(x);let Q=!1;x.forEach(k=>{const S=k.bids.filter(N=>{var W;return"pbsBidAdapter"===N.module&&(null===(W=N.params)||void 0===W?void 0:W.configName)===E.configName});1===S.length&&(k.s2sBid=S[0],Q=!0,k.ortb2Imp=
(0,n.mergeDeep)({},k.s2sBid.ortb2Imp,k.ortb2Imp));k.bids=ea(k.bids,E).map(N=>{N.bid_id=(0,n.getUniqueIdentifierStr)();return N})});x=x.filter(k=>0!==k.bids.length||null!=k.s2sBid);return{adUnits:x,hasModuleBids:Q}}function f(x){x=(0,n.deepClone)(x);x.forEach(E=>{E.bids=ea(E.bids,null)});return x=x.filter(E=>0!==E.bids.length)}function l(x){Array.isArray(x)||(x=[x]);const E=new Set([null]);x.filter(Q=>Q&&Q.enabled).flatMap(Q=>Q.bidders).forEach(Q=>E.add(Q));return E}function z(x){let E=[];T.videoAdapters.includes(x)&&
E.push("video");p.nativeAdapters.includes(x)&&E.push("native");return E}function H(x,E){x=ba[x];if((x=(null===x||void 0===x?void 0:x.getSpec)&&x.getSpec())&&x[E]&&"function"===typeof x[E])return[x,x[E]]}function w(x,E,Q,k){try{for(var S=arguments.length,N=Array(4<S?S-4:0),W=4;W<S;W++)N[W-4]=arguments[W];A.config.runWithBidder(x,k.bind(Q,...N))}catch(pa){}}function t(x,E,Q){if((null===Q||void 0===Q?void 0:Q.src)!==M.S2S.SRC){const k=H(x,E);null!=k&&w(x,E,...k,Q)}}d.d(G,{"default":()=>Y,getS2SBidderSet:()=>
l,s2sActivityParams:()=>y});var n=d("./src/utils.js"),p=d("./src/native.js"),v=d("./src/adapters/bidderFactory.js"),K=d("./src/ajax.js"),A=d("./src/config.js");O=d("./src/hook.js");var h=d("./src/polyfill.js"),q=d("./src/adUnits.js"),u=d("./src/refererDetection.js"),g=d("./src/consentHandler.js"),B=d("./src/events.js"),M=d("./src/constants.json"),L=d("./src/utils/perfMetrics.js"),R=d("./src/auctionManager.js"),V=d("./src/activities/modules.js");G=d("./src/activities/rules.js");var C=d("./src/activities/activities.js"),
D=d("./src/activities/params.js");d=d("./src/activities/redactor.js");const F={isAllowed:G.isActivityAllowed,redact:d.redactor};let T={},ba=T.bidderRegistry={},ha=T.aliasRegistry={colossusssp:"colossus",yahoossp:"yahooAds"},ua=[];A.config.getConfig("s2sConfig",x=>{x&&x.s2sConfig&&(ua=Array.isArray(x.s2sConfig)?x.s2sConfig:[x.s2sConfig])});var aa={};const ja=(0,D.activityParamsBuilder)(x=>T.resolveAlias(x)),Z=(0,O.hook)("sync",function(x){let {bidderCode:E,auctionId:Q,bidderRequestId:k,adUnits:S,src:N,
metrics:W}=x;return S.reduce((pa,oa)=>{const xa=oa.bids.filter(Fa=>Fa.bidder===E);null==E&&0===xa.length&&null!=oa.s2sBid&&xa.push({bidder:null});pa.push(xa.reduce((Fa,Ia)=>{var Ba,Oa;Ia=Object.assign({},Ia,{ortb2Imp:(0,n.mergeDeep)({},oa.ortb2Imp,Ia.ortb2Imp)},(0,n.getDefinedParams)(oa,["nativeParams","nativeOrtbRequest","mediaType","renderer"]));const fa=null==Ia.mediaTypes?oa.mediaTypes:Ia.mediaTypes;(0,n.isValidMediaTypes)(fa)&&(Ia=Object.assign({},Ia,{mediaTypes:fa}));Fa.push(Object.assign({},
Ia,{adUnitCode:oa.code,transactionId:oa.transactionId,sizes:(null===fa||void 0===fa||null===(Ba=fa.banner)||void 0===Ba?void 0:Ba.sizes)||(null===fa||void 0===fa||null===(Oa=fa.video)||void 0===Oa?void 0:Oa.playerSize)||[],bidId:Ia.bid_id||(0,n.getUniqueIdentifierStr)(),bidderRequestId:k,auctionId:Q,src:N,metrics:W,bidRequestsCount:q.adunitCounter.getRequestsCounter(oa.code),bidderRequestsCount:q.adunitCounter.getBidderRequestsCounter(oa.code,Ia.bidder),bidderWinsCount:q.adunitCounter.getBidderWinsCounter(oa.code,
Ia.bidder)}));return Fa},[]));return pa},[]).reduce(n.flatten,[]).filter(pa=>""!==pa)},"getBids"),ea=(0,O.hook)("sync",function(x,E){let {getS2SBidders:Q=l}=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};if(null==E)return x;{const k=Q(E);return x.filter(S=>k.has(S.bidder))}},"filterBidsForAdUnit"),ia=(0,O.hook)("sync",(x,E)=>x,"setupAdUnitMediaTypes"),qa=(0,O.hook)("sync",function(x,E){let {getS2SBidders:Q=l}=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};const k=Q(E);return(0,n.getBidderCodes)(x).reduce((S,
N)=>{const W=k.has(N)?"server":"client";S[W].push(N);return S},{client:[],server:[]})},"partitionBidders");T.makeBidRequests=(0,O.hook)("sync",function(x,E,Q,k,S){function N(X,la){const va=F.redact(null!=la?la:ja(V.MODULE_TYPE_BIDDER,X.bidderCode)),Ea=Object.freeze(va.ortb2((0,n.mergeDeep)({source:{tid:Q}},Ba,Oa[X.bidderCode])));X.ortb2=Ea;X.bids=X.bids.map(Ka=>{Ka.ortb2=Ea;return va.bidRequest(Ka)});return X}let W=5<arguments.length&&void 0!==arguments[5]?arguments[5]:{},pa=6<arguments.length?arguments[6]:
void 0;pa=(0,L.useMetrics)(pa);B.emit(M.EVENTS.BEFORE_REQUEST_BIDS,x);(0,p.decorateAdUnitsWithNativeParams)(x);x.forEach(X=>{(0,n.isPlainObject)(X.mediaTypes)||(X.mediaTypes={});X.bids=X.bids.filter(la=>!la.bidder||F.isAllowed(C.ACTIVITY_FETCH_BIDS,ja(V.MODULE_TYPE_BIDDER,la.bidder)))});x=ia(x,S);let {client:oa,server:xa}=qa(x,ua);A.config.getConfig("bidderSequence")===A.RANDOM&&(oa=(0,n.shuffle)(oa));const Fa=(0,u.getRefererInfo)();let Ia=[];const Ba=W.global||{},Oa=W.bidder||{};ua.forEach(X=>{const la=
y(X);if(X&&X.enabled&&F.isAllowed(C.ACTIVITY_FETCH_BIDS,la)){let {adUnits:va,hasModuleBids:Ea}=r(x,X),Ka=(0,n.generateUUID)();(0===xa.length&&Ea?[null]:xa).forEach(Aa=>{const Na=(0,n.getUniqueIdentifierStr)(),Sa=pa.fork();Aa=N({bidderCode:Aa,auctionId:Q,bidderRequestId:Na,uniquePbsTid:Ka,bids:Z({bidderCode:Aa,auctionId:Q,bidderRequestId:Na,adUnits:(0,n.deepClone)(va),src:M.S2S.SRC,metrics:Sa}),auctionStart:E,timeout:X.timeout,src:M.S2S.SRC,refererInfo:Fa,metrics:Sa},la);0!==Aa.bids.length&&Ia.push(Aa)});
va.forEach(Aa=>{let Na=Aa.bids.filter(Sa=>(0,h.find)(Ia,ab=>(0,h.find)(ab.bids,Za=>Za.bidId===Sa.bid_id)));Aa.bids=Na});Ia.forEach(Aa=>{void 0===Aa.adUnitsS2SCopy&&(Aa.adUnitsS2SCopy=va.filter(Na=>0<Na.bids.length||null!=Na.s2sBid))})}});let fa=f(x);oa.forEach(X=>{var la=(0,n.getUniqueIdentifierStr)();const va=pa.fork();la=N({bidderCode:X,auctionId:Q,bidderRequestId:la,bids:Z({bidderCode:X,auctionId:Q,bidderRequestId:la,adUnits:(0,n.deepClone)(fa),labels:S,src:"client",metrics:va}),auctionStart:E,
timeout:k,refererInfo:Fa,metrics:va});ba[X]&&la.bids&&0!==la.bids.length&&Ia.push(la)});Ia.forEach(X=>{g.gdprDataHandler.getConsentData()&&(X.gdprConsent=g.gdprDataHandler.getConsentData());g.uspDataHandler.getConsentData()&&(X.uspConsent=g.uspDataHandler.getConsentData());g.gppDataHandler.getConsentData()&&(X.gppConsent=g.gppDataHandler.getConsentData())});return Ia},"makeBidRequests");T.callBids=function(x,E,Q,k,S,N,W){let pa=7<arguments.length&&void 0!==arguments[7]?arguments[7]:{};if(E.length){var [oa,
xa]=E.reduce((Ba,Oa)=>{Ba[Number("undefined"!==typeof Oa.src&&Oa.src===M.S2S.SRC)].push(Oa);return Ba},[[],[]]),Fa=[];xa.forEach(Ba=>{for(var Oa=-1,fa=0;fa<Fa.length;++fa)if(Ba.uniquePbsTid===Fa[fa].uniquePbsTid){Oa=fa;break}-1>=Oa&&Fa.push(Ba)});var Ia=0;ua.forEach(Ba=>{if(Ba&&Fa[Ia]&&l(Ba).has(Fa[Ia].bidderCode)){const Oa=(0,K.ajaxBuilder)(N,S?{request:S.request.bind(null,"s2s"),done:S.done}:void 0);let fa=Ba.bidders;const X=ba[Ba.adapter];let la=Fa[Ia].uniquePbsTid,va=Fa[Ia].adUnitsS2SCopy,Ea=
xa.filter(Ka=>Ka.uniquePbsTid===la);if(X&&(Ba={ad_units:va,s2sConfig:Ba,ortb2Fragments:pa},Ba.ad_units.length)){let Ka=Ea.map(Aa=>{Aa.start=(0,n.timestamp)();return function(){W(Aa.bidderRequestId);k.apply(Aa,arguments)}});(0,n.getBidderCodes)(Ba.ad_units).filter(Aa=>fa.includes(Aa));Ea.forEach(Aa=>{B.emit(M.EVENTS.BID_REQUESTED,{...Aa,tid:Aa.auctionId})});X.callBids(Ba,xa,Q,()=>Ka.forEach(Aa=>Aa()),Oa)}Ia++}});oa.forEach(Ba=>{Ba.start=(0,n.timestamp)();const Oa=ba[Ba.bidderCode];A.config.runWithBidder(Ba.bidderCode,
()=>{B.emit(M.EVENTS.BID_REQUESTED,Ba)});let fa=(0,K.ajaxBuilder)(N,S?{request:S.request.bind(null,Ba.bidderCode),done:S.done}:void 0);const X=k.bind(Ba);try{A.config.runWithBidder(Ba.bidderCode,Oa.callBids.bind(Oa,Ba,Q,X,fa,()=>W(Ba.bidderRequestId),A.config.callbackWithBidder(Ba.bidderCode)))}catch(la){X()}})}};T.videoAdapters=[];T.registerBidAdapter=function(x,E){let {supportedMediaTypes:Q=[]}=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};if(x&&E&&"function"===typeof x.callBids){var k;
ba[E]=x;g.GDPR_GVLIDS.register(V.MODULE_TYPE_BIDDER,E,null===(k=x.getSpec)||void 0===k?void 0:k.call(x).gvlid);Q.includes("video")&&T.videoAdapters.push(E);Q.includes("native")&&p.nativeAdapters.push(E)}};T.aliasBidAdapter=function(x,E,Q){if("undefined"===typeof ba[E]){let k=ba[x];if("undefined"===typeof k){const S=[];ua.forEach(N=>{if(N.bidders&&N.bidders.length){const W=N&&N.bidders;N&&W.includes(E)?ha[E]=x:S.push(x)}});S.forEach(N=>{})}else try{let S,N=z(x);if(k.constructor.prototype!=Object.prototype)S=
new k.constructor,S.setBidderCode(E);else{let W=k.getSpec();S=(0,v.newBidder)(Object.assign({},W,{code:E,gvlid:Q&&Q.gvlid,skipPbsAliasing:Q&&Q.skipPbsAliasing}));ha[E]=x}T.registerBidAdapter(S,E,{supportedMediaTypes:N})}catch(S){}}};T.resolveAlias=function(x){let E;for(;ha[x]&&(!E||!E.has(x));)x=ha[x],(E=E||new Set).add(x);return x};T.registerAnalyticsAdapter=function(x){let {adapter:E,code:Q,gvlid:k}=x;E&&Q&&"function"===typeof E.enableAnalytics&&(E.code=Q,aa[Q]={adapter:E,gvlid:k},g.GDPR_GVLIDS.register(V.MODULE_TYPE_ANALYTICS,
Q,k))};T.enableAnalytics=function(x){Array.isArray(x)||(x=[x]);x.forEach(E=>{const Q=aa[E.provider];Q&&Q.adapter&&F.isAllowed(C.ACTIVITY_REPORT_ANALYTICS,ja(V.MODULE_TYPE_ANALYTICS,E.provider,{[D.ACTIVITY_PARAM_ANL_CONFIG]:E}))&&Q.adapter.enableAnalytics(E)})};T.getBidAdapter=function(x){return ba[x]};T.getAnalyticsAdapter=function(x){return aa[x]};T.callTimedOutBidders=function(x,E,Q){E=E.map(k=>{k.params=(0,n.getUserConfiguredParams)(x,k.adUnitCode,k.bidder);k.timeout=Q;return k});E=(0,n.groupBy)(E,
"bidder");Object.keys(E).forEach(k=>{t(k,"onTimeout",E[k])})};T.callBidWonBidder=function(x,E,Q){E.params=(0,n.getUserConfiguredParams)(Q,E.adUnitCode,E.bidder);q.adunitCounter.incrementBidderWinsCounter(E.adUnitCode,E.bidder);t(x,"onBidWon",E)};T.callBidBillableBidder=function(x){t(x.bidder,"onBidBillable",x)};T.callSetTargetingBidder=function(x,E){t(x,"onSetTargeting",E)};T.callBidViewableBidder=function(x,E){t(x,"onBidViewable",E)};T.callBidderError=function(x,E,Q){t(x,"onBidderError",{error:E,
bidderRequest:Q})};T.callDataDeletionRequest=(0,O.hook)("sync",function(){for(var x=arguments.length,E=Array(x),Q=0;Q<x;Q++)E[Q]=arguments[Q];Object.keys(ba).filter(k=>!ha.hasOwnProperty(k)).forEach(k=>{const S=H(k,"onDataDeletionRequest");if(null!=S){const N=R.auctionManager.getBidsRequested().filter(W=>{{W=W.bidderCode;const pa=new Set;for(;ha.hasOwnProperty(W)&&!pa.has(W);)pa.add(W),W=ha[W]}return W===k});w(k,"onDataDeletionRequest",...S,N,...E)}});Object.entries(aa).forEach(k=>{var S;[,k]=k;const N=
null===k||void 0===k||null===(S=k.adapter)||void 0===S?void 0:S.onDataDeletionRequest;if("function"===typeof N)try{N.apply(k.adapter,E)}catch(W){}})});const Y=T},"./src/adapters/bidderFactory.js":(O,G,d)=>{function y(aa){function ja(ea){const ia=f(ea);t["default"].registerBidAdapter(ia,ea.code,Z)}const Z=Array.isArray(aa.supportedMediaTypes)?{supportedMediaTypes:aa.supportedMediaTypes}:void 0;ja(aa);Array.isArray(aa.aliases)&&aa.aliases.forEach(ea=>{let ia=ea,qa,Y;(0,g.isPlainObject)(ea)&&(ia=ea.code,
qa=ea.gvlid,Y=ea.skipPbsAliasing);t["default"].aliasRegistry[ia]=aa.code;ja(Object.assign({},aa,{code:ia,gvlid:qa,skipPbsAliasing:Y}))})}function r(aa){function ja(ia,qa,Y){return T.includes(qa)?null:Reflect.get(ia,qa,Y)}function Z(ia,qa){const Y=new Proxy(ia,qa);Object.entries(ia).filter(x=>{[,x]=x;return"function"===typeof x}).forEach(x=>{let [E,Q]=x;return Y[E]=Q.bind(ia)});return Y}if((0,R.isActivityAllowed)(D.ACTIVITY_TRANSMIT_TID,(0,V.activityParams)(C.MODULE_TYPE_BIDDER,aa)))return{bidRequest:ia=>
ia,bidderRequest:ia=>ia};const ea=(0,g.memoize)(ia=>Z(ia,{get:ja}),ia=>ia.bidId);return{bidRequest:ea,bidderRequest:ia=>Z(ia,{get(qa,Y,x){return"bids"===Y?ia.bids.map(ea):ja(qa,Y,x)}})}}function f(aa){function ja(ea,ia){let qa=M.bidderSettings.get(ia,"allowAlternateBidderCodes")||!1,Y=M.bidderSettings.get(ia,"allowedAlternateBidderCodes");return ea&&ia&&ia!==ea&&(Y=Array.isArray(Y)?Y.map(x=>x.trim().toLowerCase()).filter(x=>!!x).filter(g.uniques):Y,!qa||Array.isArray(Y)&&"*"!==Y[0]&&!Y.includes(ea))?
!0:!1}function Z(ea,ia,qa,Y){ha(aa,ea,ia,qa,Y)}return Object.assign(new w["default"](aa.code),{getSpec:function(){return Object.freeze(Object.assign({},aa))},registerSyncs:Z,callBids:function(ea,ia,qa,Y,x,E){function Q(oa,xa){const Fa=(0,L.useMetrics)(xa.metrics);Fa.checkpoint("addBidResponse");Fa.measureTime("addBidResponse.validate",()=>z(oa,xa))?ia(oa,xa):ia.reject(oa,xa,h.REJECTION_REASON.INVALID)}function k(){qa();n.config.runWithBidder(aa.code,()=>{q.emit(h.EVENTS.BIDDER_DONE,ea);Z(N,ea.gdprConsent,
ea.uspConsent,ea.gppConsent)})}if(Array.isArray(ea.bids)){var S=r(ea.bidderCode),N=[],W=H(ea).measureTime("validate",()=>ea.bids.filter(oa=>{oa=S.bidRequest(oa);oa=aa.isBidRequestValid(oa)?!0:!1;return oa}));if(0===W.length)k();else{var pa={};W.forEach(oa=>{pa[oa.bidId]=oa;oa.adUnitCode||(oa.adUnitCode=oa.placementCode)});ba(aa,W.map(S.bidRequest),S.bidderRequest(ea),Y,E,{onRequest:oa=>q.emit(h.EVENTS.BEFORE_BIDDER_HTTP,ea,oa),onResponse:oa=>{x(aa.code);N.push(oa)},onFledgeAuctionConfigs:oa=>{oa.forEach(xa=>
{const Fa=pa[xa.bidId];Fa&&ua(Fa,xa.config)})},onError:(oa,xa)=>{x(aa.code);t["default"].callBidderError(aa.code,xa,ea);q.emit(h.EVENTS.BIDDER_ERROR,{error:xa,bidderRequest:ea})},onBid:oa=>{const xa=pa[oa.requestId];xa?(oa.adapterCode=xa.bidder,ja(oa.bidderCode,xa.bidder)?ia.reject(xa.adUnitCode,oa,h.REJECTION_REASON.BIDDER_DISALLOWED):(oa.originalCpm=oa.cpm,oa.originalCurrency=oa.currency,oa.meta=oa.meta||Object.assign({},oa[xa.bidder]),oa=Object.assign((0,p.createBid)(h.STATUS.GOOD,xa),oa,(0,g.pick)(xa,
T)),Q(xa.adUnitCode,oa))):ia.reject(null,oa,h.REJECTION_REASON.INVALID_REQUEST_ID)},onCompletion:k})}}}})}function l(aa,ja){var {index:Z=B.auctionManager.index}=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};if((ja.width||0===parseInt(ja.width,10))&&(ja.height||0===parseInt(ja.height,10)))return ja.width=parseInt(ja.width,10),ja.height=parseInt(ja.height,10),!0;var ea=Z.getBidRequest(ja);Z=Z.getMediaTypes(ja);ea=(0,g.parseSizesInput)(ea&&ea.sizes||Z&&Z.banner&&Z.banner.sizes);if(1===ea.length){const [ia,
qa]=ea[0].split("x");ja.width=parseInt(ia,10);ja.height=parseInt(qa,10);return!0}return!1}function z(aa,ja){let {index:Z=B.auctionManager.index}=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};return!aa||!ja||!function(){let ea=Object.keys(ja);return F.every(ia=>(0,u.includes)(ea,ia)&&!(0,u.includes)([void 0,null],ja[ia]))}()||"native"===ja.mediaType&&!(0,K.nativeBidIsValid)(ja,{index:Z})||"video"===ja.mediaType&&!(0,A.isValidVideoBid)(ja,{index:Z})||"banner"===ja.mediaType&&!l(aa,ja,{index:Z})?
!1:!0}function H(aa){return(0,L.useMetrics)(aa.metrics).renameWith(ja=>[`adapter.client.${ja}`,`adapters.client.${aa.bidderCode}.${ja}`])}d.d(G,{addComponentAuction:()=>ua,isValid:()=>z,newBidder:()=>f,registerBidder:()=>y});var w=d("./src/adapter.js"),t=d("./src/adapterManager.js"),n=d("./src/config.js"),p=d("./src/bidfactory.js"),v=d("./src/userSync.js"),K=d("./src/native.js"),A=d("./src/video.js"),h=d("./src/constants.json"),q=d("./src/events.js"),u=d("./src/polyfill.js"),g=d("./src/utils.js");
O=d("./src/hook.js");var B=d("./src/auctionManager.js"),M=d("./src/bidderSettings.js"),L=d("./src/utils/perfMetrics.js"),R=d("./src/activities/rules.js"),V=d("./src/activities/activityParams.js"),C=d("./src/activities/modules.js"),D=d("./src/activities/activities.js");const F=["cpm","ttl","creativeId","netRevenue","currency"],T=["auctionId","transactionId"],ba=(0,O.hook)("sync",function(aa,ja,Z,ea,ia,qa){let {onRequest:Y,onResponse:x,onFledgeAuctionConfigs:E,onError:Q,onBid:k,onCompletion:S}=qa;const N=
H(Z);S=N.startTiming("total").stopBefore(S);if((qa=N.measureTime("buildRequests",()=>aa.buildRequests(ja,Z)))&&0!==qa.length){Array.isArray(qa)||(qa=[qa]);var W=(0,g.delayExecution)(S,qa.length);qa.forEach(pa=>{function oa(X){null!=X&&(X.metrics=Ia.fork().renameWith());k(X)}function xa(X){const la=pa.options;return Object.assign(X,la,{browsingTopics:null!==la&&void 0!==la&&la.hasOwnProperty("browsingTopics")&&!la.browsingTopics?!1:(M.bidderSettings.get(aa.code,"topicsHeader")??!0)&&(0,R.isActivityAllowed)(D.ACTIVITY_TRANSMIT_UFPD,
(0,V.activityParams)(C.MODULE_TYPE_BIDDER,aa.code))})}function Fa(X){return X?`?${"object"===typeof X?(0,g.parseQueryStringParameters)(X):X}`:""}const Ia=N.fork(),Ba=ia(function(X,la){fa();try{X=JSON.parse(X)}catch(va){}X={body:X,headers:la.headers};x(X);try{X=Ia.measureTime("interpretResponse",()=>aa.interpretResponse(X,pa))}catch(va){W();return}X&&Array.isArray(X.fledgeAuctionConfigs)?(E(X.fledgeAuctionConfigs),la=X.bids):la=X;la&&(Array.isArray(la)?la.forEach(oa):oa(la));W()}),Oa=ia(function(X,
la){fa();Q(X,la);W()});Y(pa);const fa=Ia.startTiming("net");switch(pa.method){case "GET":ea(`${pa.url}${Fa(pa.data)}`,{success:Ba,error:Oa},void 0,xa({method:"GET",withCredentials:!0}));break;case "POST":ea(pa.url,{success:Ba,error:Oa},"string"===typeof pa.data?pa.data:JSON.stringify(pa.data),xa({method:"POST",contentType:"text/plain",withCredentials:!0}));break;default:W()}})}else S()},"processBidderRequests"),ha=(0,O.hook)("async",function(aa,ja,Z,ea,ia){var qa=n.config.getConfig("userSync.aliasSyncEnabled");
aa.getUserSyncs&&(qa||!t["default"].aliasRegistry[aa.code])&&(qa=n.config.getConfig("userSync.filterSettings"),ja=aa.getUserSyncs({iframeEnabled:!(!qa||!qa.iframe&&!qa.all),pixelEnabled:!(!qa||!qa.image&&!qa.all)},ja,Z,ea,ia))&&(Array.isArray(ja)||(ja=[ja]),ja.forEach(Y=>{v.userSync.registerSync(Y.type,aa.code,Y.url)}),v.userSync.bidderDone(aa.code))},"registerSyncs"),ua=(0,O.hook)("sync",(aa,ja)=>{},"addComponentAuction")},"./src/adloader.js":(O,G,d)=>{function y(H,w,t,n,p){function v(A,h){return(A=
l.get(A))&&A[h]?A[h]:null}if(w&&H&&(0,r.includes)(z,w)){n||(n=document);if(w=v(n,H))return t&&"function"===typeof t&&(w.loaded?t():w.callbacks.push(t)),w.tag;w=l.get(n)||{};var K={loaded:!1,tag:null,callbacks:[]};w[H]=K;l.set(n,w);t&&"function"===typeof t&&K.callbacks.push(t);return function(A,h,q,u){q||(q=document);var g=q.createElement("script");g.type="text/javascript";g.crossOrigin=!0;g.async=!0;const B=v(q,H);B&&(B.tag=g);g.readyState?g.onreadystatechange=function(){if("loaded"===g.readyState||
"complete"===g.readyState)g.onreadystatechange=null,h()}:g.onload=function(){h()};g.src=A;u&&(0,f.setScriptAttributes)(g,u);(0,f.insertElement)(g,q);return g}(H,function(){K.loaded=!0;try{for(let A=0;A<K.callbacks.length;A++)K.callbacks[A]()}catch(A){}},n,p)}}d.d(G,{loadExternalScript:()=>y});var r=d("./src/polyfill.js"),f=d("./src/utils.js");const l=new WeakMap,z="debugging adloox criteo outstream adagio spotx browsi brandmetrics justtag tncId akamaidap ftrackId inskin hadron medianet improvedigital aaxBlockmeter confiant arcspan airgrid clean.io a1Media geoedge mediafilter qortex dynamicAdBoost contxtful".split(" ")},
"./src/ajax.js":(O,G,d)=>{function y(p,v){let K=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};const A=K.method||(v?"POST":"GET");if("GET"===A&&v){var h=(0,w.parseUrl)(p,K);Object.assign(h.search,v);p=(0,w.buildUrl)(h)}h=new Headers(K.customHeaders);h.set("Content-Type",K.contentType||"text/plain");h={method:A,headers:h};"GET"!==A&&v&&(h.body=v);K.withCredentials&&(h.credentials="include");K.browsingTopics&&isSecureContext&&(h.browsingTopics=!0);return t.makeRequest(p,h)}function r(){let p=
0<arguments.length&&void 0!==arguments[0]?arguments[0]:3E3,{request:v,done:K}=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},A=(h,q)=>{var u,g;let B;null==p||null!=(null===(u=q)||void 0===u?void 0:u.signal)||H.config.getConfig("disableAjaxTimeout")||(B=t.timeout(p,h),q=Object.assign({signal:B.signal},q));h=t.fetch(h,q);null!=(null===(g=B)||void 0===g?void 0:g.done)&&(h=h.finally(B.done));return h};if(null!=v||null!=K)A=(h=>function(q,u){const g=(new URL(null==(null===q||void 0===q?void 0:
q.url)?q:q.url,document.location)).origin;q=h(q,u);v&&v(g);K&&(q=q.finally(()=>K(g)));return q})(A);return A}function f(p,v){let {status:K,statusText:A="",headers:h,url:q}=p,u=0;return{readyState:XMLHttpRequest.DONE,status:K,statusText:A,responseText:v,response:v,responseType:"",responseURL:q,get responseXML(){},getResponseHeader:g=>null!==h&&void 0!==h&&h.has(g)?h.get(g):null,toJSON(){var g=Object,B=g.assign;if(0===u)try{var M;u=(new DOMParser).parseFromString(v,null===h||void 0===h||null===(M=h.get("Content-Type"))||
void 0===M||null===(M=M.split(";"))||void 0===M?void 0:M[0])}catch(L){u=null}return B.call(g,{responseXML:u},this)}}}function l(p,v){const {success:K,error:A}="object"===typeof v&&null!=v?v:{success:"function"===typeof v?v:()=>null};p.then(h=>h.text().then(q=>[h,q])).then(h=>{let [q,u]=h;h=f(q,u);q.ok||304===q.status?K(u,h):A(q.statusText,h)},()=>A("",f({status:0},"")))}function z(){let p=0<arguments.length&&void 0!==arguments[0]?arguments[0]:3E3,{request:v,done:K}=1<arguments.length&&void 0!==arguments[1]?
arguments[1]:{};const A=r(p,{request:v,done:K});return function(h,q,u){l(A(y(h,u,3<arguments.length&&void 0!==arguments[3]?arguments[3]:{})),q)}}d.d(G,{ajax:()=>n,ajaxBuilder:()=>z});var H=d("./src/config.js"),w=d("./src/utils.js");const t={fetch:window.fetch.bind(window),makeRequest:(p,v)=>new Request(p,v),timeout(p,v){const K=new AbortController;let A=setTimeout(()=>{K.abort();A=null},p);return{signal:K.signal,done(){A&&clearTimeout(A)}}}},n=z()},"./src/auction.js":(O,G,d)=>{function y(fa){function X(){return{auctionId:Va,
timestamp:Ya,auctionEnd:gb,auctionStatus:a,adUnits:Ua,adUnitCodes:hb,labels:bb,bidderRequests:sa,noBids:Ca,bidsReceived:wa,bidsRejected:U,winningBids:Wa,timeout:eb,metrics:Pa,seatNonBids:b}}function la(){c=setTimeout(()=>va(!0),eb)}function va(e){e?F.emit(ba.EVENTS.AUCTION_TIMEOUT,X()):clearTimeout(c);if(void 0===gb){let m=[];e&&(m=sa.filter(J=>!lb.has(J.bidderRequestId)).flatMap(J=>J.bids),m.length&&F.emit(ba.EVENTS.BID_TIMEOUT,m));a="completed";gb=Date.now();Pa.checkpoint("auctionEnd");Pa.timeBetween("requestBids",
"auctionEnd","requestBids.total");Pa.timeBetween("callBids","auctionEnd","requestBids.callBids");fb.resolve();F.emit(ba.EVENTS.AUCTION_END,X());Q(Ua,function(){try{if(null!=da){var J=wa.filter(P=>hb.includes(P.adUnitCode)).reduce(A,{});da.apply(qa,[J,e,Va]);da=null}}catch(P){}finally{m.length&&T["default"].callTimedOutBidders(Na,m,eb),J=M.config.getConfig("userSync")||{},J.enableOverride||ja(J.syncDelay)}})}}function Ea(){M.config.resetBidder();a="completed";va(!1)}function Ka(e){lb.add(e)}function Aa(e){function m(ra){let ta=
!0,ya=M.config.getConfig("maxRequestsPerOrigin")||4;ra.bidRequests.some(Da=>{let Ja=1,za="undefined"!==typeof Da.src&&Da.src===ba.S2S.SRC?"s2s":Da.bidderCode;ea[za]&&(!1===ea[za].SRA&&(Ja=Math.min(Da.bids.length,ya)),Z[ea[za].origin]+Ja>ya&&(ta=!1));return!ta});ta&&ra.run();return ta}function J(ra,ta){"undefined"===typeof ra[ta]?ra[ta]=1:ra[ta]++}e.forEach(ra=>{sa=sa.concat(ra)});let P={},ka={bidRequests:e,run:()=>{la();a="inProgress";F.emit(ba.EVENTS.AUCTION_INIT,X());let ra=r(Ea,this);T["default"].callBids(Ua,
e,ra.addBidResponse,ra.adapterDone,{request(ta,ya){J(Z,ya);J(P,ta);ea[ta]||(ea[ta]={SRA:!0,origin:ya});1<P[ta]&&(ea[ta].SRA=!1)},done(ta){Z[ta]--;ia[0]&&m(ia[0])&&ia.shift()}},eb,Ka,Qa)}};m(ka)||ia.push(ka)}let {adUnits:Na,adUnitCodes:Sa,callback:ab,cbTimeout:Za,labels:Xa,auctionId:Ta,ortb2Fragments:Qa,metrics:Pa}=fa;Pa=(0,ua.useMetrics)(Pa);const Ua=Na,bb=Xa,hb=Sa,Va=Ta||(0,h.generateUUID)(),eb=Za,lb=new Set,fb=(0,ha.defer)();let U=[],da=ab,sa=[],wa=[],Ca=[],Wa=[],Ya,gb,c,a,b=[];F.on(ba.EVENTS.SEAT_NON_BID,
e=>{e.auctionId===Va&&(b=b.concat(e.seatnonbid))});return{addBidReceived:function(e){wa=wa.concat(e)},addBidRejected:function(e){U=U.concat(e)},addNoBid:function(e){Ca=Ca.concat(e)},callBids:function(){a="started";Ya=Date.now();let e=Pa.measureTime("requestBids.makeRequests",()=>T["default"].makeBidRequests(Ua,Ya,Va,eb,bb,Qa,Pa));Pa.checkpoint("callBids");1>e.length?Ea():E.call({dispatch:Aa,context:this},e)},addWinningBid:function(e){const m=Na.find(J=>J.transactionId===e.transactionId);Wa=Wa.concat(e);
(0,h.callBurl)(e);T["default"].callBidWonBidder(e.adapterCode||e.bidder,e,Na);m&&!m.deferBilling&&T["default"].callBidBillableBidder(e)},setBidTargeting:function(e){T["default"].callSetTargetingBidder(e.adapterCode||e.bidder,e)},getWinningBids:()=>Wa,getAuctionStart:()=>Ya,getAuctionEnd:()=>gb,getTimeout:()=>eb,getAuctionId:()=>Va,getAuctionStatus:()=>a,getAdUnits:()=>Ua,getAdUnitCodes:()=>hb,getBidRequests:()=>sa,getBidsReceived:()=>wa,getNoBids:()=>Ca,getNonBids:()=>b,getFPD:()=>Qa,getMetrics:()=>
Pa,end:fb.promise}}function r(fa,X){function la(){Na--;Sa&&0===Na&&fa()}function va(Xa,Ta,Qa){Za[Ta.requestId]=!0;z(Ta,Xa);Na++;return Qa(la)}function Ea(Xa,Ta){va(Xa,Ta,Qa=>{let Pa=H(Ta);F.emit(ba.EVENTS.BID_ACCEPTED,Pa);if(Pa.mediaType===V.VIDEO)l(X,Pa,Qa);else{if(null!=Pa.native&&"object"===typeof Pa.native){{var Ua,bb;const hb=null===(Ua=C.auctionManager.index.getAdUnit(Pa))||void 0===Ua?void 0:Ua.nativeOrtbRequest;Ua=null===(bb=Pa.native)||void 0===bb?void 0:bb.ortb;hb&&Ua&&(bb=(0,u.toLegacyResponse)(Ua,
hb),Object.assign(Pa.native,bb))}}f(X,Pa);Qa()}})}function Ka(Xa,Ta,Qa){return va(Xa,Ta,Pa=>{Ta.rejectionReason=Qa;F.emit(ba.EVENTS.BID_REJECTED,Ta);X.addBidRejected(Ta);Pa()})}function Aa(){let Xa=X.getBidRequests();const Ta=M.config.getConfig("auctionOptions");ab.add(this);if(Ta&&!(0,h.isEmpty)(Ta)){const Qa=Ta.secondaryBidders;Qa&&!Xa.every(Pa=>Qa.includes(Pa.bidderCode))&&(Xa=Xa.filter(Pa=>!Qa.includes(Pa.bidderCode)))}Sa=Xa.every(Qa=>ab.has(Qa));this.bids.forEach(Qa=>{Za[Qa.bidId]||(X.addNoBid(Qa),
F.emit(ba.EVENTS.NO_BID,Qa))});Sa&&0===Na&&fa()}let Na=0,Sa=!1,ab=new Set,Za={};return{addBidResponse:function(){function Xa(Ta,Qa){Y.call({dispatch:Ea},Ta,Qa,(()=>{let Pa=!1;return Ua=>{Pa||(Ka(Ta,Qa,Ua),Pa=!0)}})())}Xa.reject=Ka;return Xa}(),adapterDone:function(){x(ha.GreedyPromise.resolve()).finally(()=>Aa.call(this))}}}function f(fa,X){{let la;const va=!0===D.bidderSettings.get(X.bidderCode,"allowZeroCpmBids")?0<=X.cpm:0<X.cpm;X.bidderCode&&(va||X.dealId)&&(la=v(X.bidderCode,X));X.adserverTargeting=
Object.assign(X.adserverTargeting||{},la)}(0,ua.useMetrics)(X.metrics).timeSince("addBidResponse","addBidResponse.total");fa.addBidReceived(X);F.emit(ba.EVENTS.BID_RESPONSE,X)}function l(fa,X,la){var {index:va=C.auctionManager.index}=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};let Ea=!0;var Ka=(va=null===(Ka=va.getMediaTypes({requestId:X.originalRequestId||X.requestId,transactionId:X.transactionId}))||void 0===Ka?void 0:Ka.video)&&(null===va||void 0===va?void 0:va.context);const Aa=
va&&(null===va||void 0===va?void 0:va.useCacheKey);M.config.getConfig("cache.url")&&(Aa||Ka!==R.OUTSTREAM)&&(!X.videoCacheKey||M.config.getConfig("cache.ignoreBidderCacheKey")?(Ea=!1,pa(fa,X,la,va)):X.vastUrl||(Ea=!1));Ea&&(f(fa,X),la())}function z(fa,X){var {index:la=C.auctionManager.index}=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},va=la.getBidderRequest(fa);la=la.getAdUnit(fa);va=va&&va.start||fa.requestTimestamp;Object.assign(fa,{responseTimestamp:fa.responseTimestamp||(0,h.timestamp)(),
requestTimestamp:fa.requestTimestamp||va,cpm:parseFloat(fa.cpm)||0,bidder:fa.bidder||fa.bidderCode,adUnitCode:X});null!=(null===la||void 0===la?void 0:la.ttlBuffer)&&(fa.ttlBuffer=la.ttlBuffer);fa.timeToRespond=fa.responseTimestamp-fa.requestTimestamp}function H(fa){var X,{index:la=C.auctionManager.index}=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};F.emit(ba.EVENTS.BID_ADJUSTMENT,fa);var va=(null===(X=la.getBidRequest(fa))||void 0===X?void 0:X.renderer)||la.getAdUnit(fa).renderer;X=
fa.mediaType;X=(X=(la=la.getMediaTypes(fa))&&la[X])&&X.renderer;var Ea=null;X&&X.url&&X.render&&(!0!==X.backupOnly||!fa.renderer)?Ea=X:va&&va.url&&va.render&&(!0!==va.backupOnly||!fa.renderer)&&(Ea=va);Ea&&(fa.renderer=B.Renderer.install({url:Ea.url,config:Ea.options}),fa.renderer.setRender(Ea.render));va=w(fa.mediaType,la,M.config.getConfig("mediaTypePriceGranularity"));va=(0,q.getPriceBucketString)(fa.cpm,"object"===typeof va?va:M.config.getConfig("customPriceBucket"),M.config.getConfig("currency.granularityMultiplier"));
fa.pbLg=va.low;fa.pbMg=va.med;fa.pbHg=va.high;fa.pbAg=va.auto;fa.pbDg=va.dense;fa.pbCg=va.custom;return fa}function w(fa,X,la){if(fa&&la){if(fa===V.VIDEO){var va;X=(null===X||void 0===X||null===(va=X[V.VIDEO])||void 0===va?void 0:va.context)||"instream";if(la[`${V.VIDEO}-${X}`])return la[`${V.VIDEO}-${X}`]}return la[fa]}}function t(fa,X){return{key:fa,val:"function"===typeof X?function(la,va){return X(la,va)}:function(la){return la[X]}}}function n(){const fa=ba.TARGETING_KEYS;return[t(fa.BIDDER,"bidderCode"),
t(fa.AD_ID,"adId"),t(fa.PRICE_BUCKET,xa()),t(fa.SIZE,"size"),t(fa.DEAL,"dealId"),t(fa.SOURCE,"source"),t(fa.FORMAT,"mediaType"),t(fa.ADOMAIN,Ia()),t(fa.ACAT,Oa()),t(fa.DSP,Ba()),t(fa.CRID,Fa())]}function p(fa,X){const la=ba.TARGETING_KEYS,va=Object.assign({},D.bidderSettings.settingsFor(null));va[ba.JSON_MAPPING.ADSERVER_TARGETING]||(va[ba.JSON_MAPPING.ADSERVER_TARGETING]=n());if("video"===fa){const Ea=va[ba.JSON_MAPPING.ADSERVER_TARGETING].slice();va[ba.JSON_MAPPING.ADSERVER_TARGETING]=Ea;[la.UUID,
la.CACHE_ID].forEach(Ka=>{"undefined"===typeof(0,L.find)(Ea,Aa=>Aa.key===Ka)&&Ea.push(t(Ka,"videoCacheKey"))});if(M.config.getConfig("cache.url")&&(!X||!1!==D.bidderSettings.get(X,"sendStandardTargeting"))){const Ka=(0,h.parseUrl)(M.config.getConfig("cache.url"));"undefined"===typeof(0,L.find)(Ea,Aa=>Aa.key===la.CACHE_HOST)&&Ea.push(t(la.CACHE_HOST,function(Aa){var Na;return null!==Aa&&void 0!==Aa&&null!==(Na=Aa.adserverTargeting)&&void 0!==Na&&Na[la.CACHE_HOST]?Aa.adserverTargeting[la.CACHE_HOST]:
Ka.hostname}))}}return va}function v(fa,X){var {index:la=C.auctionManager.index}=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};if(!X)return{};la=la.getBidRequest(X);var va={};const Ea=p(X.mediaType,fa);K(va,Ea,X,la);fa&&D.bidderSettings.getOwn(fa,ba.JSON_MAPPING.ADSERVER_TARGETING)&&(K(va,D.bidderSettings.ownSettingsFor(fa),X,la),X.sendStandardTargeting=D.bidderSettings.get(fa,"sendStandardTargeting"));X["native"]&&(va=Object.assign({},va,(0,u.getNativeTargeting)(X)));return va}function K(fa,
X,la,va){var Ea=X[ba.JSON_MAPPING.ADSERVER_TARGETING];la.size=la.getSize();(Ea||[]).forEach(function(Ka){var Aa=Ka.key;Ka=Ka.val;if((0,h.isFn)(Ka))try{Ka=Ka(la,va)}catch(Na){}if(("undefined"===typeof X.suppressEmptyKeys||!0!==X.suppressEmptyKeys)&&Aa!==ba.TARGETING_KEYS.DEAL&&Aa!==ba.TARGETING_KEYS.ACAT&&Aa!==ba.TARGETING_KEYS.DSP&&Aa!==ba.TARGETING_KEYS.CRID||""!==Ka&&null!==Ka&&void 0!==Ka)fa[Aa]=Ka});return fa}function A(fa,X){fa[X.adUnitCode]||(fa[X.adUnitCode]={bids:[]});fa[X.adUnitCode].bids.push(X);
return fa}d.d(G,{AUCTION_COMPLETED:()=>"completed",AUCTION_IN_PROGRESS:()=>"inProgress",addBidToAuction:()=>f,getPriceByGranularity:()=>xa,getPriceGranularity:()=>oa,getStandardBidderSettings:()=>p,newAuction:()=>y});var h=d("./src/utils.js"),q=d("./src/cpmBucketManager.js"),u=d("./src/native.js"),g=d("./src/videoCache.js"),B=d("./src/Renderer.js"),M=d("./src/config.js");O=d("./src/userSync.js");G=d("./src/hook.js");var L=d("./src/polyfill.js"),R=d("./src/video.js"),V=d("./src/mediaTypes.js"),C=d("./src/auctionManager.js"),
D=d("./src/bidderSettings.js"),F=d("./src/events.js"),T=d("./src/adapterManager.js"),ba=d("./src/constants.json"),ha=d("./src/utils/promise.js"),ua=d("./src/utils/perfMetrics.js"),aa=d("./src/utils/cpm.js");d=d("./src/prebidGlobal.js");const {syncUsers:ja}=O.userSync;F.on(ba.EVENTS.BID_ADJUSTMENT,function(fa){{let X=(0,aa.adjustCpm)(fa.cpm,fa);0<=X&&(fa.cpm=X)}});const Z={},ea={},ia=[],qa=(0,d.getGlobal)(),Y=(0,G.hook)("sync",function(fa,X,la){this.dispatch.call(null,fa,X)},"addBidResponse"),x=(0,G.hook)("sync",
fa=>fa,"responsesReady"),E=(0,G.hook)("sync",function(fa){this.dispatch.call(this.context,fa)},"addBidderRequests"),Q=(0,G.hook)("async",function(fa,X){X&&X()},"bidsBackCallback"),k=fa=>{(0,g.store)(fa.map(X=>X.bidResponse),function(X,la){la.forEach((va,Ea)=>{const {auctionInstance:Ka,bidResponse:Aa,afterBidAdded:Na}=fa[Ea];X||""===va.uuid||(Aa.videoCacheKey=va.uuid,Aa.vastUrl||(Aa.vastUrl=(0,g.getCacheUrl)(Aa.videoCacheKey)),f(Ka,Aa),Na())})})};let S,N;M.config.getConfig("cache",fa=>{S="number"===
typeof fa.cache.batchSize&&0<fa.cache.batchSize?fa.cache.batchSize:1;N="number"===typeof fa.cache.batchTimeout&&0<fa.cache.batchTimeout?fa.cache.batchTimeout:0});const W=function(){let fa=0<arguments.length&&void 0!==arguments[0]?arguments[0]:setTimeout,X=1<arguments.length&&void 0!==arguments[1]?arguments[1]:k,la=[[]],va=!1;const Ea=Ka=>Ka();return function(Ka,Aa,Na){const Sa=0<N?fa:Ea;la[la.length-1].length>=S&&la.push([]);la[la.length-1].push({auctionInstance:Ka,bidResponse:Aa,afterBidAdded:Na});
va||(va=!0,Sa(()=>{la.forEach(X);la=[[]];va=!1},N))}}(),pa=(0,G.hook)("async",function(fa,X,la,va){W(fa,X,la)},"callPrebidCache"),oa=function(fa){var {index:X=C.auctionManager.index}=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};X=w(fa.mediaType,X.getMediaTypes(fa),M.config.getConfig("mediaTypePriceGranularity"));return"string"===typeof fa.mediaType&&X?"string"===typeof X?X:"custom":M.config.getConfig("priceGranularity")},xa=fa=>X=>{const la=fa||oa(X);if(la===ba.GRANULARITY_OPTIONS.AUTO)return X.pbAg;
if(la===ba.GRANULARITY_OPTIONS.DENSE)return X.pbDg;if(la===ba.GRANULARITY_OPTIONS.LOW)return X.pbLg;if(la===ba.GRANULARITY_OPTIONS.MEDIUM)return X.pbMg;if(la===ba.GRANULARITY_OPTIONS.HIGH)return X.pbHg;if(la===ba.GRANULARITY_OPTIONS.CUSTOM)return X.pbCg},Fa=()=>fa=>fa.creativeId?fa.creativeId:"",Ia=()=>fa=>fa.meta&&fa.meta.advertiserDomains&&0<fa.meta.advertiserDomains.length?[fa.meta.advertiserDomains].flat()[0]:"",Ba=()=>fa=>{var X,la;return fa.meta&&(fa.meta.networkId||fa.meta.networkName)?(null===
fa||void 0===fa||null===(X=fa.meta)||void 0===X?void 0:X.networkName)||(null===fa||void 0===fa||null===(la=fa.meta)||void 0===la?void 0:la.networkId):""},Oa=()=>fa=>fa.meta&&fa.meta.primaryCatId?fa.meta.primaryCatId:""},"./src/auctionIndex.js":(O,G,d)=>{function y(r){Object.assign(this,{getAuction(f){let {auctionId:l}=f;if(null!=l)return r().find(z=>z.getAuctionId()===l)},getAdUnit(f){let {transactionId:l}=f;if(null!=l)return r().flatMap(z=>z.getAdUnits()).find(z=>z.transactionId===l)},getMediaTypes(f){let {transactionId:l,
requestId:z}=f;if(null!=z){if(f=this.getBidRequest({requestId:z}),null!=f&&(null==l||f.transactionId===l))return f.mediaTypes}else if(null!=l&&(f=this.getAdUnit({transactionId:l}),null!=f))return f.mediaTypes},getBidderRequest(f){let {requestId:l,bidderRequestId:z}=f;if(null!=l||null!=z)return f=r().flatMap(H=>H.getBidRequests()),null!=z&&(f=f.filter(H=>H.bidderRequestId===z)),null==l?f[0]:f.find(H=>H.bids&&null!=H.bids.find(w=>w.bidId===l))},getBidRequest(f){let {requestId:l}=f;if(null!=l)return r().flatMap(z=>
z.getBidRequests()).flatMap(z=>z.bids).find(z=>z&&z.bidId===l)}})}d.d(G,{AuctionIndex:()=>y})},"./src/auctionManager.js":(O,G,d)=>{d.d(G,{auctionManager:()=>n});var y=d("./src/utils.js"),r=d("./src/auction.js"),f=d("./src/auctionIndex.js"),l=d("./src/constants.json"),z=d("./src/utils/perfMetrics.js"),H=d("./src/utils/ttlCollection.js"),w=d("./src/bidTTL.js"),t=d("./src/config.js");const n=function(){function p(q){for(const u of A)if(u.getAuctionId()===q)return u}function v(){return A.toArray().flatMap(q=>
q.getBidsReceived())}let K=null;const A=(0,H.ttlCollection)({startTime:q=>q.end.then(()=>q.getAuctionEnd()),ttl:q=>null==K?null:q.end.then(()=>1E3*Math.max(K,...q.getBidsReceived().map(w.getTTL)))});(0,w.onTTLBufferChange)(()=>{null!=K&&A.refresh()});t.config.getConfig("minBidCacheTTL",q=>{const u=K;K=null===q||void 0===q?void 0:q.minBidCacheTTL;K="number"===typeof K?K:null;u!==K&&A.refresh()});const h={addWinningBid:function(q){var u=(0,z.useMetrics)(q.metrics);u.checkpoint("bidWon");u.timeBetween("auctionEnd",
"bidWon","render.pending");u.timeBetween("requestBids","bidWon","render.e2e");if(u=p(q.auctionId))q.status=l.BID_STATUS.RENDERED,u.addWinningBid(q)}};Object.entries({getAllWinningBids:{name:"getWinningBids"},getBidsRequested:{name:"getBidRequests"},getNoBids:{},getAdUnits:{},getBidsReceived:{pre(q){return q.getAuctionStatus()===r.AUCTION_COMPLETED}},getAdUnitCodes:{post:y.uniques}}).forEach(q=>{let [u,{name:g=u,pre:B,post:M}]=q;const L=null==B?V=>V[g]():V=>B(V)?V[g]():[],R=null==M?V=>V:V=>V.filter(M);
h[u]=()=>R(A.toArray().flatMap(L))});h.getAllBidsForAdUnitCode=function(q){return v().filter(u=>u&&u.adUnitCode===q)};h.createAuction=function(q){q=(0,r.newAuction)(q);A.add(q);return q};h.findBidByAdId=function(q){return v().find(u=>u.adId===q)};h.getStandardBidderAdServerTargeting=function(){return(0,r.getStandardBidderSettings)()[l.JSON_MAPPING.ADSERVER_TARGETING]};h.setStatusForBids=function(q,u){if(q=h.findBidByAdId(q))q.status=u;q&&u===l.BID_STATUS.BID_TARGETING_SET&&(u=p(q.auctionId))&&u.setBidTargeting(q)};
h.getLastAuctionId=function(){const q=A.toArray();return q.length&&q[q.length-1].getAuctionId()};h.clearAllAuctions=function(){A.clear()};h.index=new f.AuctionIndex(()=>A.toArray());return h}()},"./src/bidTTL.js":(O,G,d)=>{function y(z){return z.ttl-(z.hasOwnProperty("ttlBuffer")?z.ttlBuffer:f)}function r(z){l.push(z)}d.d(G,{getTTL:()=>y,onTTLBufferChange:()=>r});O=d("./src/config.js");d("./src/utils.js");let f=1;const l=[];O.config.getConfig("ttlBuffer",z=>{if("number"===typeof z.ttlBuffer){const H=
f;f=z.ttlBuffer;H!==f&&l.forEach(w=>w(f))}})},"./src/bidderSettings.js":(O,G,d)=>{function y(n,p,v){if("function"==typeof n?n===p:n.has(p))return 3>arguments.length?p:v;throw new TypeError("Private element is not present on this object");}function r(n){return null==n?this.defaultScope:n}d.d(G,{bidderSettings:()=>t});var f=d("./node_modules/dlv/index.js"),l=d("./src/utils.js"),z=d("./src/prebidGlobal.js");O=d("./src/constants.json");var H=new WeakSet;class w{constructor(n,p){if(H.has(this))throw new TypeError("Cannot initialize the same private elements twice on an object");
H.add(this);this.getSettings=n;this.defaultScope=p}get(n,p){n=this.getOwn(n,p);"undefined"===typeof n&&(n=this.getOwn(null,p));return n}getOwn(n,p){n=y(H,this,r).call(this,n);return(0,f["default"])(this.getSettings(),`${n}.${p}`)}getScopes(){return Object.keys(this.getSettings()).filter(n=>n!==this.defaultScope)}settingsFor(n){return(0,l.mergeDeep)({},this.ownSettingsFor(null),this.ownSettingsFor(n))}ownSettingsFor(n){n=y(H,this,r).call(this,n);return this.getSettings()[n]||{}}}const t=new w(()=>
(0,z.getGlobal)().bidderSettings||{},O.JSON_MAPPING.BD_SETTING_STANDARD)},"./src/bidfactory.js":(O,G,d)=>{function y(l){let {src:z="client",bidder:H="",bidId:w,transactionId:t,auctionId:n}=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};var p=l||0;this.bidderCode=H;this.height=this.width=0;this.statusMessage=function(){switch(p){case 0:return"Pending";case 1:return"Bid available";case 2:return"Bid returned empty or error response";case 3:return"Bid timed out"}}();this.adId=(0,f.getUniqueIdentifierStr)();
this.requestId=w;this.transactionId=t;this.auctionId=n;this.mediaType="banner";this.source=z;this.getStatusCode=function(){return p};this.getSize=function(){return this.width+"x"+this.height};this.getIdentifiers=function(){return{src:this.source,bidder:this.bidderCode,bidId:this.requestId,transactionId:this.transactionId,auctionId:this.auctionId}}}function r(l,z){return new y(l,z)}d.d(G,{createBid:()=>r});var f=d("./src/utils.js")},"./src/config.js":(O,G,d)=>{d.d(G,{RANDOM:()=>"random",config:()=>
w});var y=d("./src/cpmBucketManager.js"),r=d("./src/polyfill.js"),f=d("./src/utils.js");O=d("./src/constants.json");const l="TRUE"===(0,f.getParameterByName)(O.DEBUG_MODE).toUpperCase(),z={random:!0,fixed:!0},H={LOW:"low",MEDIUM:"medium",HIGH:"high",AUTO:"auto",DENSE:"dense",CUSTOM:"custom"},w=function(){function t(){function D(ja){return ua[ja].val}function F(ja,Z){ua[ja].val=Z}function T(ja){return(0,r.find)(Object.keys(H),Z=>ja===H[Z])}function ba(ja){if(!ja)return!1;if("string"===typeof ja)T(ja);
else if((0,f.isPlainObject)(ja)&&!(0,y.isValidPriceConfig)(ja))return!1;return!0}function ha(ja){if(!(0,f.isPlainObject)(ja))return!1;for(let Z of Object.keys(ja)){if("secondaryBidders"!==Z&&"suppressStaleRender"!==Z)return!1;if("secondaryBidders"===Z){if(!Array.isArray(ja[Z])||!ja[Z].every(f.isStr))return!1}else if("suppressStaleRender"===Z&&!(0,f.isBoolean)(ja[Z]))return!1}return!0}u={};const ua={publisherDomain:{set(ja){F("publisherDomain",ja)}},priceGranularity:{val:H.MEDIUM,set(ja){ba(ja)&&("string"===
typeof ja?F("priceGranularity",T(ja)?ja:H.MEDIUM):(0,f.isPlainObject)(ja)&&(F("customPriceBucket",ja),F("priceGranularity",H.CUSTOM)))}},customPriceBucket:{val:{},set(){}},mediaTypePriceGranularity:{val:{},set(ja){null!=ja&&F("mediaTypePriceGranularity",Object.keys(ja).reduce((Z,ea)=>{ba(ja[ea])&&("string"===typeof ja?Z[ea]=T(ja[ea])?ja[ea]:D("priceGranularity"):(0,f.isPlainObject)(ja)&&(Z[ea]=ja[ea]));return Z},{}))}},bidderSequence:{val:"random",set(ja){z[ja]&&F("bidderSequence",ja)}},auctionOptions:{val:{},
set(ja){ha(ja)&&F("auctionOptions",ja)}}};let aa={debug:l,bidderTimeout:3E3,enableSendAllBids:!0,useBidCache:!1,deviceAccess:!0,timeoutBuffer:400,maxNestedIframes:10};Object.defineProperties(aa,Object.fromEntries(Object.entries(ua).map(ja=>{let [Z,ea]=ja;return[Z,Object.assign({get:D.bind(null,Z),set:F.bind(null,Z),enumerable:!0},ea)]})));g&&K(Object.keys(g).reduce((ja,Z)=>{g[Z]!==aa[Z]&&(ja[Z]=aa[Z]||{});return ja},{}));g=aa;B={}}function n(){if(M&&B&&(0,f.isPlainObject)(B[M])){let D=B[M];const F=
new Set(Object.keys(g).concat(Object.keys(D)));return(0,r.arrayFrom)(F).reduce((T,ba)=>{"undefined"===typeof D[ba]?T[ba]=g[ba]:"undefined"===typeof g[ba]?T[ba]=D[ba]:(0,f.isPlainObject)(D[ba])?T[ba]=(0,f.mergeDeep)({},g[ba],D[ba]):T[ba]=D[ba];return T},{})}return Object.assign({},g)}function p(D){if((0,f.isPlainObject)(D)){var F={};Object.keys(D).forEach(T=>{let ba=D[T];(0,f.isPlainObject)(u[T])&&(0,f.isPlainObject)(ba)&&(ba=Object.assign({},u[T],ba));try{F[T]=g[T]=ba}catch(ha){}});K(F)}}function v(D,
F){let T=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},ba=F;"string"!==typeof D&&(ba=D,D="*",T=F||{});if("function"===typeof ba){var ha={topic:D,callback:ba};q.push(ha);T.init&&("*"===D?ba(R()):ba({[D]:R(D)}));return function(){q.splice(q.indexOf(ha),1)}}}function K(D){const F=Object.keys(D);q.filter(T=>F.includes(T.topic)).forEach(T=>{T.callback({[T.topic]:D[T.topic]})});q.filter(T=>"*"===T.topic).forEach(T=>T.callback(D))}function A(D){function F(ba){if(!(0,f.isPlainObject)(ba))throw"setBidderConfig bidder options must be an object";
if(!Array.isArray(ba.bidders)||!ba.bidders.length)throw"setBidderConfig bidder options must contain a bidders list with at least 1 bidder";if(!(0,f.isPlainObject)(ba.config))throw"setBidderConfig bidder options must contain a config object";}let T=1<arguments.length&&void 0!==arguments[1]?arguments[1]:!1;try{F(D),D.bidders.forEach(ba=>{B[ba]||(B[ba]={});Object.keys(D.config).forEach(ha=>{let ua=D.config[ha];(0,f.isPlainObject)(ua)?B[ba][ha]=(T?f.mergeDeep:Object.assign)({},B[ba][ha]||{},ua):B[ba][ha]=
ua})})}catch(ba){}}function h(D,F){M=D;try{return F()}finally{M=null}}let q=[],u,g,B,M=null;const [L,R]=[n,function(){const D=n();Object.defineProperty(D,"ortb2",{get:function(){throw Error("invalid access to 'orbt2' config - use request parameters instead");}});return D}].map(D=>function(){if(1>=arguments.length&&"function"!==typeof(0>=arguments.length?void 0:arguments[0])){var F;const T=0>=arguments.length?void 0:arguments[0];return T?null===(F=D())||void 0===F?void 0:F[T]:n()}return v(...arguments)}),
[V,C]=[R,L].map(D=>function(){let F=D(...arguments);F&&"object"===typeof F&&(F=(0,f.deepClone)(F));return F});t();return{getCurrentBidder:function(){return M},resetBidder:function(){M=null},getConfig:R,getAnyConfig:L,readConfig:V,readAnyConfig:C,setConfig:p,mergeConfig:function(D){if((0,f.isPlainObject)(D))return D=(0,f.mergeDeep)(n(),D),p({...D}),D},setDefaults:function(D){(0,f.isPlainObject)(u)&&(Object.assign(u,D),Object.assign(g,D))},resetConfig:t,runWithBidder:h,callbackWithBidder:function(D){return function(F){return function(){if("function"===
typeof F){for(var T=arguments.length,ba=Array(T),ha=0;ha<T;ha++)ba[ha]=arguments[ha];return h(D,F.bind(this,...ba))}}}},setBidderConfig:A,getBidderConfig:function(){return B},mergeBidderConfig:function(D){return A(D,!0)}}}()},"./src/consentHandler.js":(O,G,d)=>{function y(ha,ua,aa){r(ha,ua);ua.set(ha,aa)}function r(ha,ua){if(ua.has(ha))throw new TypeError("Cannot initialize the same private elements twice on an object");}function f(ha,ua){return ha.get(z(ha,ua))}function l(ha,ua,aa){return ha.set(z(ha,
ua),aa),aa}function z(ha,ua,aa){if("function"==typeof ha?ha===ua:ha.has(ua))return 3>arguments.length?ua:aa;throw new TypeError("Private element is not present on this object");}function H(ha){l(h,this,!0);l(K,this,ha);f(A,this).resolve(ha)}d.d(G,{GDPR_GVLIDS:()=>F,allConsent:()=>ba,gdprDataHandler:()=>V,gppDataHandler:()=>D,uspDataHandler:()=>C});var w=d("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),t=d("./src/utils.js"),n=d("./src/utils/promise.js"),p=d("./src/config.js");Object.freeze({});
var v=new WeakMap,K=new WeakMap,A=new WeakMap,h=new WeakMap,q=new WeakMap,u=new WeakMap,g=new WeakSet;class B{constructor(){r(this,g);g.add(this);y(this,v,void 0);y(this,K,void 0);y(this,A,void 0);y(this,h,void 0);y(this,q,!0);y(this,u,void 0);(0,w["default"])(this,"generatedTime",void 0);(0,w["default"])(this,"hashFields",void 0);this.reset()}reset(){l(A,this,(0,n.defer)());l(v,this,!1);l(K,this,null);l(h,this,!1);this.generatedTime=null}enable(){l(v,this,!0)}get enabled(){return f(v,this)}get ready(){return f(h,
this)}get promise(){if(f(h,this))return n.GreedyPromise.resolve(f(K,this));f(v,this)||z(g,this,H).call(this,null);return f(A,this).promise}setConsentData(ha){this.generatedTime=1<arguments.length&&void 0!==arguments[1]?arguments[1]:(0,t.timestamp)();l(q,this,!0);z(g,this,H).call(this,ha)}getConsentData(){return f(K,this)}get hash(){f(q,this)&&(l(u,this,(0,t.cyrb53Hash)(JSON.stringify(f(K,this)&&this.hashFields?this.hashFields.map(ha=>f(K,this)[ha]):f(K,this)))),l(q,this,!1));return f(u,this)}}class M extends B{getConsentMeta(){const ha=
this.getConsentData();if(ha&&this.generatedTime)return{usp:ha,generatedAt:this.generatedTime}}}class L extends B{constructor(){super(...arguments);(0,w["default"])(this,"hashFields",["gdprApplies","consentString"])}getConsentMeta(){const ha=this.getConsentData();if(ha&&ha.vendorData&&this.generatedTime)return{gdprApplies:ha.gdprApplies,consentStringSize:(0,t.isStr)(ha.vendorData.tcString)?ha.vendorData.tcString.length:0,generatedAt:this.generatedTime,apiVersion:ha.apiVersion}}}class R extends B{constructor(){super(...arguments);
(0,w["default"])(this,"hashFields",["applicableSections","gppString"])}getConsentMeta(){if(this.getConsentData()&&this.generatedTime)return{generatedAt:this.generatedTime}}}const V=new L,C=new M,D=new R;O=(()=>{function ha(){return!!p.config.getConfig("coppa")}return{getCoppa:ha,getConsentData:ha,getConsentMeta:ha,reset(){},get promise(){return n.GreedyPromise.resolve(ha())},get hash(){return ha()?"1":"0"}}})();const F=function(){const ha={},ua={},aa={};return{register(ja,Z,ea){ea&&((ha[Z]=ha[Z]||
{})[ja]=ea,ua.hasOwnProperty(Z)?ua[Z]!==ea&&(ua[Z]=aa):ua[Z]=ea)},get(ja){const Z={modules:ha[ja]||{}};ua.hasOwnProperty(ja)&&ua[ja]!==aa&&(Z.gvlid=ua[ja]);return Z}}}(),T={gdpr:V,usp:C,gpp:D,coppa:O},ba=function(){function ha(aa){return function(){return Object.fromEntries(ua.map(ja=>{let [Z,ea]=ja;return[Z,ea[aa]()]}))}}let ua=0<arguments.length&&void 0!==arguments[0]?arguments[0]:T;ua=Object.entries(ua);return Object.assign({get promise(){return n.GreedyPromise.all(ua.map(aa=>{let [ja,Z]=aa;return Z.promise.then(ea=>
[ja,ea])})).then(aa=>Object.fromEntries(aa))},get hash(){return(0,t.cyrb53Hash)(ua.map(aa=>{[,aa]=aa;return aa.hash}).join(":"))}},Object.fromEntries(["getConsentData","getConsentMeta","reset"].map(aa=>[aa,ha(aa)])))}()},"./src/cpmBucketManager.js":(O,G,d)=>{function y(A,h){let q=2<arguments.length&&void 0!==arguments[2]?arguments[2]:1,u=parseFloat(A);isNaN(u)&&(u="");return{low:""===u?"":r(A,t,q),med:""===u?"":r(A,n,q),high:""===u?"":r(A,p,q),auto:""===u?"":r(A,K,q),dense:""===u?"":r(A,v,q),custom:""===
u?"":r(A,h,q)}}function r(A,h,q){let u="";if(!f(h))return u;const g=h.buckets.reduce((M,L)=>M.max>L.max?M:L,{max:0});let B=0;(h=(0,z.find)(h.buckets,M=>{if(A>g.max*q){let L=M.precision;"undefined"===typeof L&&(L=2);u=(M.max*q).toFixed(L)}else{if(A<=M.max*q&&A>=B*q)return M.min=B,M;B=M.max}}))&&(u=l(A,h,q));return u}function f(A){if((0,H.isEmpty)(A)||!A.buckets||!Array.isArray(A.buckets))return!1;let h=!0;A.buckets.forEach(q=>{q.max&&q.increment||(h=!1)});return h}function l(A,h,q){const u="undefined"!==
typeof h.precision?h.precision:2,g=h.increment*q;h=h.min*q;q=Math.floor;var B=w.config.getConfig("cpmRoundingFunction");"function"===typeof B&&(q=B);B=Math.pow(10,u+2);A=(A*B-h*B)/(g*B);let M,L;try{M=q(A)*g+h}catch(R){L=!0}if(L||"number"!==typeof M)M=Math.floor(A)*g+h;M=Number(M.toFixed(10));return M.toFixed(u)}d.d(G,{getPriceBucketString:()=>y,isValidPriceConfig:()=>f});var z=d("./src/polyfill.js"),H=d("./src/utils.js"),w=d("./src/config.js");const t={buckets:[{max:5,increment:.5}]},n={buckets:[{max:20,
increment:.1}]},p={buckets:[{max:20,increment:.01}]},v={buckets:[{max:3,increment:.01},{max:8,increment:.05},{max:20,increment:.5}]},K={buckets:[{max:5,increment:.05},{max:10,increment:.1},{max:20,increment:.5}]}},"./src/debugging.js":(O,G,d)=>{function y(){return(0,w.getGlobal)().installedModules.includes("debugging")}function r(A){return new v.GreedyPromise(h=>{(0,p.loadExternalScript)(A,"debugging",h)})}function f(){let {alreadyInstalled:A=y,script:h=r}=0<arguments.length&&void 0!==arguments[0]?
arguments[0]:{},q=null;return function(){null==q&&(q=new v.GreedyPromise((u,g)=>{setTimeout(()=>{A()?u():((0,w.getGlobal)()._installDebugging=!0,h("/build/dev/debugging-standalone.js").then(()=>{(0,w.getGlobal)()._installDebugging({DEBUG_KEY:"__pbjs_debugging__",hook:H.hook,config:z.config,createBid:n.createBid,logger:(0,t.prefixLog)("DEBUG:")})}).then(u,g))})}));return q}}function l(){let A=null;try{A=window.sessionStorage}catch(h){}if(null!==A){let h=K,q=null;try{q=A.getItem("__pbjs_debugging__")}catch(u){}null!==
q&&h.enable()}}d.d(G,{loadSession:()=>l});var z=d("./src/config.js"),H=d("./src/hook.js"),w=d("./src/prebidGlobal.js"),t=d("./src/utils.js"),n=d("./src/bidfactory.js"),p=d("./src/adloader.js"),v=d("./src/utils/promise.js");const K=function(){function A(M){for(var L=arguments.length,R=Array(1<L?L-1:0),V=1;V<L;V++)R[V-1]=arguments[V];return(g||v.GreedyPromise.resolve()).then(()=>M.apply(this,R))}function h(){u.getHooks({hook:A}).remove();B=!1}let {load:q=f(),hook:u=(0,H.getHook)("requestBids")}=0<arguments.length&&
void 0!==arguments[0]?arguments[0]:{},g=null,B=!1;return{enable:function(){B||(g=q(),u.before(A,99),B=!0)},disable:h,reset:function(){g=null;h()}}}();z.config.getConfig("debugging",function(A){({debugging:A}=A);null!==A&&void 0!==A&&A.enabled?K.enable():K.disable()})},"./src/events.js":(O,G,d)=>{function y(){l.clear()}d.r(G);d.d(G,{addEvents:()=>h,clearEvents:()=>y,emit:()=>A,get:()=>v,getEvents:()=>K,has:()=>q,off:()=>p,on:()=>n});var r=d("./src/utils.js");O=d("./src/constants.json");G=d("./src/utils/ttlCollection.js");
d=d("./src/config.js");let f=null;const l=(0,G.ttlCollection)({monotonic:!0,ttl:()=>f});d.config.getConfig("eventHistoryTTL",u=>{var g;const B=f;u=null===(g=u)||void 0===g?void 0:g.eventHistoryTTL;f="number"===typeof u?1E3*u:null;B!==f&&l.refresh()});let z=Array.prototype.slice,H=Array.prototype.push,w=Object.values(O.EVENTS);const t=O.EVENT_ID_PATHS;d=function(){function u(L,R){let V=R[0]||{},C=V[t[L]],D=B[L]||{que:[]};var F=Object.keys(D);let T=[];l.add({eventType:L,args:V,id:C,elapsedTime:r.getPerformanceNow()});
C&&F.includes(C)&&H.apply(T,D[C].que);H.apply(T,D.que);(T||[]).forEach(function(ba){if(ba)try{ba.apply(null,R)}catch(ha){}})}function g(L){return w.includes(L)}let B={},M={};M.has=g;M.on=function(L,R,V){if(g(L)){let C=B[L]||{que:[]};V?(C[V]=C[V]||{que:[]},C[V].que.push(R)):C.que.push(R);B[L]=C}};M.emit=function(L){let R=z.call(arguments,1);u(L,R)};M.off=function(L,R,V){let C=B[L];r.isEmpty(C)||r.isEmpty(C.que)&&r.isEmpty(C[V])||V&&(r.isEmpty(C[V])||r.isEmpty(C[V].que))||(V?(C[V].que||[]).forEach(function(D){let F=
C[V].que;D===R&&F.splice(F.indexOf(D),1)}):(C.que||[]).forEach(function(D){let F=C.que;D===R&&F.splice(F.indexOf(D),1)}),B[L]=C)};M.get=function(){return B};M.addEvents=function(L){w=w.concat(L)};M.getEvents=function(){return l.toArray().map(L=>Object.assign({},L))};return M}();const {on:n,off:p,get:v,getEvents:K,emit:A,addEvents:h,has:q}=d},"./src/hook.js":(O,G,d)=>{function y(n,p){let v=2<arguments.length&&void 0!==arguments[2]?arguments[2]:15;0===n.getHooks({hook:p}).length&&n.before(p,v)}function r(n,
p){let {postInstallAllowed:v=!1}=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};z("async",function(K){K.forEach(A=>p(...A));v&&(t[n]=p)},n)([])}function f(n){for(var p=arguments.length,v=Array(1<p?p-1:0),K=1;K<p;K++)v[K-1]=arguments[K];if(p=t[n])return p(...v);w(n).before((A,h)=>{h.push(v);A(h)})}function l(n,p){Object.defineProperties(p,Object.fromEntries(["before","after","getHooks","removeAll"].map(v=>[v,{get:()=>n[v]}])));return p}d.d(G,{getHook:()=>w,hook:()=>z,module:()=>r,setupBeforeHookFnOnce:()=>
y,submodule:()=>f,wrapHook:()=>l});O=d("./node_modules/fun-hooks/no-eval/index.js");O=d.n(O);d=d("./src/utils/promise.js");let z=O()({ready:O().SYNC|O().ASYNC|O().QUEUE});const H=(0,d.defer)();z.ready=(()=>{const n=z.ready;return function(){try{return n.apply(z,arguments)}finally{H.resolve()}}})();const w=z.get,t={}},"./src/mediaTypes.js":(O,G,d)=>{d.d(G,{ADPOD:()=>"adpod",BANNER:()=>"banner",NATIVE:()=>"native",VIDEO:()=>"video"})},"./src/native.js":(O,G,d)=>{function y(Y){Y.forEach(x=>{var E,Q=
x.nativeParams||(null===x||void 0===x||null===(E=x.mediaTypes)||void 0===E?void 0:E.native);if(Q){if(Q=(E=Q)&&E.type)Q=(Q=E.type)&&Object.keys(F).includes(Q)?!0:!1;Q&&(E=F[E.type]);E=E&&E.ortb&&!r(E.ortb)?void 0:E;x.nativeParams=E}x.nativeParams&&(x.nativeOrtbRequest=x.nativeParams.ortb||q(x.nativeParams))})}function r(Y){const x=Y.assets;if(!Array.isArray(x)||0===x.length)return!1;const E=x.map(Q=>Q.id);return x.length!==(new Set(E)).size||E.some(Q=>Q!==parseInt(Q,10))||Y.hasOwnProperty("eventtrackers")&&
!Array.isArray(Y.eventtrackers)?!1:x.every(Q=>f(Q))}function f(Y){if(!(0,L.isPlainObject)(Y))return!1;if(Y.img){if(!(0,L.isNumber)(Y.img.w)&&!(0,L.isNumber)(Y.img.wmin)||!(0,L.isNumber)(Y.img.h)&&!(0,L.isNumber)(Y.img.hmin))return!1}else if(Y.title){if(!(0,L.isNumber)(Y.title.len))return!1}else if(Y.data){if(!(0,L.isNumber)(Y.data.type))return!1}else if(Y.video&&!(Array.isArray(Y.video.mimes)&&Array.isArray(Y.video.protocols)&&(0,L.isNumber)(Y.video.minduration)&&(0,L.isNumber)(Y.video.maxduration)))return!1;
return!0}function l(Y){var x,{index:E=R.auctionManager.index}=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};E=E.getAdUnit(Y);if(!E)return!1;E=E.nativeOrtbRequest;let Q=(null===(x=Y.native)||void 0===x?void 0:x.ortb)||g(Y.native,E);return z(Q,E)}function z(Y,x){var E;if(null===Y||void 0===Y||null===(E=Y.link)||void 0===E||!E.url)return!1;x=x.assets.filter(k=>1===k.required).map(k=>k.id);let Q=Y.assets.map(k=>k.id);return x.every(k=>Q.includes(k))}function H(Y,x){x=x.native.ortb||u(x.native);
"click"===Y.action?t(x,null===Y||void 0===Y?void 0:Y.assetId):w(x);return Y.action}function w(Y){let {runMarkup:x=N=>(0,L.insertHtmlIntoIframe)(N),fetchURL:E=L.triggerPixel}=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};const Q=(Y.eventtrackers||[]).filter(N=>N.event===ia.impression);let {img:k,js:S}=Q.reduce((N,W)=>{ea.hasOwnProperty(W.method)&&N[ea[W.method]].push(W.url);return N},{img:[],js:[]});Y.imptrackers&&(k=k.concat(Y.imptrackers));k.forEach(N=>E(N));S=S.map(N=>`<script async src="${N}"></script>`);
Y.jstracker&&(S=S.concat([Y.jstracker]));S.length&&x(S.join("\n"))}function t(Y){var x=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;let {fetchURL:E=L.triggerPixel}=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};if(x){var Q;const S=(Y.assets||[]).filter(N=>N.link).reduce((N,W)=>{N[W.id]=W.link;return N},{});var k=(null===(Q=Y.link)||void 0===Q?void 0:Q.clicktrackers)||[];x=S[x];Q=k;x&&(Q=x.clicktrackers||[]);Q.forEach(N=>E(N))}else((null===(k=Y.link)||void 0===k?void 0:k.clicktrackers)||
[]).forEach(S=>E(S))}function n(Y){var x,E,Q;let {index:k=R.auctionManager.index}=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},S={};const N=k.getAdUnit(Y);null!==N&&void 0!==N&&null!==(x=N.nativeParams)&&void 0!==x&&x.rendererUrl?Y["native"].rendererUrl=A(N.nativeParams.rendererUrl):null!==N&&void 0!==N&&null!==(E=N.nativeParams)&&void 0!==E&&E.adTemplate&&(Y["native"].adTemplate=A(N.nativeParams.adTemplate));const W=!1!==(null===N||void 0===N||null===(Q=N.nativeParams)||void 0===Q?void 0:
Q.sendTargetingKeys),pa=h(N);x={...Y.native,...Y.native.ext};delete x.ext;Object.keys(x).forEach(oa=>{var xa,Fa,Ia;const Ba=pa[oa];let Oa=A(Y.native[oa])||A(null===Y||void 0===Y||null===(xa=Y.native)||void 0===xa||null===(xa=xa.ext)||void 0===xa?void 0:xa[oa]);if("adTemplate"!==oa&&Ba&&Oa){xa=null===N||void 0===N||null===(Fa=N.nativeParams)||void 0===Fa||null===(Fa=Fa[oa])||void 0===Fa?void 0:Fa.sendId;if("boolean"!==typeof xa){var fa;xa=null===N||void 0===N||null===(fa=N.nativeParams)||void 0===
fa||null===(fa=fa.ext)||void 0===fa||null===(fa=fa[oa])||void 0===fa?void 0:fa.sendId}xa&&(Oa=`${Ba}:${Y.adId}`);Fa=null===N||void 0===N||null===(Ia=N.nativeParams)||void 0===Ia||null===(Ia=Ia[oa])||void 0===Ia?void 0:Ia.sendTargetingKeys;if("boolean"!==typeof Fa){var X;Fa=null===N||void 0===N||null===(X=N.nativeParams)||void 0===X||null===(X=X.ext)||void 0===X||null===(X=X[oa])||void 0===X?void 0:X.sendTargetingKeys}if("boolean"===typeof Fa?Fa:W)S[Ba]=Oa}});return S}function p(Y,x,E){var Q,{index:k=
R.auctionManager.index}=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};const S={message:"assetResponse",adId:Y.adId};k=k.getAdUnit(x);let N=x.native;x.native.ortb?S.ortb=x.native.ortb:null!==(Q=k.mediaTypes)&&void 0!==Q&&null!==(Q=Q.native)&&void 0!==Q&&Q.ortb&&(S.ortb=g(x.native,k.nativeOrtbRequest));S.assets=[];(null==E?Object.keys(N):E).forEach(function(W){if("adTemplate"===W&&N[W])S.adTemplate=A(N[W]);else if("rendererUrl"===W&&N[W])S.rendererUrl=A(N[W]);else if("ext"===W)Object.keys(N[W]).forEach(pa=>
{if(N[W][pa]){const oa=A(N[W][pa]);S.assets.push({key:pa,value:oa})}});else if(N[W]&&V.NATIVE_KEYS.hasOwnProperty(W)){const pa=A(N[W]);S.assets.push({key:W,value:pa})}});return S}function v(Y,x){const E=Y.assets.map(Q=>qa[Q]);return p(Y,x,E)}function K(Y,x){return p(Y,x,null)}function A(Y){return(null===Y||void 0===Y?void 0:Y.url)||Y}function h(Y){var x;const E={};null!==Y&&void 0!==Y&&null!==(x=Y.nativeParams)&&void 0!==x&&x.ext&&Object.keys(Y.nativeParams.ext).forEach(Q=>{E[Q]=`hb_native_${Q}`});
return{...V.NATIVE_KEYS,...E}}function q(Y){if(Y||(0,L.isPlainObject)(Y)){var x={ver:"1.2",assets:[]};for(let Q in Y){if(ua.includes(Q))continue;if(!aa.hasOwnProperty(Q))continue;if("privacyLink"===Q){x.privacy=1;continue}const k=Y[Q];var E=0;k.required&&(0,L.isBoolean)(k.required)&&(E=Number(k.required));E={id:x.assets.length,required:E};if(Q in ha)E.data={type:T[ha[Q]]},k.len&&(E.data.len=k.len);else if("icon"===Q||"image"===Q){E.img={type:"icon"===Q?ba.ICON:ba.MAIN};if(k.aspect_ratios&&Array.isArray(k.aspect_ratios)&&
k.aspect_ratios.length){const {min_width:S,min_height:N}=k.aspect_ratios[0];Number.isInteger(S)&&Number.isInteger(N)&&(E.img.wmin=S,E.img.hmin=N);const W=k.aspect_ratios.filter(pa=>pa.ratio_width&&pa.ratio_height).map(pa=>`${pa.ratio_width}:${pa.ratio_height}`);0<W.length&&(E.img.ext={aspectratios:W})}k.sizes&&2===k.sizes.length&&Number.isInteger(k.sizes[0])&&Number.isInteger(k.sizes[1])&&(E.img.w=k.sizes[0],E.img.h=k.sizes[1],delete E.img.hmin,delete E.img.wmin)}else"title"===Q?E.title={len:k.len||
140}:"ext"===Q&&(E.ext=k,delete E.required);x.assets.push(E)}return x}}function u(Y){const x={link:{},eventtrackers:[]};Object.entries(Y).forEach(E=>{let [Q,k]=E;switch(Q){case "clickUrl":x.link.url=k;break;case "clickTrackers":x.link.clicktrackers=Array.isArray(k)?k:[k];break;case "impressionTrackers":(Array.isArray(k)?k:[k]).forEach(S=>{x.eventtrackers.push({event:ia.impression,method:ea.img,url:S})});break;case "javascriptTrackers":x.jstracker=Array.isArray(k)?k.join(""):k;break;case "privacyLink":x.privacy=
k}});return x}function g(Y,x){function E(k,S){k=x.assets.find(k);null!=k&&(k=(0,L.deepClone)(k),S(k),Q.assets.push(k))}const Q={...u(Y),assets:[]};Object.keys(Y).filter(k=>!!Y[k]).forEach(k=>{const S=A(Y[k]);switch(k){case "title":E(W=>null!=W.title,W=>{W.title={text:S}});break;case "image":case "icon":const N="image"===k?ba.MAIN:ba.ICON;E(W=>null!=W.img&&W.img.type===N,W=>{W.img={url:S}});break;default:k in ha&&E(W=>null!=W.data&&W.data.type===T[ha[k]],W=>{W.data={value:S}})}});return Q}function B(Y,
x){const E={};x=(null===x||void 0===x?void 0:x.assets)||[];E.clickUrl=Y.link.url;E.privacyLink=Y.privacy;for(const Q of(null===Y||void 0===Y?void 0:Y.assets)||[]){const k=x.find(S=>Q.id===S.id);Q.title?E.title=Q.title.text:Q.img?E[k.img.type===ba.MAIN?"image":"icon"]={url:Q.img.url,width:Q.img.w,height:Q.img.h}:Q.data&&(E[ja[Z[k.data.type]]]=Q.data.value)}E.impressionTrackers=[];x=[];Y.imptrackers&&E.impressionTrackers.push(...Y.imptrackers);for(const Q of(null===Y||void 0===Y?void 0:Y.eventtrackers)||
[])Q.event===ia.impression&&Q.method===ea.img&&E.impressionTrackers.push(Q.url),Q.event===ia.impression&&Q.method===ea.js&&x.push(Q.url);x=x.map(Q=>`<script async src="${Q}"></script>`);null!==Y&&void 0!==Y&&Y.jstracker&&x.push(Y.jstracker);x.length&&(E.javascriptTrackers=x.join("\n"));return E}function M(Y){var x={},E;for(E in Y)x[Y[E]]=E;return x}d.d(G,{NATIVE_TARGETING_KEYS:()=>D,decorateAdUnitsWithNativeParams:()=>y,fireNativeTrackers:()=>H,getAllAssetsMessage:()=>K,getAssetMessage:()=>v,getNativeTargeting:()=>
n,nativeAdapters:()=>C,nativeBidIsValid:()=>l,toLegacyResponse:()=>B});var L=d("./src/utils.js"),R=d("./src/auctionManager.js"),V=d("./src/constants.json");const C=[],D=Object.keys(V.NATIVE_KEYS).map(Y=>V.NATIVE_KEYS[Y]),F={image:{ortb:{ver:"1.2",assets:[{required:1,id:1,img:{type:3,wmin:100,hmin:100}},{required:1,id:2,title:{len:140}},{required:1,id:3,data:{type:1}},{required:0,id:4,data:{type:2}},{required:0,id:5,img:{type:1,wmin:20,hmin:20}}]},image:{required:!0},title:{required:!0},sponsoredBy:{required:!0},
clickUrl:{required:!0},body:{required:!1},icon:{required:!1}}},{NATIVE_ASSET_TYPES:T,NATIVE_IMAGE_TYPES:ba,PREBID_NATIVE_DATA_KEYS_TO_ORTB:ha,NATIVE_KEYS_THAT_ARE_NOT_ASSETS:ua,NATIVE_KEYS:aa}=V,ja=M(ha),Z=M(T),ea={img:1,js:2,1:"img",2:"js"},ia={impression:1,"viewable-mrc50":2,"viewable-mrc100":3,"viewable-video50":4},qa=Object.fromEntries(Object.entries(V.NATIVE_KEYS).map(Y=>{let [x,E]=Y;return[E,x]}))},"./src/polyfill.js":(O,G,d)=>{function y(l,z,H){return l&&l.includes(z,H)||!1}function r(){return Array.from.apply(Array,
arguments)}function f(l,z,H){return l&&l.find(z,H)}d.d(G,{arrayFrom:()=>r,find:()=>f,includes:()=>y})},"./src/prebid.js":(O,G,d)=>{function y(k,S){let N=[];Array.isArray(k)&&(S?k.length===S:0<k.length)&&(k.every(W=>(0,p.isArrayOfNums)(W,2))?N=k:(0,p.isArrayOfNums)(k,2)&&N.push(k));return N}function r(k){k=(0,p.deepClone)(k);const S=k.mediaTypes.banner,N=y(S.sizes);0<N.length?(S.sizes=N,k.sizes=N):delete k.mediaTypes.banner;return k}function f(k){k=(0,p.deepClone)(k);const S=k.mediaTypes.video;if(S.playerSize){const N=
y(S.playerSize,"number"===typeof S.playerSize[0]?2:1);0<N.length?(S.playerSize=N,k.sizes=N):delete k.mediaTypes.video.playerSize}return k}function l(k){const S=(0,p.deepClone)(k);k=S.mediaTypes.native;if(k.ortb){const N=Object.keys(V.NATIVE_KEYS).filter(pa=>V.NATIVE_KEYS[pa].includes("hb_native_")),W=Object.keys(k).filter(pa=>N.includes(pa));0<W.length&&W.forEach(pa=>delete S.mediaTypes.native[pa])}k.image&&k.image.sizes&&!Array.isArray(k.image.sizes)&&delete S.mediaTypes.native.image.sizes;k.image&&
k.image.aspect_ratios&&!Array.isArray(k.image.aspect_ratios)&&delete S.mediaTypes.native.image.aspect_ratios;k.icon&&k.icon.sizes&&!Array.isArray(k.icon.sizes)&&delete S.mediaTypes.native.icon.sizes;return S}function z(k,S){var N;let W=null===k||void 0===k||null===(N=k.mediaTypes)||void 0===N||null===(N=N[S])||void 0===N?void 0:N.pos;(0,p.isNumber)(W)&&!isNaN(W)&&isFinite(W)||(C.emit(V.EVENTS.AUCTION_DEBUG,{type:"WARNING",arguments:`Value of property 'pos' on ad unit ${k.code} should be of type: Number`}),
delete k.mediaTypes[S].pos);return k}function H(k){const S=k.mediaTypes,N=k.bids;if(null!=N&&!Array.isArray(N)||null==N&&null==k.ortb2Imp||!S||0===Object.keys(S).length)return null;null==k.ortb2Imp||null!=N&&0!==N.length||(k.bids=[{bidder:null}]);return k}function w(k){k.forEach(S=>(0,ua.fillVideoDefaults)(S))}function t(k){const S=q.auctionManager[k]().filter(W=>q.auctionManager.getAdUnitCodes().includes(W.adUnitCode)),N=q.auctionManager.getLastAuctionId();return S.map(W=>W.adUnitCode).filter(p.uniques).map(W=>
S.filter(pa=>pa.auctionId===N&&pa.adUnitCode===W)).filter(W=>W&&W[0]&&W[0].adUnitCode).map(W=>({[W[0].adUnitCode]:{bids:W}})).reduce((W,pa)=>Object.assign(W,pa),{})}function n(k){k.forEach(function(S){if("undefined"===typeof S.called)try{S.call(),S.called=!0}catch(N){}})}d.d(G,{checkAdUnitSetup:()=>qa});G=d("./src/prebidGlobal.js");var p=d("./src/utils.js"),v=d("./node_modules/dset/dist/index.mjs"),K=d("./src/secureCreatives.js"),A=d("./src/userSync.js"),h=d("./src/config.js"),q=d("./src/auctionManager.js"),
u=d("./src/targeting.js"),g=d("./src/hook.js");O=d("./src/debugging.js");var B=d("./src/adUnits.js"),M=d("./src/bidfactory.js"),L=d("./src/storageManager.js"),R=d("./src/adapterManager.js"),V=d("./src/constants.json"),C=d("./src/events.js"),D=d("./src/utils/perfMetrics.js"),F=d("./src/utils/promise.js"),T=d("./src/consentHandler.js"),ba=d("./libraries/creativeRender/direct.js"),ha=d("./src/utils/reducers.js"),ua=d("./src/video.js");const aa=(0,G.getGlobal)();({triggerUserSyncs:d}=A.userSync);const {ADD_AD_UNITS:ja,
REQUEST_BIDS:Z,SET_TARGETING:ea}=V.EVENTS,ia={bidWon:function(k){if(q.auctionManager.getBidsRequested().map(S=>S.bids.map(N=>N.adUnitCode)).reduce(p.flatten).filter(p.uniques).includes(k))return!0}};(0,O.loadSession)();aa.bidderSettings=aa.bidderSettings||{};aa.libLoaded=!0;aa.version="v8.32.0";aa.installedModules=aa.installedModules||[];aa.adUnits=aa.adUnits||[];aa.triggerUserSyncs=d;d={validateAdUnit:H,validateBannerMediaType:r,validateSizes:y};Object.assign(d,{validateNativeMediaType:l});Object.assign(d,
{validateVideoMediaType:f});const qa=(0,g.hook)("sync",function(k){const S=[];k.forEach(N=>{N=H(N);if(null!=N){var W=N.mediaTypes,pa;if(W.banner){var oa=r(N);W.banner.hasOwnProperty("pos")&&(oa=z(oa,"banner"))}if(W.video){var xa=oa?f(oa):f(N);W.video.hasOwnProperty("pos")&&(xa=z(xa,"video"))}W.native&&(pa=xa?l(xa):oa?l(oa):l(N));N=Object.assign({},oa,xa,pa);S.push(N)}});return S},"checkAdUnitSetup");aa.getAdserverTargetingForAdUnitCodeStr=function(k){if(k)return k=aa.getAdserverTargetingForAdUnitCode(k),
(0,p.transformAdServerTargetingObj)(k)};aa.getHighestUnusedBidResponseForAdUnitCode=function(k){if(k)return k=q.auctionManager.getAllBidsForAdUnitCode(k).filter(u.isBidUsable),k.length?k.reduce(ha.getHighestCpm):{}};aa.getAdserverTargetingForAdUnitCode=function(k){return aa.getAdserverTargeting(k)[k]};aa.getAdserverTargeting=function(k){return u.targeting.getAllTargeting(k)};aa.getConsentMetadata=function(){return T.allConsent.getConsentMeta()};aa.getNoBids=function(){return t("getNoBids")};aa.getNoBidsForAdUnitCode=
function(k){return{bids:q.auctionManager.getNoBids().filter(S=>S.adUnitCode===k)}};aa.getBidResponses=function(){return t("getBidsReceived")};aa.getBidResponsesForAdUnitCode=function(k){return{bids:q.auctionManager.getBidsReceived().filter(S=>S.adUnitCode===k)}};aa.setTargetingForGPTAsync=function(k,S){if((0,p.isGptPubadsDefined)()){var N=u.targeting.getAllTargeting(k);u.targeting.resetPresetTargeting(k,S);u.targeting.setTargetingForGPT(N,S);Object.keys(N).forEach(W=>{Object.keys(N[W]).forEach(pa=>
{"hb_adid"===pa&&q.auctionManager.setStatusForBids(N[W][pa],V.BID_STATUS.BID_TARGETING_SET)})});C.emit(ea,N)}};aa.setTargetingForAst=function(k){u.targeting.isApntagDefined()&&(u.targeting.setTargetingForAst(k),C.emit(ea,u.targeting.getAllTargeting()))};aa.renderAd=(0,g.hook)("async",function(k,S,N){(0,ba.renderAdDirect)(k,S,N)});aa.removeAdUnit=function(k){k?(Array.isArray(k)?k:[k]).forEach(S=>{for(let N=aa.adUnits.length-1;0<=N;N--)aa.adUnits[N].code===S&&aa.adUnits.splice(N,1)}):aa.adUnits=[]};
aa.requestBids=function(){const k=(0,g.hook)("async",function(){let {bidsBackHandler:S,timeout:N,adUnits:W,adUnitCodes:pa,labels:oa,auctionId:xa,ttlBuffer:Fa,ortb2:Ia,metrics:Ba,defer:Oa}=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};C.emit(Z);const fa=N||h.config.getConfig("bidderTimeout");pa&&pa.length?W=W.filter(la=>pa.includes(la.code)):pa=W&&W.map(la=>la.code);const X={global:(0,p.mergeDeep)({},h.config.getAnyConfig("ortb2")||{},Ia||{}),bidder:Object.fromEntries(Object.entries(h.config.getBidderConfig()).map(la=>
{let [va,Ea]=la;return[va,Ea.ortb2]}).filter(la=>{[,la]=la;return null!=la}))};return Y({bidsBackHandler:S,timeout:fa,adUnits:W,adUnitCodes:pa,labels:oa,auctionId:xa,ttlBuffer:Fa,ortb2Fragments:X,metrics:Ba,defer:Oa})},"requestBids");return(0,g.wrapHook)(k,function(){let S=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},N=S.adUnits||aa.adUnits;S.adUnits=Array.isArray(N)?N.slice():[N];S.metrics=(0,D.newMetrics)();S.metrics.checkpoint("requestBids");S.defer=(0,F.defer)({promiseFactory:W=>
new Promise(W)});k.call(this,S);return S.defer.promise})}();const Y=(0,g.hook)("async",function(){function k(X,la,va){if("function"===typeof S)try{S(X,la,va)}catch(Ea){}Oa.resolve({bids:X,timedOut:la,auctionId:va})}let {bidsBackHandler:S,timeout:N,adUnits:W,ttlBuffer:pa,adUnitCodes:oa,labels:xa,auctionId:Fa,ortb2Fragments:Ia,metrics:Ba,defer:Oa}=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};const fa=(0,R.getS2SBidderSet)(h.config.getConfig("s2sConfig")||[]);w(W);W=(0,D.useMetrics)(Ba).measureTime("requestBids.validate",
()=>qa(W));W.forEach(X=>{var la;const va=Object.keys(X.mediaTypes||{banner:"banner"});var Ea=X.bids.map(Na=>Na.bidder);const Ka=R["default"].bidderRegistry;Ea=Ea.filter(Na=>!fa.has(Na));const Aa=(null===(la=X.ortb2Imp)||void 0===la||null===(la=la.ext)||void 0===la?void 0:la.tid)||(0,p.generateUUID)();X.transactionId=Aa;null==pa||X.hasOwnProperty("ttlBuffer")||(X.ttlBuffer=pa);(0,v.dset)(X,"ortb2Imp.ext.tid",Aa);Ea.forEach(Na=>{var Sa=Ka[Na];const ab=(Sa=Sa&&Sa.getSpec&&Sa.getSpec())&&Sa.supportedMediaTypes||
["banner"];va.some(Za=>ab.includes(Za))?B.adunitCounter.incrementBidderRequestsCounter(X.code,Na):X.bids=X.bids.filter(Za=>Za.bidder!==Na)});B.adunitCounter.incrementRequestsCounter(X.code)});if(W&&0!==W.length){const X=q.auctionManager.createAuction({adUnits:W,adUnitCodes:oa,callback:k,cbTimeout:N,labels:xa,auctionId:Fa,ortb2Fragments:Ia,metrics:Ba});oa.forEach(la=>u.targeting.setLatestAuctionForAdUnit(la,X.getAuctionId()));X.callBids()}else k()},"startAuction");aa.requestBids.before(function(k,
S){for(var N=L.storageCallbacks,W;W=N.shift();)W();for(;N=x.shift();)N();k.call(this,S)},49);aa.addAdUnits=function(k){aa.adUnits.push.apply(aa.adUnits,Array.isArray(k)?k:[k]);C.emit(ja)};aa.onEvent=function(k,S,N){if((0,p.isFn)(S)&&(!N||ia[k].call(null,N)))C.on(k,S,N)};aa.offEvent=function(k,S,N){N&&!ia[k].call(null,N)||C.off(k,S,N)};aa.getEvents=function(){return C.getEvents()};aa.registerBidAdapter=function(k,S){try{R["default"].registerBidAdapter(k(),S)}catch(N){}};aa.registerAnalyticsAdapter=
function(k){try{R["default"].registerAnalyticsAdapter(k)}catch(S){}};aa.createBid=function(k){return(0,M.createBid)(k)};const x=[],E=(0,g.hook)("async",function(k){k&&!(0,p.isEmpty)(k)&&R["default"].enableAnalytics(k)},"enableAnalyticsCb");aa.enableAnalytics=function(k){x.push(E.bind(this,k))};aa.aliasBidder=function(k,S,N){k&&S&&R["default"].aliasBidAdapter(k,S,N)};aa.aliasRegistry=R["default"].aliasRegistry;h.config.getConfig("aliasRegistry",k=>{"private"===k.aliasRegistry&&delete aa.aliasRegistry});
aa.getAllWinningBids=function(){return q.auctionManager.getAllWinningBids()};aa.getAllPrebidWinningBids=function(){return q.auctionManager.getBidsReceived().filter(k=>k.status===V.BID_STATUS.BID_TARGETING_SET)};aa.getHighestCpmBids=function(k){return u.targeting.getWinningBids(k)};aa.markWinningBidAsUsed=function(k){k=Q(k,"Improper use of markWinningBidAsUsed. It needs an adUnitCode or an adId to function.");0<k.length&&q.auctionManager.addWinningBid(k[0])};const Q=(k,S)=>{S=[];k.adUnitCode&&k.adId?
S=q.auctionManager.getBidsReceived().filter(N=>N.adId===k.adId&&N.adUnitCode===k.adUnitCode):k.adUnitCode?S=u.targeting.getWinningBids(k.adUnitCode):k.adId&&(S=q.auctionManager.getBidsReceived().filter(N=>N.adId===k.adId));return S};aa.getConfig=h.config.getAnyConfig;aa.readConfig=h.config.readAnyConfig;aa.mergeConfig=h.config.mergeConfig;aa.mergeBidderConfig=h.config.mergeBidderConfig;aa.setConfig=h.config.setConfig;aa.gntConfig=h.config.gntConfig;aa.setBidderConfig=h.config.setBidderConfig;aa.que.push(()=>
(0,K.listenMessagesFromCreative)());aa.cmd.push=function(k){if("function"===typeof k)try{k.call()}catch(S){}};aa.que.push=aa.cmd.push;aa.processQueue=function(){g.hook.ready();n(aa.que);n(aa.cmd)};aa.triggerBilling=k=>{const S=Q(k,"Improper use of triggerBilling. It requires a bid with at least an adUnitCode or an adId to function."),N=S.find(W=>W.requestId===k.requestId)||S[0];if(0<S.length&&N)try{R["default"].callBidBillableBidder(N)}catch(W){}}},"./src/prebidGlobal.js":(O,G,d)=>{function y(){return f}
function r(l){f.installedModules.push(l)}d.d(G,{getGlobal:()=>y,registerModule:()=>r});O=window;const f=O.pbjs=O.pbjs||{};f.cmd=f.cmd||[];f.que=f.que||[];O===window&&(O._pbjsGlobals=O._pbjsGlobals||[],O._pbjsGlobals.push("pbjs"))},"./src/refererDetection.js":(O,G,d)=>{d.d(G,{getRefererInfo:()=>y});const y=function(r){return function(){const f=gnt.data.canonicalURL||null,l=r.location.href;return{reachedTop:!0,numIframes:0,stack:[l],topmostLocation:l,location:l,canonicalUrl:f,page:f||l,domain:(new URL(f||
l)).host,ref:document.referrer,legacy:{reachedTop:!0,isAmp:!1,numIframes:0,stack:[l],referer:l,canonicalUrl:f}}}}(window)},"./src/secureCreatives.js":(O,G,d)=>{function y(){window.addEventListener("message",f,!1)}function r(u){return null==u.origin&&0===u.ports.length?function(){throw Error("Cannot post message to a frame with null origin. Please update creatives to use MessageChannel, see https://github.com/prebid/Prebid.js/issues/7870");}:0<u.ports.length?function(g){u.ports[0].postMessage(JSON.stringify(g))}:
function(g){u.source.postMessage(JSON.stringify(g),u.origin)}}function f(u){var g=u.message?"message":"data",B={};try{B=JSON.parse(u[g])}catch(M){return}if(B&&B.adId&&B.message&&(g=(0,p.find)(n.auctionManager.getBidsReceived(),function(M){return M.adId===B.adId}),q.hasOwnProperty(B.message)))q[B.message](r(u),B,g)}function l(u){function g(V){const C=(0,p.find)(window.googletag.pubads().getSlots(),D=>(0,p.find)(D.getTargetingKeys(),F=>D.getTargeting(F).includes(V)));return C?C.getSlotElementId():null}
let {adId:B,adUnitCode:M,width:L,height:R}=u;["div","iframe"].forEach(V=>{V+=':not([style*="display: none"])';var C=(0,t.isGptPubadsDefined)()?g(B):(0,t.isApnGetTagDefined)()?(C=window.apntag.getTag(M))&&C.targetId:M;if(V=(C=document.getElementById(C))&&C.querySelector(V))V=V.style,V.width=L?L+"px":"100%",V.height=R+"px"})}d.d(G,{listenMessagesFromCreative:()=>y});var z=d("./src/events.js"),H=d("./src/native.js"),w=d("./src/constants.json"),t=d("./src/utils.js"),n=d("./src/auctionManager.js"),p=d("./src/polyfill.js"),
v=d("./src/adRendering.js"),K=d("./libraries/creativeRender/constants.js");const A=w.EVENTS.BID_WON,h=new WeakSet,q={[K.PREBID_REQUEST]:function(u,g,B){(0,v.handleRender)(function(M){l(B);u(Object.assign({message:K.PREBID_RESPONSE},M))},{options:g.options,adId:g.adId,bidResponse:B})},[K.PREBID_EVENT]:function(u,g,B){if(null!=B&&B.status===w.BID_STATUS.RENDERED)switch(g.event){case w.EVENTS.AD_RENDER_FAILED:(0,v.emitAdRenderFail)({bid:B,id:g.adId,reason:g.info.reason,message:g.info.message});break;
case w.EVENTS.AD_RENDER_SUCCEEDED:(0,v.emitAdRenderSucceeded)({doc:null,bid:B,id:g.adId})}}};Object.assign(q,{[K.PREBID_NATIVE]:function(u,g,B){if(null!=B)switch(h.has(B)||(h.add(B),n.auctionManager.addWinningBid(B),z.emit(A,B)),g.action){case "assetRequest":u((0,H.getAssetMessage)(g,B));break;case "allAssetRequest":u((0,H.getAllAssetsMessage)(g,B));break;case "resizeNativeHeight":B.height=g.height;B.width=g.width;l(B);break;default:(0,H.fireNativeTrackers)(g,B)}}})},"./src/storageManager.js":(O,
G,d)=>{function y(){function h(L,R){let V=u;const C=p.config.getCurrentBidder();C&&g===H.MODULE_TYPE_BIDDER&&v["default"].aliasRegistry[C]===u&&(V=C);R={valid:B(n.ACTIVITY_ACCESS_DEVICE,(0,K.activityParams)(g,V,{[t.ACTIVITY_PARAM_STORAGE_TYPE]:R}))};return L(R)}function q(L,R,V){if(V&&"function"===typeof V)A.push(function(){let C=h(L,R);V(C)});else return h(L,R)}let {moduleName:u,moduleType:g}=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},{isAllowed:B=w.isActivityAllowed}=1<arguments.length&&
void 0!==arguments[1]?arguments[1]:{};const M=function(L){return q(function(R){return R&&R.valid?("status"in M?R=M.status:(window.navigator.cookieEnabled||document.cookie.length?R=!0:(document.cookie="prebid.cookieTest",R=document.cookie.indexOf("prebid.cookieTest"),document.cookie="prebid.cookieTest;max-age=0",R=-1!==R),R=M.status=R),R):!1},"cookie",L)};return{setCookie:function(L,R,V,C,D){return q(function(F){F&&F.valid&&g$.run.push(()=>{g$.cs({name:L,value:R,ma:86400*V,domain:C})})},"cookie",D)},
cookiesAreEnabled:M,setDataInLocalStorage:function(L,R,V){return q(function(C){C&&C.valid&&gnt.storage&&g$.ls.setItem(L,R)},"html5",V)},getDataFromLocalStorage:function(L,R){return q(function(V){return V&&V.valid&&gnt.storage?g$.ls.getItem(L):null},"html5",R)},removeDataFromLocalStorage:function(L,R){return q(function(V){V&&V.valid&&gnt.storage&&g$.ls.removeItem(L)},"html5",R)}}}function r(){function h(){throw Error("Invalid invocation for getStorageManager: must set either bidderCode, or moduleType + moduleName");
}let {moduleType:q,moduleName:u,bidderCode:g}=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};g?((q&&q!==H.MODULE_TYPE_BIDDER||u)&&h(),q=H.MODULE_TYPE_BIDDER,u=g):u&&q||h();return y({moduleType:q,moduleName:u})}function f(h){return y({moduleName:h,moduleType:H.MODULE_TYPE_PREBID})}d.d(G,{getCoreStorageManager:()=>f,getStorageManager:()=>r,storageCallbacks:()=>A});var l=d("./src/utils.js"),z=d("./src/bidderSettings.js"),H=d("./src/activities/modules.js"),w=d("./src/activities/rules.js"),
t=d("./src/activities/params.js"),n=d("./src/activities/activities.js"),p=d("./src/config.js"),v=d("./src/adapterManager.js"),K=d("./src/activities/activityParams.js");let A=[];(0,w.registerActivityControl)(n.ACTIVITY_ACCESS_DEVICE,"deviceAccess config",function(){if(!(0,l.hasDeviceAccess)())return{allow:!1}});(0,w.registerActivityControl)(n.ACTIVITY_ACCESS_DEVICE,"bidderSettings.*.storageAllowed",function(h){if(h[t.ACTIVITY_PARAM_COMPONENT_TYPE]===H.MODULE_TYPE_BIDDER){var q=(1<arguments.length&&
void 0!==arguments[1]?arguments[1]:z.bidderSettings).get(h[t.ACTIVITY_PARAM_ADAPTER_CODE],"storageAllowed");if(q&&!0!==q){const u=h[t.ACTIVITY_PARAM_STORAGE_TYPE];q=Array.isArray(q)?q.some(g=>g===u):q===u}else q=!!q;if(!q)return{allow:q}}})},"./src/targeting.js":(O,G,d)=>{function y(g){return!Object.values(h).some(B=>!B(g))}function r(){let g=0<arguments.length&&void 0!==arguments[0]?arguments[0]:!1;return function(B,M){return void 0!==B.adserverTargeting.hb_deal&&void 0===M.adserverTargeting.hb_deal?
-1:void 0===B.adserverTargeting.hb_deal&&void 0!==M.adserverTargeting.hb_deal?1:g?M.cpm-B.cpm:M.adserverTargeting.hb_pb-B.adserverTargeting.hb_pb}}d.d(G,{isBidUsable:()=>y,targeting:()=>u});var f=d("./src/utils.js"),l=d("./src/config.js"),z=d("./src/native.js");O=d("./src/auctionManager.js");var H=d("./src/mediaTypes.js");G=d("./src/hook.js");var w=d("./src/bidderSettings.js"),t=d("./src/polyfill.js"),n=d("./src/constants.json"),p=d("./src/utils/reducers.js"),v=d("./src/bidTTL.js"),K=[];const A=Object.keys(n.TARGETING_KEYS).map(g=>
n.TARGETING_KEYS[g]);let h={isActualBid(g){return g.getStatusCode()===n.STATUS.GOOD},isBidNotExpired:g=>g.responseTimestamp+1E3*(0,v.getTTL)(g)>(0,f.timestamp)(),isUnusedBid:g=>g&&(g.status&&![n.BID_STATUS.RENDERED].includes(g.status)||!g.status)};const q=(0,G.hook)("sync",function(g,B){let M=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0;if(!(3<arguments.length&&void 0!==arguments[3]&&arguments[3])){const L=[],R=l.config.getConfig("sendBidsControl.dealPrioritization");let V=(0,f.groupBy)(g,
"adUnitCode");Object.keys(V).forEach(C=>{let D=[],F=(0,f.groupBy)(V[C],"bidderCode");Object.keys(F).forEach(T=>D.push(F[T].reduce(B)));0<M?(D=R?D.sort(r(!0)):D.sort((T,ba)=>ba.cpm-T.cpm),L.push(...D.slice(0,M))):L.push(...D)});return L}return g}),u=function(g){function B(x,E){return x.adserverTargeting&&E&&(Array.isArray(E)&&E.includes(x.adUnitCode)||"string"===typeof E&&x.adUnitCode===E)}function M(x,E){if(!0===l.config.getConfig("targetingControls.alwaysIncludeDeals")){const Q=A.concat(z.NATIVE_TARGETING_KEYS);
return q(E,p.getHighestCpm).map(k=>{if(k.dealId&&B(k,x))return{[k.adUnitCode]:ea(k,Q.filter(S=>"undefined"!==typeof k.adserverTargeting[S]))}}).filter(k=>k)}return[]}function L(x,E){const Q=Object.assign({},n.TARGETING_KEYS,n.NATIVE_KEYS),k=Object.keys(Q),S={};x.map(N=>{const W=Object.keys(N)[0],pa=N[W].filter(oa=>{const xa=Object.keys(oa)[0];oa=0===k.filter(Fa=>0===xa.indexOf(Q[Fa])).length||(0,t.find)(E,Fa=>0===xa.indexOf(Q[Fa]));S[xa]=!oa;return oa});N[W]=pa});Object.keys(S).filter(N=>S[N]);return x.filter(N=>
{const W=Object.keys(N)[0];return 0<N[W].length})}function R(x){return Object.keys(x).reduce(function(E,Q){Q=`${Q}%3d${encodeURIComponent(x[Q])}%26`;return E+Q},"")}function V(x,E){let Q=(0,f.deepClone)(x);return Object.keys(Q).map(k=>({adUnitCode:k,adserverTargeting:Q[k]})).sort(r()).reduce(function(k,S,N,W){var pa=R(S.adserverTargeting);N+1===W.length&&(pa=pa.slice(0,-3));S=S.adUnitCode;pa=pa.length;pa<=E&&(E-=pa,k[S]=Q[S]);N+1===W.length&&Object.keys(k);return k},{})}function C(x){return x.map(E=>
({[Object.keys(E)[0]]:E[Object.keys(E)[0]].map(Q=>({[Object.keys(Q)[0]]:Q[Object.keys(Q)[0]].join(",")})).reduce((Q,k)=>Object.assign(k,Q),{})})).reduce(function(E,Q){var k=Object.keys(Q)[0];E[k]=Object.assign({},E[k],Q[k]);return E},{})}function D(x){return"string"===typeof x?[x]:Array.isArray(x)?x:g.getAdUnitCodes()||[]}function F(){let x=g.getBidsReceived();if(l.config.getConfig("useBidCache")){const E=l.config.getConfig("bidCacheFilterFunction");"function"===typeof E&&(x=x.filter(Q=>Y[Q.adUnitCode]===
Q.auctionId||!!E(Q)))}else x=x.filter(E=>Y[E.adUnitCode]===E.auctionId);x=x.filter(E=>{var Q;return(null===E||void 0===E||null===(Q=E.video)||void 0===Q?void 0:Q.context)!==H.ADPOD}).filter(y);x.forEach(E=>{E.latestTargetedAuctionId=Y[E.adUnitCode];return E});return q(x,p.getOldestHighestCpmBid)}function T(x,E){x=qa.getWinningBids(x,E);let Q=ba();return x=x.map(k=>({[k.adUnitCode]:Object.keys(k.adserverTargeting).filter(S=>"undefined"===typeof k.sendStandardTargeting||k.sendStandardTargeting||-1===
Q.indexOf(S)).reduce((S,N)=>{const W=[k.adserverTargeting[N]],pa={[N.substring(0,20)]:W};return N===n.TARGETING_KEYS.DEAL?(N={[`${N}_${k.bidderCode}`.substring(0,20)]:W},[...S,pa,N]):[...S,pa]},[])}))}function ba(){return g.getStandardBidderAdServerTargeting().map(x=>x.key).concat(A).filter(f.uniques)}function ha(x,E,Q,k){function S(W){return function(pa){Array.isArray(pa.adserverTargeting[W])||(pa.adserverTargeting[W]=[pa.adserverTargeting[W]]);pa.adserverTargeting[W]=pa.adserverTargeting[W].concat(E.adserverTargeting[W]).filter(f.uniques);
delete E.adserverTargeting[W]}}function N(W){return function(pa){return pa.adUnitCode===E.adUnitCode&&pa.adserverTargeting[W]}}Object.keys(E.adserverTargeting).filter(ua()).forEach(W=>{x.length&&x.filter(N(W)).forEach(S(W))});x.push(E);return x}function ua(){const x=ba().concat(z.NATIVE_TARGETING_KEYS);return function(E){return-1===x.indexOf(E)}}function aa(x){return{[x.adUnitCode]:Object.keys(x.adserverTargeting).filter(ua()).map(E=>({[E.substring(0,20)]:[x.adserverTargeting[E]]}))}}function ja(x,
E){return E.filter(Q=>x.includes(Q.adUnitCode)).map(Q=>Object.assign({},Q)).reduce(ha,[]).map(aa).filter(Q=>Q)}function Z(x,E){const Q=A.concat(z.NATIVE_TARGETING_KEYS);var k=l.config.getConfig("sendBidsControl.bidLimit");E=q(E,p.getHighestCpm,k);const S=(k=l.config.getConfig("targetingControls.allowSendAllBidsTargetingKeys"))?k.map(N=>n.TARGETING_KEYS[N]):Q;return E.map(N=>{if(B(N,x))return{[N.adUnitCode]:ea(N,Q.filter(W=>"undefined"!==typeof N.adserverTargeting[W]&&-1!==S.indexOf(W)))}}).filter(N=>
N)}function ea(x,E){return E.map(Q=>({[`${Q}_${x.bidderCode}`.substring(0,20)]:[x.adserverTargeting[Q]]}))}function ia(x){function E(k){return null===k||void 0===k?void 0:k[n.JSON_MAPPING.ADSERVER_TARGETING]}function Q(k){const S=E(k);return Object.keys(S).map(function(N){(0,f.isStr)(S[N])&&(S[N]=S[N].split(",").map(W=>W.trim()));Array.isArray(S[N])||(S[N]=[S[N]]);return{[N]:S[N]}})}return g.getAdUnits().filter(k=>x.includes(k.code)&&E(k)).map(k=>({[k.code]:Q(k)}))}let qa={},Y={};qa.setLatestAuctionForAdUnit=
function(x,E){Y[x]=E};qa.resetPresetTargeting=function(x,E){if((0,f.isGptPubadsDefined)()){const Q=D(x),k=g.getAdUnits().filter(N=>Q.includes(N.code));let S=K.reduce((N,W)=>{N[W]=null;return N},{});window.googletag.pubads().getSlots().forEach(N=>{let W=(0,f.isFn)(E)&&E(N);k.forEach(pa=>{(pa.code===N.getAdUnitPath()||pa.code===N.getSlotElementId()||(0,f.isFn)(W)&&W(pa.code))&&N.updateTargetingFromMap(S)})})}};qa.resetPresetTargetingAST=function(x){D(x).forEach(function(E){const Q=window.apntag.getTag(E);
if(Q&&Q.keywords){const k={};Object.keys(Q.keywords).forEach(S=>{K.includes(S.toLowerCase())||(k[S]=Q.keywords[S])});window.apntag.modifyTag(E,{keywords:k})}})};qa.getAllTargeting=function(x){var E=1<arguments.length&&void 0!==arguments[1]?arguments[1]:F();const Q=D(x);var k=T(Q,E).concat(ja(Q,E)).concat(l.config.getConfig("enableSendAllBids")?Z(Q,E):M(Q,E)).concat(ia(Q));k.map(W=>{Object.keys(W).map(pa=>{W[pa].map(oa=>{-1===K.indexOf(Object.keys(oa)[0])&&(K=Object.keys(oa).concat(K))})})});E=Object.keys(Object.assign({},
n.DEFAULT_TARGETING_KEYS,n.NATIVE_KEYS));let S=l.config.getConfig("targetingControls.allowTargetingKeys");const N=l.config.getConfig("targetingControls.addTargetingKeys");if(null!=N&&null!=S)throw Error('Only one of "targetingControls.allowTargetingKeys" or "targetingControls.addTargetingKeys" can be set');S=null!=N?E.concat(N):S||E;Array.isArray(S)&&0<S.length&&(k=L(k,S));k=C(k);(E=l.config.getConfig("targetingControls.auctionKeyMaxChars"))&&(k=V(k,E));Q.forEach(W=>{k[W]||(k[W]={})});return k};l.config.getConfig("targetingControls",
function(x){});qa.setTargetingForGPT=function(x,E){window.googletag.pubads().getSlots().forEach(Q=>{Object.keys(x).filter(E?E(Q):(0,f.isAdUnitCodeMatchingSlot)(Q)).forEach(k=>{Object.keys(x[k]).forEach(S=>{let N=x[k][S];"string"===typeof N&&-1!==N.indexOf(",")&&(N=N.split(","));x[k][S]=N});Q.updateTargetingFromMap(x[k])})})};qa.getWinningBids=function(x){let E=1<arguments.length&&void 0!==arguments[1]?arguments[1]:F();const Q=D(x);return E.filter(k=>Q.includes(k.adUnitCode)).filter(k=>!0===w.bidderSettings.get(k.bidderCode,
"allowZeroCpmBids")?0<=k.cpm:0<k.cpm).map(k=>k.adUnitCode).filter(f.uniques).map(k=>E.filter(S=>S.adUnitCode===k?S:null).reduce(p.getHighestCpm))};qa.setTargetingForAst=function(x){let E=qa.getAllTargeting(x);try{qa.resetPresetTargetingAST(x)}catch(Q){}Object.keys(E).forEach(Q=>Object.keys(E[Q]).forEach(k=>{if((0,f.isStr)(E[Q][k])||Array.isArray(E[Q][k])){let S={};0>k.search(/pt[0-9]/)?S[k.toUpperCase()]=E[Q][k]:S[k]=E[Q][k];window.apntag.setKeywords(Q,S,{overrideKeyValue:!0})}}))};qa.isApntagDefined=
function(){if(window.apntag&&(0,f.isFn)(window.apntag.setKeywords))return!0};return qa}(O.auctionManager)},"./src/userSync.js":(O,G,d)=>{d.d(G,{userSync:()=>t});var y=d("./src/utils.js"),r=d("./src/config.js");O=d("./src/storageManager.js");G=d("./src/activities/rules.js");var f=d("./src/activities/activities.js"),l=d("./src/activities/params.js"),z=d("./src/activities/modules.js"),H=d("./src/activities/activityParams.js");r.config.setDefaults({userSync:(0,y.deepClone)({syncEnabled:!0,filterSettings:{image:{bidders:"*",
filter:"include"}},syncsPerBidder:5,syncDelay:3E3,auctionDelay:0})});const w=(0,O.getCoreStorageManager)("usersync"),t=function(n){function p(){if(V.syncEnabled&&n.browserSupportsCookies){try{A(),K()}catch(C){return}B={image:[],iframe:[]}}}function v(C,D){(0,y.shuffle)(C).forEach(D)}function K(){R.image&&v(B.image,C=>{[,C]=C;(0,y.triggerPixel)(C)})}function A(){R.iframe&&v(B.iframe,C=>{let [D,F]=C;(0,y.insertUserSyncIframe)(F);h(B,D)})}function h(C,D){C.image=C.image.filter(F=>F[0]!==D)}function q(C,
D){let F=V.filterSettings;return u(F,C)?(R[C]=!0,C=F.all?F.all:F[C],{include:(T,ba)=>!T.includes(ba),exclude:(T,ba)=>T.includes(ba)}[C.filter||"include"]("*"===C.bidders?[D]:C.bidders,D)):!R[C]}function u(C,D){if(C.all&&C[D])return!1;D=C.all?C.all:C[D];if(!D)return!1;C=D.filter;D=D.bidders;return C&&"include"!==C&&"exclude"!==C||"*"!==D&&!(Array.isArray(D)&&0<D.length&&D.every(F=>(0,y.isStr)(F)&&"*"!==F))?!1:!0}let g={},B={image:[],iframe:[]},M=new Set,L={},R={image:!0,iframe:!1},V=n.config;r.config.getConfig("userSync",
C=>{if(C.userSync){let D=C.userSync.filterSettings;!(0,y.isPlainObject)(D)||D.image||D.all||(C.userSync.filterSettings.image={bidders:"*",filter:"include"})}V=Object.assign(V,C.userSync)});n.regRule(f.ACTIVITY_SYNC_USER,"userSync config",C=>{if(!V.syncEnabled)return{allow:!1,reason:"syncs are disabled"};if(C[l.ACTIVITY_PARAM_COMPONENT_TYPE]===z.MODULE_TYPE_BIDDER){const D=C[l.ACTIVITY_PARAM_SYNC_TYPE];C=C[l.ACTIVITY_PARAM_COMPONENT_NAME];if(!g.canBidderRegisterSync(D,C))return{allow:!1,reason:`${D} syncs are not enabled for ${C}`}}});
g.registerSync=(C,D,F)=>{!M.has(D)&&V.syncEnabled&&Array.isArray(B[C])&&D&&!(0!==V.syncsPerBidder&&Number(L[D])>=V.syncsPerBidder)&&n.isAllowed(f.ACTIVITY_SYNC_USER,(0,H.activityParams)(z.MODULE_TYPE_BIDDER,D,{[l.ACTIVITY_PARAM_SYNC_TYPE]:C,[l.ACTIVITY_PARAM_SYNC_URL]:F}))&&(B[C].push([D,F]),C=L,C[D]=C[D]?C[D]+1:1,L=C)};g.bidderDone=M.add.bind(M);g.syncUsers=function(){let C=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0;if(C)return setTimeout(p,Number(C));p()};g.triggerUserSyncs=()=>{V.enableOverride&&
g.syncUsers()};g.canBidderRegisterSync=(C,D)=>V.filterSettings&&q(C,D)?!1:!0;return g}(Object.defineProperties({config:r.config.getConfig("userSync"),isAllowed:G.isActivityAllowed,regRule:G.registerActivityControl},{browserSupportsCookies:{get:function(){return!(0,y.isSafariBrowser)()&&w.cookiesAreEnabled()}}}))},"./src/utils.js":(O,G,d)=>{function y(){return eb}function r(){return lb()+Math.random().toString(16).substr(2)}function f(U){if(U){var da=window&&window.crypto&&window.crypto.getRandomValues?
crypto.getRandomValues(new Uint8Array(1))[0]%16:16*Math.random();U=(U^da>>U/4).toString(16)}else U=window.crypto&&crypto.randomUUID?crypto.randomUUID():"10000000-1000-4000-8000-100000000000".replace(/[018]/g,f);return U}function l(U,da){return(null===da||void 0===da?void 0:da[U])||""}function z(U){let da="";for(var sa in U)U.hasOwnProperty(sa)&&(da+=sa+"="+encodeURIComponent(U[sa])+"&");return da=da.replace(/&$/,"")}function H(U){return U&&0<Object.getOwnPropertyNames(U).length?Object.keys(U).map(da=>
`${da}=${encodeURIComponent(U[da])}`).join("&"):""}function w(U){return"string"===typeof U?U.split(",").filter(da=>da.match(/^(\d)+x(\d)+$/i)):"object"===typeof U?2===U.length&&"number"===typeof U[0]&&"number"===typeof U[1]?[t(U)]:U.map(t):[]}function t(U){if(fb(U)&&2===U.length&&!isNaN(U[0])&&!isNaN(U[1]))return U[0]+"x"+U[1]}function n(U){return{}}function p(U){return Ba(window.location.search)[U]||""}function v(U,da){return bb.call(U)==="[object "+da+"]"}function K(U){return v(U,Ta)}function A(U){return v(U,
Xa)}function h(U){return v(U,Qa)}function q(U){return v(U,Pa)}function u(U){return v(U,Ua)}function g(U){return U?fb(U)||A(U)?!(0<U.length):0>=Object.keys(U).length:!0}function B(U,da){if(K(null===U||void 0===U?void 0:U.forEach))return U.forEach(da,this);Object.entries(U||{}).forEach(sa=>{let [wa,Ca]=sa;return da.call(this,Ca,wa)})}function M(U,da,sa,wa){da=da||document;sa=sa?da.getElementsByTagName(sa):da.getElementsByTagName("head");try{if(sa=sa.length?sa:da.getElementsByTagName("body"),sa.length)return sa=
sa[0],sa.insertBefore(U,wa?null:sa.firstChild)}catch(Ca){}}function L(U,da){let sa=null;return new Za.GreedyPromise(wa=>{const Ca=function(){U.removeEventListener("load",Ca);U.removeEventListener("error",Ca);null!=sa&&window.clearTimeout(sa);wa()};U.addEventListener("load",Ca);U.addEventListener("error",Ca);null!=da&&(sa=window.setTimeout(Ca,da))})}function R(U,da,sa){const wa=new Image;da&&Va.isFn(da)&&L(wa,sa).then(da);wa.src=U}function V(U){let {source:da,burl:sa}=U;da===ab.S2S.SRC&&sa&&Va.triggerPixel(sa)}
function C(U){if(U){var da=document.createElement("iframe");da.id=r();da.height=0;da.width=0;da.border="0px";da.hspace="0";da.vspace="0";da.marginWidth="0";da.marginHeight="0";da.style.border="0";da.scrolling="no";da.frameBorder="0";da.src="about:blank";da.style.display="none";da.style.height="0px";da.style.width="0px";da.allowtransparency="true";Va.insertElement(da,document,"body");da=da.contentWindow.document;da.open();da.write(U);da.close()}}function D(U,da,sa){U=Va.createTrackPixelIframeHtml(U,
!1,"allow-scripts allow-same-origin");let wa=document.createElement("div");wa.innerHTML=U;U=wa.firstChild;da&&Va.isFn(da)&&L(U,sa).then(da);Va.insertElement(U,document,"html",!0)}function F(U){return U?'<div style="position:absolute;left:0px;top:0px;visibility:hidden;"><img src="'+(encodeURI(U)+'"></div>'):""}function T(U,da,sa){return sa.indexOf(U)===da}function ba(U,da){return U.concat(da)}function ha(U,da){if(U)return da.flatMap(sa=>sa.bids).find(sa=>["bidId","adId","bid_id"].some(wa=>sa[wa]===
U))}function ua(){return(0<arguments.length&&void 0!==arguments[0]?arguments[0]:hb.adUnits).map(U=>U.bids.map(da=>da.bidder).reduce(ba,[])).reduce(ba,[]).filter(U=>"undefined"!==typeof U).filter(T)}function aa(){if(window.googletag&&K(window.googletag.pubads)&&K(window.googletag.pubads().getSlots))return!0}function ja(){if(window.apntag&&K(window.apntag.getTag))return!0}function Z(U){let da=U.length;for(;0<da;){let sa=Math.floor(Math.random()*da);da--;let wa=U[da];U[da]=U[sa];U[sa]=wa}return U}function ea(U){if("object"!==
typeof U||null===U)return U;const da=Array.isArray(U)?[]:{};let sa;for(sa in U)da[sa]=ea(U[sa]);return da}function ia(){try{return window.self!==window.top}catch(U){return!0}}function qa(){return/^((?!chrome|android|crios|fxios).)*safari/i.test(navigator.userAgent)}function Y(U,da){if(U)return Object.entries(da).reduce((sa,wa)=>{let [Ca,Wa]=wa;return sa.replace(new RegExp("\\$\\{"+Ca+"\\}","g"),Wa||"")},U)}function x(U,da){return Y(U,{AUCTION_PRICE:da})}function E(){return Date.now()}function Q(){return window.performance&&
window.performance.now&&window.performance.now()||0}function k(){return!1!==Sa.config.getConfig("deviceAccess")}function S(U,da){if(1>da)throw Error(`numRequiredCalls must be a positive number. Got ${da}`);let sa=0;return function(){sa++;sa===da&&U.apply(this,arguments)}}function N(U,da){return U.reduce(function(sa,wa){(sa[wa[da]]=sa[wa[da]]||[]).push(wa);return sa},{})}function W(U,da){return da.filter(sa=>U[sa]).reduce((sa,wa)=>Object.assign(sa,{[wa]:U[wa]}),{})}function pa(U){const da=["banner",
"native","video"],sa=["instream","outstream","adpod"];return Object.keys(U).every(wa=>da.includes(wa))?U.video&&U.video.context?sa.includes(U.video.context):!0:!1}function oa(U,da,sa){return U.filter(wa=>wa.code===da).flatMap(wa=>wa.bids).filter(wa=>wa.bidder===sa).map(wa=>wa.params||{})}function xa(U){return da=>U.getAdUnitPath()===da||U.getSlotElementId()===da}function Fa(U,da){return"object"!==typeof U?{}:da.reduce((sa,wa,Ca)=>{if("function"===typeof wa)return sa;let Wa=wa,Ya=wa.match(/^(.+?)\sas\s(.+?)$/i);
Ya&&(wa=Ya[1],Wa=Ya[2]);wa=U[wa];"function"===typeof da[Ca+1]&&(wa=da[Ca+1](wa,sa));"undefined"!==typeof wa&&(sa[Wa]=wa);return sa},{})}function Ia(U,da){return fb(U)&&(da?U.length===da:!0)&&U.every(sa=>Number.isInteger(sa))}function Ba(U){return U?U.replace(/^\?/,"").split("&").reduce((da,sa)=>{let [wa,Ca]=sa.split("=");/\[\]$/.test(wa)?(wa=wa.replace("[]",""),da[wa]=da[wa]||[],da[wa].push(Ca)):da[wa]=Ca||"";return da},{}):{}}function Oa(U){return Object.keys(U).map(da=>Array.isArray(U[da])?U[da].map(sa=>
`${da}[]=${sa}`).join("&"):`${da}=${U[da]}`).join("&")}function fa(U,da){U=null!==da&&void 0!==da&&da.ensureProtocol&&!/^\w+:\/\//.test(U)?U.replace(/^(\/\/)?/,window.location.protocol+"//"):U;U=new URL(null!==da&&void 0!==da&&da.noDecodeWholeURL?U:decodeURIComponent(U),window.location.origin);return{href:U.href,origin:U.origin,protocol:(U.protocol||"").replace(/:$/,""),hostname:U.hostname,port:+U.port,pathname:U.pathname.replace(/^(?!\/)/,"/"),search:null!==da&&void 0!==da&&da.decodeSearchAsString?
U.search:Va.parseQS(U.search||""),hash:(U.hash||"").replace(/^#/,""),host:null!==da&&void 0!==da&&da.noLeadingWww&&U.host.startsWith("www.")?U.host.substring(4):U.host}}function X(U){return(U.protocol||"http")+"://"+(U.host||U.hostname+(U.port?`:${U.port}`:""))+(U.pathname||"")+(U.search?`?${Va.formatQS(U.search||"")}`:"")+(U.hash?`#${U.hash}`:"")}function la(U,da){let {checkTypes:sa=!1}=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};if(U===da)return!0;if("object"!==typeof U||null===U||
"object"!==typeof da||null===da||sa&&U.constructor!==da.constructor||Object.keys(U).length!==Object.keys(da).length)return!1;for(let wa in U)if(da.hasOwnProperty(wa)){if(!la(U[wa],da[wa],{checkTypes:sa}))return!1}else return!1;return!0}function va(U){for(var da=arguments.length,sa=Array(1<da?da-1:0),wa=1;wa<da;wa++)sa[wa-1]=arguments[wa];if(!sa.length)return U;da=sa.shift();if(q(U)&&q(da))for(const Ca in da)q(da[Ca])?(U[Ca]||Object.assign(U,{[Ca]:{}}),va(U[Ca],da[Ca])):fb(da[Ca])?U[Ca]?fb(U[Ca])&&
da[Ca].forEach(Wa=>{let Ya=1;for(let gb=0;gb<U[Ca].length;gb++)if(la(U[Ca][gb],Wa)){Ya=0;break}Ya&&U[Ca].push(Wa)}):Object.assign(U,{[Ca]:[...da[Ca]]}):Object.assign(U,{[Ca]:da[Ca]});return va(U,...sa)}function Ea(U){var da=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;const sa=Math.imul;let wa=3735928559^da;da^=1103547991;for(let Ca=0,Wa;Ca<U.length;Ca++)Wa=U.charCodeAt(Ca),wa=sa(wa^Wa,2654435761),da=sa(da^Wa,1597334677);wa=sa(wa^wa>>>16,2246822507)^sa(da^da>>>13,3266489909);da=sa(da^
da>>>16,2246822507)^sa(wa^wa>>>13,3266489909);return(4294967296*(2097151&da)+(wa>>>0)).toString()}function Ka(U){let da=1<arguments.length&&void 0!==arguments[1]?arguments[1]:function(Ca){return Ca};const sa=new Map,wa=function(){const Ca=da.apply(this,arguments);sa.has(Ca)||sa.set(Ca,U.apply(this,arguments));return sa.get(Ca)};wa.clear=sa.clear.bind(sa);return wa}function Aa(U,da){Object.entries(da).forEach(sa=>{let [wa,Ca]=sa;return U.setAttribute(wa,Ca)})}function Na(U,da){let sa=2<arguments.length&&
void 0!==arguments[2]?arguments[2]:Ya=>Ya,wa=0,Ca=U.length&&U.length-1;const Wa=sa(da);for(;1<Ca-wa;){const Ya=wa+Math.round((Ca-wa)/2);Wa>sa(U[Ya])?wa=Ya:Ca=Ya}for(;U.length>wa&&Wa>sa(U[wa]);)wa++;return wa}d.d(G,{_each:()=>B,binarySearch:()=>Na,buildUrl:()=>X,callBurl:()=>V,createTrackPixelHtml:()=>F,cyrb53Hash:()=>Ea,deepClone:()=>ea,delayExecution:()=>S,flatten:()=>ba,formatQS:()=>Oa,generateUUID:()=>f,getBidIdParameter:()=>l,getBidRequest:()=>ha,getBidderCodes:()=>ua,getDefinedParams:()=>W,getParameterByName:()=>
p,getPerformanceNow:()=>Q,getPrebidInternal:()=>y,getUniqueIdentifierStr:()=>r,getUserConfiguredParams:()=>oa,groupBy:()=>N,hasDeviceAccess:()=>k,inIframe:()=>ia,insertElement:()=>M,insertHtmlIntoIframe:()=>C,insertUserSyncIframe:()=>D,isAdUnitCodeMatchingSlot:()=>xa,isApnGetTagDefined:()=>ja,isArray:()=>fb,isArrayOfNums:()=>Ia,isBoolean:()=>u,isEmpty:()=>g,isFn:()=>K,isGptPubadsDefined:()=>aa,isNumber:()=>h,isPlainObject:()=>q,isSafariBrowser:()=>qa,isStr:()=>A,isValidMediaTypes:()=>pa,memoize:()=>
Ka,mergeDeep:()=>va,parseQueryStringParameters:()=>z,parseSizesInput:()=>w,parseUrl:()=>fa,pick:()=>Fa,prefixLog:()=>n,replaceAuctionPrice:()=>x,replaceMacros:()=>Y,setScriptAttributes:()=>Aa,shuffle:()=>Z,timestamp:()=>E,transformAdServerTargetingObj:()=>H,triggerPixel:()=>R,uniques:()=>T});var Sa=d("./src/config.js"),ab=d("./src/constants.json"),Za=d("./src/utils/promise.js");O=d("./src/prebidGlobal.js");var Xa="String",Ta="Function",Qa="Number",Pa="Object",Ua="Boolean",bb=Object.prototype.toString;
const hb=(0,O.getGlobal)(),Va={createTrackPixelIframeHtml:function(U){let da=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"";if(!U)return"";if(1<arguments.length&&void 0!==arguments[1]?arguments[1]:1)U=encodeURI(U);da&&(da=`sandbox="${da}"`);return`<iframe ${da} id="${r()}"
      frameborder="0"
      allowtransparency="true"
      marginheight="0" marginwidth="0"
      width="0" hspace="0" vspace="0" height="0"
      style="height:0px;width:0px;display:none;"
      scrolling="no"
      src="${U}">
    </iframe>`},insertUserSyncIframe:D,insertElement:M,isFn:K,triggerPixel:R,parseQS:Ba,formatQS:Oa,deepEqual:la};let eb={};var lb=function(){var U=0;return function(){U++;return U}}();const fb=Array.isArray.bind(Array)},"./src/utils/cpm.js":(O,G,d)=>{function y(l,z,H){var w;let {index:t=r.auctionManager.index,bs:n=f.bidderSettings}=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};H=H||t.getBidRequest(z);var p=null===z||void 0===z?void 0:z.adapterCode;const v=(null===z||void 0===z?void 0:
z.bidderCode)||(null===(w=H)||void 0===w?void 0:w.bidder);w=n.get(null===z||void 0===z?void 0:z.adapterCode,"adjustAlternateBids");if((p=n.getOwn(v,"bidCpmAdjustment")||n.get(w?p:v,"bidCpmAdjustment"))&&"function"===typeof p)try{return p(l,Object.assign({},z),H)}catch(K){}return l}d.d(G,{adjustCpm:()=>y});var r=d("./src/auctionManager.js"),f=d("./src/bidderSettings.js");d("./src/utils.js")},"./src/utils/perfMetrics.js":(O,G,d)=>{function y(){let {now:K=w,mkNode:A=l,mkTimer:h=f,mkRenamer:q=g=>g,nodes:u=
t}=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return function(){function g(B){function M(F,T){const ba=V(F);B.dfWalk({follow(ha,ua){return ua.propagate&&(!ha||!ha.stopPropagation)},visit(ha,ua){ba.forEach(aa=>{null==ha?ua.metrics[aa]=T:(ua.groups.hasOwnProperty(aa)||(ua.groups[aa]=[]),ua.groups[aa].push(T))})}})}function L(F){return h(K,T=>M(F,T))}function R(){let F={};B.dfWalk({visit(T,ba){F=Object.assign({},!T||T.includeGroups?ba.groups:null,ba.metrics,F)}});return F}let V=1<arguments.length&&
void 0!==arguments[1]?arguments[1]:F=>({forEach(T){T(F)}});V=q(V);const C=function(F){return function(T){return B.dfWalk({visit(ba,ha){ba=ha[F];if(ba.hasOwnProperty(T))return ba[T]}})}}("timestamps"),D={startTiming:L,measureTime:function(F,T){return L(F).stopAfter(T)()},measureHookTime:function(F,T,ba){F=L(F);{const ha=F.stopBefore(T);ha.bail=T.bail&&F.stopBefore(T.bail);ha.stopTiming=F;ha.untimed=T;T=ha}return ba(T)},checkpoint:function(F){B.timestamps[F]=K()},timeSince:function(F,T){F=C(F);F=null!=
F?K()-F:null;null!=T&&M(T,F);return F},timeBetween:function(F,T,ba){F=C(F);T=C(T);T=null!=F&&null!=T?T-F:null;null!=ba&&M(ba,T);return T},setMetric:M,getMetrics:R,fork:function(){let {propagate:F=!0,stopPropagation:T=!1,includeGroups:ba=!1}=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return g(A([[B,{propagate:F,stopPropagation:T,includeGroups:ba}]]),V)},join:function(F){let {propagate:T=!0,stopPropagation:ba=!1,includeGroups:ha=!1}=1<arguments.length&&void 0!==arguments[1]?arguments[1]:
{};const ua=u.get(F);null!=ua&&ua.addParent(B,{propagate:T,stopPropagation:ba,includeGroups:ha})},newMetrics:function(){return g(B.newSibling(),V)},renameWith:function(F){return g(B,F)},toJSON(){return R()}};u.set(D,B);return D}return g(A([]))}}function r(K,A,h){return function(){A&&A();try{return K.apply(this,arguments)}finally{h&&h()}}}function f(K,A){function h(){u||(A(K()-q),u=!0)}const q=K();let u=!1;h.stopBefore=g=>r(g,h);h.stopAfter=g=>r(g,null,h);return h}function l(K){return{metrics:{},timestamps:{},
groups:{},addParent(A,h){K.push([A,h])},newSibling(){return l(K.slice())},dfWalk(){let {visit:A,follow:h=()=>!0,visited:q=new Set,inEdge:u}=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},g;if(!q.has(this)){q.add(this);g=A(u,this);if(null!=g)return g;for(const [B,M]of K)if(h(u,M)&&(g=B.dfWalk({visit:A,follow:h,visited:q,inEdge:M}),null!=g))return g}}}}function z(K){return p&&K||n}function H(K,A){return function(h,q){return function(u){for(var g=arguments.length,B=Array(1<g?g-1:0),M=1;M<
g;M++)B[M-1]=arguments[M];const L=this;return z(A.apply(L,B)).measureHookTime(K+h,u,function(R){return q.call(L,R,...B)})}}}d.d(G,{newMetrics:()=>v,useMetrics:()=>z});O=d("./src/config.js");const w=window.performance&&window.performance.now?()=>window.performance.now():()=>Date.now(),t=new WeakMap,n=(()=>{const K=function(){},A=()=>({}),h={forEach:K},q=()=>null;q.stopBefore=g=>g;q.stopAfter=g=>g;const u=Object.defineProperties({dfWalk:K,newSibling:()=>u,addParent:K},Object.fromEntries(["metrics",
"timestamps","groups"].map(g=>[g,{get:A}])));return y({now:()=>0,mkNode:()=>u,mkRenamer:()=>()=>h,mkTimer:()=>q,nodes:{get:K,set:K}})()})();let p=!0;O.config.getConfig("performanceMetrics",K=>{p=!!K.performanceMetrics});const v=(()=>{const K=y();return function(){return p?K():n}})();H("requestBids.",K=>K.metrics);H("addBidResponse.",(K,A)=>A.metrics)},"./src/utils/promise.js":(O,G,d)=>{function y(t,n,p){if(n.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object");
n.set(t,p)}function r(t,n,p){if("function"==typeof t?t===n:t.has(n))return 3>arguments.length?n:p;throw new TypeError("Private element is not present on this object");}function f(t,n,p){function v(){n.apply(this,arguments);0>=--K&&p&&p()}let K=t.length;0===t.length&&p?p():t.forEach((A,h)=>this.resolve(A).then(q=>v(!0,q,h),q=>v(!1,q,h)))}function l(){function t(K){return A=>K(A)}let {promiseFactory:n=K=>new w(K)}=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},p,v;return{promise:n((K,A)=>
{p=K;v=A}),resolve:t(p),reject:t(v)}}d.d(G,{GreedyPromise:()=>w,defer:()=>l});var z=new WeakMap,H=new WeakMap;class w{static timeout(){let t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0;return new w(n=>{0===t?n():setTimeout(n,t)})}constructor(t){y(this,z,void 0);y(this,H,void 0);if("function"!==typeof t)throw Error("resolver not a function");const n=[],p=[];let [v,K]=[0,1].map(A=>function(h){if(0===A&&"function"===typeof(null===h||void 0===h?void 0:h.then))h.then(v,K);else if(!n.length)for(n.push(A,
h);p.length;)p.shift()()});try{t(v,K)}catch(A){K(A)}z.set(r(z,this),n);H.set(r(H,this),p)}then(t,n){const p=z.get(r(z,this));return new this.constructor((v,K)=>{const A=()=>{let h=p[1],[q,u]=0===p[0]?[t,v]:[n,K];if("function"===typeof q){try{h=q(h)}catch(g){K(g);return}u=v}u(h)};p.length?A():H.get(r(H,this)).push(A)})}catch(t){return this.then(null,t)}finally(t){let n;return this.then(p=>{n=p;return t()},p=>{n=this.constructor.reject(p);return t()}).then(()=>n)}static race(t){return new this((n,p)=>
{r(w,this,f).call(this,t,(v,K)=>v?n(K):p(K))})}static all(t){return new this((n,p)=>{let v=[];r(w,this,f).call(this,t,(K,A,h)=>K?v[h]=A:p(A),()=>n(v))})}static allSettled(t){return new this(n=>{let p=[];r(w,this,f).call(this,t,(v,K,A)=>p[A]=v?{status:"fulfilled",value:K}:{status:"rejected",reason:K},()=>n(p))})}static resolve(t){return new this(n=>n(t))}static reject(t){return new this((n,p)=>p(t))}}},"./src/utils/reducers.js":(O,G,d)=>{function y(n,p){return n===p?0:n<p?-1:1}function r(){let n=0<
arguments.length&&void 0!==arguments[0]?arguments[0]:p=>p;return(p,v)=>y(n(p),n(v))}function f(){let n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:y;return(p,v)=>-n(p,v)||0}function l(){for(var n=arguments.length,p=Array(n),v=0;v<n;v++)p[v]=arguments[v];return function(K,A){for(const h of p){const q=h(K,A);if(0!==q)return q}return 0}}function z(){let n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:y;return(p,v)=>0>n(v,p)?v:p}function H(){return z(f(0<arguments.length&&void 0!==
arguments[0]?arguments[0]:y))}d.d(G,{getHighestCpm:()=>w,getOldestHighestCpmBid:()=>t,keyCompare:()=>r,minimum:()=>z});O=r(n=>n.cpm);G=r(n=>n.responseTimestamp);const w=H(l(O,f(r(n=>n.timeToRespond)))),t=H(l(O,f(G)));H(l(O,G))},"./src/utils/ttlCollection.js":(O,G,d)=>{function y(){function l(){h&&clearTimeout(h);if(0<v.length){const u=(0,f.timestamp)();A=Math.max(u,v[0].expiry+n);h=setTimeout(()=>{const g=(0,f.timestamp)();let B=0;for(const M of v){if(M.expiry>g)break;p.delete(M.item);B++}v.splice(0,
B);h=null;l()},A-u)}else h=null}function z(u){const g={},B=q;let M;const [L,R]=Object.entries({start:H,delta:w}).map(C=>{let [D,F]=C,T;return function(){const ba=T={};r.GreedyPromise.resolve(F(u)).then(ha=>{ba===T&&(g[D]=ha,B===q&&null!=g.start&&null!=g.delta&&(M=g.start+g.delta,K(V),(null==h||A>M+n)&&l()))})}}),V={item:u,refresh:R,get expiry(){return M}};L();R();return V}let {startTime:H=f.timestamp,ttl:w=()=>null,monotonic:t=!1,slack:n=5E3}=0<arguments.length&&void 0!==arguments[0]?arguments[0]:
{};const p=new Map,v=[],K=t?u=>v.push(u):u=>v.splice((0,f.binarySearch)(v,u,g=>g.expiry),0,u);let A,h,q={};return{[Symbol.iterator]:()=>p.keys(),add(u){!p.has(u)&&p.set(u,z(u))},clear(){v.length=0;l();p.clear();q={}},toArray(){return Array.from(p.keys())},refresh(){v.length=0;l();for(const u of p.values())u.refresh()}}}d.d(G,{ttlCollection:()=>y});var r=d("./src/utils/promise.js"),f=d("./src/utils.js")},"./src/video.js":(O,G,d)=>{function y(w){var t;w=null===w||void 0===w||null===(t=w.mediaTypes)||
void 0===t?void 0:t.video;null!=w&&null==w.plcmt&&("outstream"===w.context||[2,3,4].includes(w.placement)?w.plcmt=4:"outstream"!==w.context&&[2,6].includes(w.playbackmethod)&&(w.plcmt=2))}function r(w){var {index:t=z.auctionManager.index}=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};const n=(0,f["default"])(t.getMediaTypes(w),"video"),p=n&&(0,f["default"])(n,"context"),v=n&&(0,f["default"])(n,"useCacheKey");t=t.getAdUnit(w);return H(w,t,n,p,v)}d.d(G,{OUTSTREAM:()=>"outstream",checkVideoBidSetup:()=>
H,fillVideoDefaults:()=>y,isValidVideoBid:()=>r});var f=d("./node_modules/dlv/index.js");d("./src/utils.js");var l=d("./src/config.js");O=d("./src/hook.js");var z=d("./src/auctionManager.js");const H=(0,O.hook)("sync",function(w,t,n,p,v){return n&&(v||"outstream"!==p)?l.config.getConfig("cache.url")||!w.vastXml||w.vastUrl?!(!w.vastUrl&&!w.vastXml):!1:"outstream"!==p||v?!0:!!(w.renderer||t&&t.renderer||n.renderer)},"checkVideoBidSetup")},"./src/videoCache.js":(O,G,d)=>{function y(t){var {index:n=w.auctionManager.index}=
1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(t.vastXml)var p=t.vastXml;else p=t.vastImpUrl,p=`<VAST version="3.0">
    <Ad>
      <Wrapper>
        <AdSystem>prebid.org wrapper</AdSystem>
        <VASTAdTagURI><![CDATA[${t.vastUrl}]]></VASTAdTagURI>
        <Impression>${p?`<![CDATA[${p}]]>`:""}</Impression>
        <Creatives></Creatives>
      </Wrapper>
    </Ad>
  </VAST>`;n=n.getAuction(t);p={type:"xml",value:p,ttlseconds:Number(t.ttl)+15};H.config.getConfig("cache.vasttrack")&&(p.bidder=t.bidder,p.bidid=t.requestId,p.aid=t.auctionId);null!=n&&(p.timestamp=n.getAuctionStart());"string"===typeof t.customCacheKey&&""!==t.customCacheKey&&(p.key=t.customCacheKey);return p}function r(t){return{success:function(n){let p;try{p=JSON.parse(n).responses}catch(v){t(v,[]);return}p?t(null,p):t(Error("The cache server didn't respond with a responses property."),[])},
error:function(n,p){t(Error(`Error storing video ad in the cache: ${n}: ${JSON.stringify(p)}`),[])}}}function f(t,n){let p=2<arguments.length&&void 0!==arguments[2]?arguments[2]:z.ajaxBuilder;const v={puts:t.map(y)};p(H.config.getConfig("cache.timeout"))(H.config.getConfig("cache.url"),r(n),JSON.stringify(v),{contentType:"text/plain",withCredentials:!0})}function l(t){return`${H.config.getConfig("cache.url")}?uuid=${t}`}d.d(G,{getCacheUrl:()=>l,store:()=>f});var z=d("./src/ajax.js"),H=d("./src/config.js"),
w=d("./src/auctionManager.js")},"./node_modules/dlv/index.js":(O,G,d)=>{function y(r,f,l,z,H){f=f.split?f.split("."):f;for(z=0;z<f.length;z++)r=r?r[f[z]]:H;return r===H?l:r}d.d(G,{"default":()=>y})},"./node_modules/fun-hooks/no-eval/index.js":O=>{function G(z){function H(h,q){if("function"===typeof h)return p.call(null,"sync",h,q);if("string"===typeof h&&"function"===typeof q)return p.apply(null,arguments);if("object"===typeof h)return w.apply(null,arguments)}function w(h,q,u){var g=!0;"undefined"===
typeof q&&(q=Object.getOwnPropertyNames(h),g=!1);var B={},M=["constructor"];do q=q.filter(function(L){return"function"===typeof h[L]&&-1===M.indexOf(L)&&!L.match(/^_/)}),q.forEach(function(L){var R=L.split(":");L=R[0];R=R[1]||"sync";B[L]||(B[L]=h[L]=p(R,h[L],u?[u,L]:void 0))}),h=Object.getPrototypeOf(h);while(g&&h);return B}function t(h){var q=Array.isArray(h)?h:h.split(".");return f.call(q,function(u,g,B){var M=u[g],L=!1;return M?M:B===q.length-1?(A||K.push(function(){L||console.warn(d+": referenced '"+
h+"' but it was never created")}),u[g]=n(function(R){u[g]=R;L=!0})):u[g]={}},v)}function n(h){function q(L,R,V,C){var D={hook:V,type:R,priority:C||10,remove:function(){var F=L.indexOf(D);-1!==F&&(L.splice(F,1),B(u,g))}};L.push(D);L.sort(function(F,T){return T.priority-F.priority});B(u,g);return this}var u=[],g=[],B=function(){},M={before:function(L,R){return q.call(this,u,"before",L,R)},after:function(L,R){return q.call(this,g,"after",L,R)},getHooks:function(L){var R=u.concat(g);"object"===typeof L&&
(R=R.filter(function(V){return Object.keys(L).every(function(C){return V[C]===L[C]})}));try{l(R,{remove:function(){R.forEach(function(V){V.remove()});return this}})}catch(V){console.error("error adding `remove` to array, did you modify Array.prototype?")}return R},removeAll:function(){return this.getHooks().remove()}};r.set(M.after,{install:function(L,R,V){this.type=L;B=V;V(u,g);h&&h(R)}});return M}function p(h,q,u){function g(){R.apply=!A&&("sync"!==h||z.ready&G.SYNC)&&("async"!==h||z.ready&G.ASYNC)?
"sync"!==h&&z.ready&G.QUEUE?function(){var C=arguments;K.push(function(){V.apply(C[1],C[2])})}:function(){throw d+": hooked function not ready";}:L}var B=q.after&&r.get(q.after);if(B){if(B.type!==h)throw d+": recreated hookable with different type";return q}var M=u?t(u):n(),L,R={get:function(C,D){return M[D]||Reflect.get.apply(Reflect,arguments)}};A||K.push(g);if(z.useProxy&&"function"===typeof Proxy&&Proxy.revocable)var V=new Proxy(q,R);else V=function(){return R.apply?R.apply(q,this,Array.prototype.slice.call(arguments,
void 0)):q.apply(this,arguments)},l(V,M);r.get(V.after).install(h,V,function(C,D){function F(ha){T.push(ha.hook)}var T=[];if(C.length||D.length){C.forEach(F);var ba=T.push(void 0)-1;D.forEach(F);L=function(ha,ua,aa){function ja(Y){"sync"===h?ia=Y:qa&&qa.apply(null,arguments)}function Z(Y){if(T[ea]){var x=Array.prototype.slice.call(arguments,void 0);Z.bail=ja;x.unshift(Z);return T[ea++].apply(ua,x)}"sync"===h?ia=Y:qa&&qa.apply(null,arguments)}var ea=0,ia,qa="async"===h&&"function"===typeof aa[aa.length-
1]&&aa.pop();T[ba]=function(){var Y=Array.prototype.slice.call(arguments,1);"async"===h&&qa&&(delete Z.bail,Y.push(Z));Y=ha.apply(ua,Y);"sync"===h&&Z(Y)};Z.apply(null,aa);return ia}}else L=void 0;g()});return V}var v={},K=[];z=l({},y,z);var A;z.ready?H.ready=function(){A=!0;for(var h=K,q;q=h.shift();)q()}:A=!0;H.get=t;return H}G.SYNC=1;G.ASYNC=2;G.QUEUE=4;var d="fun-hooks",y=Object.freeze({useProxy:!0,ready:0}),r=new WeakMap,f="2,1,0"===[1].reduce(function(z,H,w){return[z,H,w]},2).toString()?Array.prototype.reduce:
function(z,H){var w=Object(this),t=w.length>>>0,n=0;if(!H){for(;n<t&&!(n in w);)n++;H=w[n++]}for(;n<t;)n in w&&(H=z(H,w[n],n,w)),n++;return H},l=Object.assign||function(z){return f.call(Array.prototype.slice.call(arguments,1),function(H,w){w&&Object.keys(w).forEach(function(t){H[t]=w[t]});return H},z)};O.exports=G},"./node_modules/@babel/runtime/helpers/esm/defineProperty.js":(O,G,d)=>{function y(f,l,z){l=(0,r["default"])(l);l in f?Object.defineProperty(f,l,{value:z,enumerable:!0,configurable:!0,
writable:!0}):f[l]=z;return f}d.d(G,{"default":()=>y});var r=d("./node_modules/@babel/runtime/helpers/esm/toPropertyKey.js")},"./node_modules/@babel/runtime/helpers/esm/toPrimitive.js":(O,G,d)=>{function y(f,l){if("object"!=(0,r["default"])(f)||!f)return f;var z=f[Symbol.toPrimitive];if(void 0!==z){f=z.call(f,l||"default");if("object"!=(0,r["default"])(f))return f;throw new TypeError("@@toPrimitive must return a primitive value.");}return("string"===l?String:Number)(f)}d.d(G,{"default":()=>y});var r=
d("./node_modules/@babel/runtime/helpers/esm/typeof.js")},"./node_modules/@babel/runtime/helpers/esm/toPropertyKey.js":(O,G,d)=>{function y(l){l=(0,f["default"])(l,"string");return"symbol"==(0,r["default"])(l)?l:l+""}d.d(G,{"default":()=>y});var r=d("./node_modules/@babel/runtime/helpers/esm/typeof.js"),f=d("./node_modules/@babel/runtime/helpers/esm/toPrimitive.js")},"./node_modules/@babel/runtime/helpers/esm/typeof.js":(O,G,d)=>{function y(r){"@babel/helpers - typeof";return y="function"==typeof Symbol&&
"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f},y(r)}d.d(G,{"default":()=>y})},"./node_modules/dset/dist/index.mjs":(O,G,d)=>{function y(r,f,l){f.split&&(f=f.split("."));for(var z=0,H=f.length,w,t;z<H;){t=f[z++];if("__proto__"===t||"constructor"===t||"prototype"===t)break;r=r[t]=z===H?l:typeof(w=r[t])===typeof f?w:0!==0*f[z]||~(""+f[z]).indexOf(".")?{}:[]}}d.d(G,{dset:()=>
y})},"./src/constants.json":O=>{O.exports=JSON.parse('{"JSON_MAPPING":{"ADSERVER_TARGETING":"adserverTargeting","BD_SETTING_STANDARD":"standard"},"DEBUG_MODE":"pbjs_debug","STATUS":{"GOOD":1},"EVENTS":{"AUCTION_INIT":"auctionInit","AUCTION_TIMEOUT":"auctionTimeout","AUCTION_END":"auctionEnd","BID_ADJUSTMENT":"bidAdjustment","BID_TIMEOUT":"bidTimeout","BID_REQUESTED":"bidRequested","BID_RESPONSE":"bidResponse","BID_REJECTED":"bidRejected","NO_BID":"noBid","SEAT_NON_BID":"seatNonBid","BID_WON":"bidWon","BIDDER_DONE":"bidderDone","BIDDER_ERROR":"bidderError","SET_TARGETING":"setTargeting","BEFORE_REQUEST_BIDS":"beforeRequestBids","BEFORE_BIDDER_HTTP":"beforeBidderHttp","REQUEST_BIDS":"requestBids","ADD_AD_UNITS":"addAdUnits","AD_RENDER_FAILED":"adRenderFailed","AD_RENDER_SUCCEEDED":"adRenderSucceeded","TCF2_ENFORCEMENT":"tcf2Enforcement","AUCTION_DEBUG":"auctionDebug","BID_VIEWABLE":"bidViewable","STALE_RENDER":"staleRender","BILLABLE_EVENT":"billableEvent","BID_ACCEPTED":"bidAccepted"},"AD_RENDER_FAILED_REASON":{"PREVENT_WRITING_ON_MAIN_DOCUMENT":"preventWritingOnMainDocument","NO_AD":"noAd","EXCEPTION":"exception","CANNOT_FIND_AD":"cannotFindAd","MISSING_DOC_OR_ADID":"missingDocOrAdid"},"EVENT_ID_PATHS":{"bidWon":"adUnitCode"},"GRANULARITY_OPTIONS":{"LOW":"low","MEDIUM":"medium","HIGH":"high","AUTO":"auto","DENSE":"dense","CUSTOM":"custom"},"TARGETING_KEYS":{"BIDDER":"hb_bidder","AD_ID":"hb_adid","PRICE_BUCKET":"hb_pb","SIZE":"hb_size","DEAL":"hb_deal","SOURCE":"hb_source","FORMAT":"hb_format","UUID":"hb_uuid","CACHE_ID":"hb_cache_id","CACHE_HOST":"hb_cache_host","ADOMAIN":"hb_adomain","ACAT":"hb_acat","CRID":"hb_crid","DSP":"hb_dsp"},"DEFAULT_TARGETING_KEYS":{"BIDDER":"hb_bidder","AD_ID":"hb_adid","PRICE_BUCKET":"hb_pb","SIZE":"hb_size","DEAL":"hb_deal","FORMAT":"hb_format","UUID":"hb_uuid","CACHE_HOST":"hb_cache_host"},"NATIVE_KEYS":{"title":"hb_native_title","body":"hb_native_body","body2":"hb_native_body2","privacyLink":"hb_native_privacy","privacyIcon":"hb_native_privicon","sponsoredBy":"hb_native_brand","image":"hb_native_image","icon":"hb_native_icon","clickUrl":"hb_native_linkurl","displayUrl":"hb_native_displayurl","cta":"hb_native_cta","rating":"hb_native_rating","address":"hb_native_address","downloads":"hb_native_downloads","likes":"hb_native_likes","phone":"hb_native_phone","price":"hb_native_price","salePrice":"hb_native_saleprice","rendererUrl":"hb_renderer_url","adTemplate":"hb_adTemplate"},"S2S":{"SRC":"s2s"},"BID_STATUS":{"BID_TARGETING_SET":"targetingSet","RENDERED":"rendered"},"REJECTION_REASON":{"INVALID":"Bid has missing or invalid properties","INVALID_REQUEST_ID":"Invalid request ID","BIDDER_DISALLOWED":"Bidder code is not allowed by allowedAlternateBidderCodes / allowUnknownBidderCodes"},"PREBID_NATIVE_DATA_KEYS_TO_ORTB":{"body":"desc","body2":"desc2","sponsoredBy":"sponsored","cta":"ctatext","rating":"rating","address":"address","downloads":"downloads","likes":"likes","phone":"phone","price":"price","salePrice":"saleprice","displayUrl":"displayurl"},"NATIVE_ASSET_TYPES":{"sponsored":1,"desc":2,"rating":3,"likes":4,"downloads":5,"price":6,"saleprice":7,"phone":8,"address":9,"desc2":10,"displayurl":11,"ctatext":12},"NATIVE_IMAGE_TYPES":{"ICON":1,"MAIN":3},"NATIVE_KEYS_THAT_ARE_NOT_ASSETS":["privacyIcon","clickUrl","sendTargetingKeys","adTemplate","rendererUrl","type"]}')}},
I={};ca.m=ma;(()=>{var O=[];ca.O=(G,d,y,r)=>{if(d){r=r||0;for(var f=O.length;0<f&&O[f-1][2]>r;f--)O[f]=O[f-1];O[f]=[d,y,r]}else{var l=Infinity;for(f=0;f<O.length;f++){d=O[f][0];y=O[f][1];r=O[f][2];for(var z=!0,H=0;H<d.length;H++)(r&0||l>=r)&&Object.keys(ca.O).every(w=>ca.O[w](d[H]))?d.splice(H--,1):(z=!1,r<l&&(l=r));z&&(O.splice(f--,1),y=y(),void 0!==y&&(G=y))}return G}}})();(()=>{ca.n=O=>{var G=O&&O.__esModule?()=>O["default"]:()=>O;ca.d(G,{a:G});return G}})();(()=>{ca.d=(O,G)=>{for(var d in G)ca.o(G,
d)&&!ca.o(O,d)&&Object.defineProperty(O,d,{enumerable:!0,get:G[d]})}})();(()=>{ca.o=(O,G)=>Object.prototype.hasOwnProperty.call(O,G)})();(()=>{ca.r=O=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(O,Symbol.toStringTag,{value:"Module"});Object.defineProperty(O,"__esModule",{value:!0})}})();(()=>{var O={"prebid-core":0};ca.O.j=y=>0===O[y];var G=(y,r)=>{var f=r[0],l=r[1],z=r[2],H,w=0;if(f.some(n=>0!==O[n])){for(H in l)ca.o(l,H)&&(ca.m[H]=l[H]);if(z)var t=z(ca)}for(y&&y(r);w<
f.length;w++){y=f[w];if(ca.o(O,y)&&O[y])O[y][0]();O[y]=0}return ca.O(t)},d=self.pbjsChunk=self.pbjsChunk||[];d.forEach(G.bind(null,0));d.push=G.bind(null,d.push.bind(d))})();var na=ca.O(void 0,["creativeRender"],()=>ca("./src/prebid.js"));na=ca.O(na)})();"use strict";(self.pbjsChunk=self.pbjsChunk||[]).push([["creativeRender"],{"./libraries/creativeRender/constants.js":(ca,ma,I)=>{I.d(ma,{EXCEPTION:()=>O,NO_AD:()=>na,PREBID_EVENT:()=>"Prebid Event",PREBID_NATIVE:()=>"Prebid Native",PREBID_REQUEST:()=>
"Prebid Request",PREBID_RESPONSE:()=>"Prebid Response"});ca=I("./src/constants.json");const na=ca.AD_RENDER_FAILED_REASON.NO_AD,O=ca.AD_RENDER_FAILED_REASON.EXCEPTION},"./libraries/creativeRender/direct.js":(ca,ma,I)=>{function na(z,H,w){function t(v){null!=v?(0,O.emitAdRenderFail)(Object.assign({id:H,bid:p},v)):(0,O.emitAdRenderSucceeded)({doc:z,bid:p,adId:H})}function n(v){(0,G.writeAd)(v,t,z);z.defaultView&&z.defaultView.frameElement&&(z.defaultView.frameElement.width=v.width,z.defaultView.frameElement.height=
v.height);v=document.createComment(`Creative ${p.creativeId} served by ${p.bidder} Prebid.js Header Bidding`);(0,r.insertElement)(v,z,"html")}let p;try{if(H&&z){p=d.auctionManager.findBidByAdId(H);{const v=p&&d.auctionManager.index.getAdUnit(p),K=(0,f.getGlobal)().videoModule;if(null!==v&&void 0!==v&&v.video&&K){K.renderBid(v.video.divId,p);return}}z!==document||(0,r.inIframe)()?(0,O.handleRender)(n,{adId:H,options:{clickUrl:null===w||void 0===w?void 0:w.clickThrough},bidResponse:p}):t({reason:y.AD_RENDER_FAILED_REASON.PREVENT_WRITING_ON_MAIN_DOCUMENT,
message:"renderAd was prevented from writing to the main document."})}else t({reason:y.AD_RENDER_FAILED_REASON.MISSING_DOC_OR_ADID,message:`missing ${H?"doc":"adId"}`})}catch(v){t({reason:l.EXCEPTION,message:v.message})}}I.d(ma,{renderAdDirect:()=>na});var O=I("./src/adRendering.js"),G=I("./libraries/creativeRender/writer.js"),d=I("./src/auctionManager.js"),y=I("./src/constants.json"),r=I("./src/utils.js"),f=I("./src/prebidGlobal.js"),l=I("./libraries/creativeRender/constants.js")},"./libraries/creativeRender/writer.js":(ca,
ma,I)=>{function na(y,r){const f=y.createElement("iframe");r=Object.assign({},r,d);Object.entries(r).forEach(l=>{let [z,H]=l;return f.setAttribute(z,H)});y.body.appendChild(f);return f}function O(y,r){let {ad:f,adUrl:l,width:z,height:H}=y,w=2<arguments.length&&void 0!==arguments[2]?arguments[2]:document;f||l?(l&&!f?na(w,{width:z,height:H,src:l}):(w.write(f),w.close()),r()):r({reason:G.NO_AD,message:"Missing ad markup or URL"})}I.d(ma,{writeAd:()=>O});var G=I("./libraries/creativeRender/constants.js");
const d={frameBorder:0,scrolling:"no",marginHeight:0,marginWidth:0,topMargin:0,leftMargin:0,allowTransparency:"true"}}}]);"use strict";(self.pbjsChunk=self.pbjsChunk||[]).push([["transformParamsUtils"],{"./libraries/transformParamsUtils/convertTypes.js":(ca,ma,I)=>{function na(G,d){Object.keys(G).forEach(y=>{if(d[y]){if((0,O.isFn)(G[y]))d[y]=G[y](d[y]);else{var r=G[y];var f=d[y];r="string"===r?f&&f.toString():"number"===r?Number(f):f;d[y]=r}isNaN(d[y])&&delete d.key}});return d}I.d(ma,{convertTypes:()=>
na});var O=I("./src/utils.js")}}]);"use strict";(self.pbjsChunk=self.pbjsChunk||[]).push([["appnexusUtils"],{"./libraries/appnexusUtils/anKeywords.js":(ca,ma,I)=>{function na(d,y,r){if(void 0===y||null===y)return r;if((0,G.isStr)(y))return y;if((0,G.isNumber)(y))return y.toString()}function O(d){let y=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"keywords";const r=[];(0,G._each)(d,(f,l)=>{if(Array.isArray(f)){let H=[];(0,G._each)(f,w=>{((w=na(y+"."+l,w))||""===w)&&H.push(w)});f=H}else if(f=
na(y+"."+l,f),(0,G.isStr)(f))f=[f];else return;f=f.filter(H=>""!==H);const z={key:l};0<f.length&&(z.value=f);r.push(z)});return r}I.d(ma,{transformBidderParamKeywords:()=>O});var G=I("./src/utils.js")},"./libraries/appnexusUtils/anUtils.js":(ca,ma,I)=>{function na(O){return O.replace(/(?:^|\.?)([A-Z])/g,function(G,d){return"_"+d.toLowerCase()}).replace(/^_/,"")}I.d(ma,{convertCamelToUnderscore:()=>na});I("./src/utils.js")}}]);"use strict";(self.pbjsChunk=self.pbjsChunk||[]).push([["ortbConverter"],
{"./libraries/ortbConverter/converter.js":(ca,ma,I)=>{function na(){function f(u,g,B,M){let L;return function(){null==L&&(L=function(){let R=B.bind(this,(0,O.compose)(z()[u]||{},H[u]||{}));g&&(R=g.bind(this,R));return function(){try{return R.apply(this,arguments)}catch(V){M.call(this,V,...arguments)}}}());return L.apply(this,arguments)}}let {context:l={},processors:z=r,overrides:H={},imp:w,request:t,bidResponse:n,response:p}=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};const v=new WeakMap,
K=f(d.IMP,w,function(u,g,B){const M={};u(M,g,B);return M},function(u,g,B){}),A=f(d.REQUEST,t,function(u,g,B,M){g={imp:g};u(g,B,M);return g},function(u,g,B,M){throw u;}),h=f(d.BID_RESPONSE,n,function(u,g,B){const M={};u(M,g,B);return M},function(u,g,B){}),q=f(d.RESPONSE,p,function(u,g,B,M){g={bids:g};u(g,B,M);return g},function(u,g,B,M){throw u;});return{toORTB(u){let {bidderRequest:g,bidRequests:B,context:M={}}=u;B=B||g.bids;const L={req:Object.assign({bidRequests:B},l,M),imp:{}};L.req.impContext=
L.imp;u=B.map(R=>{const V=Object.assign({bidderRequest:g,reqContext:L.req},l,M),C=K(R,V);if(null!=C&&C.hasOwnProperty("id"))return Object.assign(V,{bidRequest:R,imp:C}),L.imp[C.id]=V,C}).filter(Boolean);u=A(u,g,L.req);L.req.bidderRequest=g;null!=u&&v.set(u,L);return u},fromORTB(u){function g(V){return Object.assign(V,{ortbRequest:B},1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},V)}let {request:B,response:M}=u;const L=v.get(B);if(null==L)throw Error("ortbRequest passed to `fromORTB` must be the same object returned by `toORTB`");
const R=Object.fromEntries((B.imp||[]).map(V=>[V.id,V]));u=(M.seatbid||[]).flatMap(V=>(V.bid||[]).map(C=>{if(R.hasOwnProperty(C.impid)&&L.imp.hasOwnProperty(C.impid))return h(C,g(L.imp[C.impid],{imp:R[C.impid],seatbid:V,ortbResponse:M}))})).filter(Boolean);return q(u,M,g(L.req))}}}I.d(ma,{defaultProcessors:()=>r,ortbConverter:()=>na});var O=I("./libraries/ortbConverter/lib/composer.js");ca=I("./src/utils.js");var G=I("./libraries/ortbConverter/processors/default.js"),d=I("./src/pbjsORTB.js"),y=I("./libraries/ortbConverter/lib/mergeProcessors.js");
const r=(0,ca.memoize)(()=>(0,y.mergeProcessors)(G.DEFAULT_PROCESSORS,(0,d.getProcessors)(d.DEFAULT)))},"./libraries/ortbConverter/lib/composer.js":(ca,ma,I)=>{function na(G){let d=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(!O.has(G)){const r=Object.entries(G);r.sort((f,l)=>{f=f[1].priority||0;l=l[1].priority||0;return f===l?0:f>l?-1:1});O.set(G,r.map(f=>{let [l,z]=f;return[l,z.fn]}))}const y=O.get(G).filter(r=>{[r]=r;return!d.hasOwnProperty(r)||d[r]}).map(function(r){let [f,l]=
r;return d.hasOwnProperty(f)?d[f].bind(this,l):l});return function(){const r=Array.from(arguments);y.forEach(f=>{f.apply(this,r)})}}I.d(ma,{compose:()=>na});const O=new WeakMap},"./libraries/ortbConverter/lib/mergeProcessors.js":(ca,ma,I)=>{function na(){for(var G=arguments.length,d=Array(G),y=0;y<G;y++)d[y]=arguments[y];const r=d.shift(),f=1<d.length?na(...d):d[0];return Object.fromEntries(O.PROCESSOR_TYPES.map(l=>[l,Object.assign({},r[l],f[l])]))}I.d(ma,{mergeProcessors:()=>na});var O=I("./src/pbjsORTB.js")},
"./libraries/ortbConverter/lib/sizes.js":(ca,ma,I)=>{function na(G){G=(0,O.parseSizesInput)(G);return G.map(d=>{const [y,r]=d.split("x");return{w:parseInt(y,10),h:parseInt(r,10)}})}I.d(ma,{sizesToFormat:()=>na});var O=I("./src/utils.js")},"./libraries/ortbConverter/processors/banner.js":(ca,ma,I)=>{function na(f,l,z){if(!z.mediaType||z.mediaType===y.BANNER)if(l=(0,G["default"])(l,"mediaTypes.banner"))z={topframe:!0===(0,d.inIframe)()?0:1},l.sizes&&(z.format=(0,r.sizesToFormat)(l.sizes)),l.hasOwnProperty("pos")&&
(z.pos=l.pos),f.banner=(0,d.mergeDeep)(z,f.banner)}function O(){let {createPixel:f=l=>(0,d.createTrackPixelHtml)(decodeURIComponent(l))}=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return function(l,z){l.mediaType===y.BANNER&&(z.adm&&z.nurl?(l.ad=z.adm,l.ad+=f(z.nurl)):z.adm?l.ad=z.adm:z.nurl&&(l.adUrl=z.nurl))}}I.d(ma,{bannerResponseProcessor:()=>O,fillBannerImp:()=>na});var G=I("./node_modules/dlv/index.js"),d=I("./src/utils.js"),y=I("./src/mediaTypes.js"),r=I("./libraries/ortbConverter/lib/sizes.js")},
"./libraries/ortbConverter/processors/default.js":(ca,ma,I)=>{I.d(ma,{DEFAULT_PROCESSORS:()=>y});var na=I("./src/utils.js");ca=I("./libraries/ortbConverter/processors/banner.js");ma=I("./libraries/ortbConverter/processors/video.js");var O=I("./libraries/ortbConverter/processors/mediaType.js"),G=I("./libraries/ortbConverter/processors/native.js"),d=I("./src/pbjsORTB.js");I=I("./src/fpd/oneClient.js");const y={[d.REQUEST]:{fpd:{priority:99,fn(r,f){(0,na.mergeDeep)(r,f.ortb2)}},onlyOneClient:{priority:-99,
fn:(0,I.clientSectionChecker)("ORTB request")},props:{fn(r,f){Object.assign(r,{id:r.id||(0,na.generateUUID)(),test:r.test||0});f=parseInt(f.timeout,10);isNaN(f)||(r.tmax=f)}}},[d.IMP]:{fpd:{priority:99,fn(r,f){(0,na.mergeDeep)(r,f.ortb2Imp)}},id:{fn(r,f){r.id=f.bidId}},banner:{fn:ca.fillBannerImp},pbadslot:{fn(r){var f;const l=null===(f=r.ext)||void 0===f||null===(f=f.data)||void 0===f?void 0:f.pbadslot;if(!l||"string"!==typeof l){var z;null===(z=r.ext)||void 0===z||null===(z=z.data)||void 0===z||
delete z.pbadslot}}}},[d.BID_RESPONSE]:{mediaType:{priority:99,fn:O.setResponseMediaType},banner:{fn:(0,ca.bannerResponseProcessor)()},props:{fn(r,f,l){var z;Object.entries({requestId:null===(z=l.bidRequest)||void 0===z?void 0:z.bidId,seatBidId:f.id,cpm:f.price,currency:l.ortbResponse.cur||l.currency,width:f.w,height:f.h,dealId:f.dealid,creative_id:f.crid,creativeId:f.crid,burl:f.burl,ttl:f.exp||l.ttl,netRevenue:l.netRevenue}).filter(H=>{[,H]=H;return"undefined"!==typeof H}).forEach(H=>{let [w,t]=
H;return r[w]=t});r.meta||(r.meta={});f.adomain&&(r.meta.advertiserDomains=f.adomain)}}}};y[d.IMP].native={fn:G.fillNativeImp};y[d.BID_RESPONSE].native={fn:G.fillNativeResponse};y[d.IMP].video={fn:ma.fillVideoImp};y[d.BID_RESPONSE].video={fn:ma.fillVideoResponse}},"./libraries/ortbConverter/processors/mediaType.js":(ca,ma,I)=>{function na(G,d,y){if(!G.mediaType){y=y.mediaType;if(!y&&!O.hasOwnProperty(d.mtype))throw Error("Cannot determine mediaType for response");G.mediaType=y||O[d.mtype]}}I.d(ma,
{ORTB_MTYPES:()=>O,setResponseMediaType:()=>na});ca=I("./src/mediaTypes.js");const O={1:ca.BANNER,2:ca.VIDEO,4:ca.NATIVE}},"./libraries/ortbConverter/processors/native.js":(ca,ma,I)=>{function na(y,r,f){if(!f.mediaType||f.mediaType===d.NATIVE)if(r=r.nativeOrtbRequest){var l;r=Object.assign({},f.nativeRequest,r);null!==(l=r.assets)&&void 0!==l&&l.length&&(y.native=(0,G.mergeDeep)({},{request:JSON.stringify(r),ver:r.ver},y.native))}}function O(y,r){if(y.mediaType===d.NATIVE)if(r="string"===typeof r.adm?
JSON.parse(r.adm):r.adm,(0,G.isPlainObject)(r)&&Array.isArray(r.assets))y.native={ortb:r};else throw Error("ORTB native response contained no assets");}I.d(ma,{fillNativeImp:()=>na,fillNativeResponse:()=>O});var G=I("./src/utils.js"),d=I("./src/mediaTypes.js")},"./libraries/ortbConverter/processors/video.js":(ca,ma,I)=>{function na(z,H,w){if(!w.mediaType||w.mediaType===y.VIDEO)if(w=(0,G["default"])(H,"mediaTypes.video"),!(0,d.isEmpty)(w)){H=Object.fromEntries(Object.entries(w).filter(t=>{[t]=t;return f.has(t)}));
if(w.playerSize){const t=(0,r.sizesToFormat)(w.playerSize);Object.assign(H,t[0])}w=l[w.context];null!=w&&(H.placement=w);z.video=(0,d.mergeDeep)(H,z.video)}}function O(z,H,w){z.mediaType===y.VIDEO&&((0,G["default"])(w.imp,"video.w")&&(0,G["default"])(w.imp,"video.h")&&([z.playerWidth,z.playerHeight]=[w.imp.video.w,w.imp.video.h]),H.adm&&(z.vastXml=H.adm),H.nurl&&(z.vastUrl=H.nurl))}I.d(ma,{fillVideoImp:()=>na,fillVideoResponse:()=>O});var G=I("./node_modules/dlv/index.js"),d=I("./src/utils.js"),y=
I("./src/mediaTypes.js"),r=I("./libraries/ortbConverter/lib/sizes.js");const f=new Set("pos placement plcmt api mimes protocols playbackmethod minduration maxduration w h startdelay placement linearity skip skipmin skipafter minbitrate maxbitrate delivery playbackend".split(" ")),l={instream:1}}}]);"use strict";(self.pbjsChunk=self.pbjsChunk||[]).push([["pbsExtensions"],{"./libraries/pbsExtensions/pbsExtensions.js":(ca,ma,I)=>{I.d(ma,{pbsExtensions:()=>y});var na=I("./libraries/ortbConverter/lib/mergeProcessors.js"),
O=I("./libraries/pbsExtensions/processors/pbs.js"),G=I("./src/pbjsORTB.js"),d=I("./libraries/ortbConverter/converter.js");const y=(0,I("./src/utils.js").memoize)(()=>(0,na.mergeProcessors)((0,d.defaultProcessors)(),O.PBS_PROCESSORS,(0,G.getProcessors)(G.PBS)))},"./libraries/pbsExtensions/processors/adUnitCode.js":(ca,ma,I)=>{function na(G,d){(d=d.adUnitCode)&&(0,O.dset)(G,"ext.prebid.adunitcode",d)}I.d(ma,{setImpAdUnitCode:()=>na});var O=I("./node_modules/dset/dist/index.mjs")},"./libraries/pbsExtensions/processors/aliases.js":(ca,
ma,I)=>{function na(d,y,r){let {am:f=O["default"]}=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};if(f.aliasRegistry[y.bidderCode]){const l=f.bidderRegistry[y.bidderCode];l&&l.getSpec().skipPbsAliasing||(0,G.dset)(d,`ext.prebid.aliases.${y.bidderCode}`,f.aliasRegistry[y.bidderCode])}}I.d(ma,{setRequestExtPrebidAliases:()=>na});var O=I("./src/adapterManager.js"),G=I("./node_modules/dset/dist/index.mjs")},"./libraries/pbsExtensions/processors/mediaType.js":(ca,ma,I)=>{function na(y,r,f){f=
f.mediaType;if(!f){var l;f=G.ORTB_MTYPES.hasOwnProperty(r.mtype)?G.ORTB_MTYPES[r.mtype]:null===(l=r.ext)||void 0===l||null===(l=l.prebid)||void 0===l?void 0:l.type;d.hasOwnProperty(f)||(f=O.BANNER)}y.mediaType=f}I.d(ma,{SUPPORTED_MEDIA_TYPES:()=>d,extPrebidMediaType:()=>na});var O=I("./src/mediaTypes.js"),G=I("./libraries/ortbConverter/processors/mediaType.js");const d={[O.BANNER]:"banner",[O.NATIVE]:"native",[O.VIDEO]:"video"}},"./libraries/pbsExtensions/processors/params.js":(ca,ma,I)=>{function na(y,
r,f){let {adUnit:l,bidderRequests:z,index:H=O.auctionManager.index,bidderRegistry:w=G["default"].bidderRegistry}=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{},t=r.params;const n=w[r.bidder];n&&n.getSpec().transformBidParams&&(l=l||H.getAdUnit(r),z=z||[f.bidderRequest],t=n.getSpec().transformBidParams(t,!0,l,z));t&&(0,d.dset)(y,`ext.prebid.bidder.${r.bidder}`,t)}I.d(ma,{setImpBidParams:()=>na});var O=I("./src/auctionManager.js"),G=I("./src/adapterManager.js"),d=I("./node_modules/dset/dist/index.mjs")},
"./libraries/pbsExtensions/processors/pbs.js":(ca,ma,I)=>{I.d(ma,{PBS_PROCESSORS:()=>f});ca=I("./src/pbjsORTB.js");var na=I("./node_modules/dlv/index.js"),O=I("./src/utils.js");ma=I("./libraries/pbsExtensions/processors/mediaType.js");var G=I("./libraries/pbsExtensions/processors/aliases.js"),d=I("./libraries/pbsExtensions/processors/params.js"),y=I("./libraries/pbsExtensions/processors/adUnitCode.js"),r=I("./libraries/pbsExtensions/processors/requestExtPrebid.js");I=I("./libraries/pbsExtensions/processors/video.js");
const f={[ca.REQUEST]:{extPrebid:{fn:r.setRequestExtPrebid},extPrebidChannel:{fn:r.setRequestExtPrebidChannel},extPrebidAliases:{fn:G.setRequestExtPrebidAliases}},[ca.IMP]:{params:{fn:d.setImpBidParams},adUnitCode:{fn:y.setImpAdUnitCode}},[ca.BID_RESPONSE]:{mediaType:{fn:ma.extPrebidMediaType,priority:99},videoCache:{fn:I.setBidResponseVideoCache,priority:-10},bidderCode:{fn(l,z,H){var w;l.bidderCode=H.seatbid.seat;l.adapterCode=(0,na["default"])(z,"ext.prebid.meta.adaptercode")||(null===(w=H.bidRequest)||
void 0===w?void 0:w.bidder)||l.bidderCode}},pbsBidId:{fn(l,z){z=(0,na["default"])(z,"ext.prebid.bidid");(0,O.isStr)(z)&&(l.pbsBidId=z)}},adserverTargeting:{fn(l,z){z=(0,na["default"])(z,"ext.prebid.targeting");(0,O.isPlainObject)(z)&&(l.adserverTargeting=z)}},extPrebidMeta:{fn(l,z){l.meta=(0,O.mergeDeep)({},(0,na["default"])(z,"ext.prebid.meta"),l.meta)}},pbsWurl:{fn(l,z){z=(0,na["default"])(z,"ext.prebid.events.win");(0,O.isStr)(z)&&(l.pbsWurl=z)}}},[ca.RESPONSE]:{serverSideStats:{fn(l,z,H){Object.entries({errors:"serverErrors",
responsetimemillis:"serverResponseTimeMs"}).forEach(w=>{let [t,n]=w;const p=(0,na["default"])(z,`ext.${t}.${H.bidderRequest.bidderCode}`);p&&(H.bidderRequest[n]=p,H.bidRequests.forEach(v=>v[n]=p))})}}}}},"./libraries/pbsExtensions/processors/requestExtPrebid.js":(ca,ma,I)=>{function na(f,l){var z;(0,G.dset)(f,"ext.prebid",(0,d.mergeDeep)({auctiontimestamp:l.auctionStart,targeting:{includewinners:!0,includebidderkeys:!1}},null===(z=f.ext)||void 0===z?void 0:z.prebid));y.config.getConfig("debug")&&
(f.ext.prebid.debug=!0)}function O(f){var l;(0,G.dset)(f,"ext.prebid.channel",Object.assign({name:"pbjs",version:(0,r.getGlobal)().version},null===(l=f.ext)||void 0===l||null===(l=l.prebid)||void 0===l?void 0:l.channel))}I.d(ma,{setRequestExtPrebid:()=>na,setRequestExtPrebidChannel:()=>O});var G=I("./node_modules/dset/dist/index.mjs"),d=I("./src/utils.js"),y=I("./src/config.js"),r=I("./src/prebidGlobal.js")},"./libraries/pbsExtensions/processors/video.js":(ca,ma,I)=>{function na(d,y){if(d.mediaType===
O.VIDEO){let {cacheId:r,url:f}=(0,G["default"])(y,"ext.prebid.cache.vastXml")||{};if(!r||!f){const {hb_uuid:l,hb_cache_host:z,hb_cache_path:H}=(0,G["default"])(y,"ext.prebid.targeting")||{};l&&z&&H&&(r=l,f=`https://${z}${H}?uuid=${l}`)}r&&f&&Object.assign(d,{videoCacheKey:r,vastUrl:f})}}I.d(ma,{setBidResponseVideoCache:()=>na});var O=I("./src/mediaTypes.js"),G=I("./node_modules/dlv/index.js")}}]);"use strict";(self.pbjsChunk=self.pbjsChunk||[]).push([["currencyUtils"],{"./libraries/currencyUtils/currency.js":(ca,
ma,I)=>{function na(r,f,l){let z=3<arguments.length&&void 0!==arguments[3]?arguments[3]:!0;if(f===l)return r;let H=r;try{H=(0,d.getGlobal)().convertCurrency(r,f,l)}catch(w){if(!z)throw w;}return H}function O(){let r=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,f=1<arguments.length&&void 0!==arguments[1]?arguments[1]:!0,l=2<arguments.length&&void 0!==arguments[2]?arguments[2]:na;return function(z,H){null==r&&(r=H);return l(z,H,r,f)}}function G(){let r=0<arguments.length&&void 0!==arguments[0]?
arguments[0]:l=>[l.cpm,l.currency],f=1<arguments.length&&void 0!==arguments[1]?arguments[1]:O();return(0,y.keyCompare)(l=>f.apply(null,r(l)))}I.d(ma,{currencyCompare:()=>G});var d=I("./src/prebidGlobal.js"),y=I("./src/utils/reducers.js")}}]);"use strict";(self.pbjsChunk=self.pbjsChunk||[]).push([["adpod"],{"./modules/adpod.js":(ca,ma,I)=>{function na(C){let D,F=1;return function(T,ba,ha,ua){const aa=this;var ja=function(){d.call(aa,T,ba,ha)};clearTimeout(D);ua?F=1:F===L?(F=1,ja()):(F++,D=setTimeout(ja,
C))}}function O(C,D){let F=R.getInitialCacheKey(C);var T=(0,n["default"])(C,"video.durationBucket");if(h.config.getConfig("adpod.prioritizeDeals")&&(0,n["default"])(C,"video.dealTier"))var ba=(ba=h.config.getConfig(`adpod.dealTier.${C.bidderCode}.prefix`))?ba+(0,n["default"])(C,"video.dealTier"):(0,n["default"])(C,"video.dealTier");else ba=(0,p.getPriceGranularity)(C),ba=(0,p.getPriceByGranularity)(ba)(C);D?(D=(0,n["default"])(C,"meta.adServerCatId"),T=`${ba}_${D}_${T}s`):T=`${ba}_${T}s`;C.adserverTargeting||
(C.adserverTargeting={});C.adserverTargeting.hb_pb_cat_dur=T;C.adserverTargeting.hb_cache_id=F;C.videoCacheKey=F;C.customCacheKey=`${T}_${F}`}function G(C){for(let D=0;D<C.length;D++)R.removeBid(C[D])}function d(C,D,F){G(D);(0,A.store)(D,function(T,ba){if(!T)for(T=0;T<ba.length;T++)""!==ba[T].uuid&&(0,p.addBidToAuction)(C,D[T]),F()})}function y(C,D){let F=(0,n["default"])(D,"video.durationSeconds");var T=C.durationRangeSec;T.sort((ba,ha)=>ba-ha);if(C.requireExactDuration)if((0,u.find)(T,ba=>ba===
F))D.video.durationBucket=F;else return!1;else if(C=Math.max(...T),F<=C+2)T=(0,u.find)(T,ba=>ba+2>=F),D.video.durationBucket=T;else return!1;return!0}function r(C,D){(0,A.store)(C,function(F,T){if(F)D(F,null);else{F=[];for(let ba=0;ba<T.length;ba++)""!==T[ba]&&F.push(C[ba]);D(null,F)}})}function f(C,D){return C.adserverTargeting[B.TARGETING_KEYS.PRICE_BUCKET]/C.video.durationBucket<D.adserverTargeting[B.TARGETING_KEYS.PRICE_BUCKET]/D.video.durationBucket?1:C.adserverTargeting[B.TARGETING_KEYS.PRICE_BUCKET]/
C.video.durationBucket>D.adserverTargeting[B.TARGETING_KEYS.PRICE_BUCKET]/D.video.durationBucket?-1:0}function l(C){return g.auctionManager.getAdUnits().filter(D=>(0,n["default"])(D,"mediaTypes.video.context")===q.ADPOD).filter(D=>0<C.length?-1!=C.indexOf(D.code):!0)}function z(C){return function(D,F){return D[C]<F[C]?1:D[C]>F[C]?-1:0}}function H(C){let D=C.map(T=>Object.assign({},T,{hb_pb_cat_dur:T.adserverTargeting.hb_pb_cat_dur}));D=(0,t.groupBy)(D,"hb_pb_cat_dur");let F=[];Object.keys(D).forEach(T=>
{D[T].sort(z("responseTimestamp"));F.push(D[T][0])});return F}function w(C,D){let F=D.map(T=>T.code);return C.filter(T=>-1!=F.indexOf(T.adUnitCode)&&T.video&&T.video.context===q.ADPOD)}ca=I("./src/prebidGlobal.js");var t=I("./src/utils.js"),n=I("./node_modules/dlv/index.js"),p=I("./src/auction.js");ma=I("./src/prebid.js");var v=I("./src/video.js"),K=I("./src/hook.js"),A=I("./src/videoCache.js"),h=I("./src/config.js"),q=I("./src/mediaTypes.js"),u=I("./src/polyfill.js"),g=I("./src/auctionManager.js"),
B=I("./src/constants.json");let M=50,L=5,R=function(){let C={};return{addBid:function(D){if(!C[D.auctionId]){var F=D.auctionId;C[F]={};C[F].bidStorage=new Set;C[F].queueDispatcher=na(M);C[F].initialCacheKey=(0,t.generateUUID)()}C[D.auctionId].bidStorage.add(D)},removeBid:function(D){C[D.auctionId].bidStorage.delete(D)},getBids:function(D){return C[D.auctionId]&&C[D.auctionId].bidStorage.values()},getQueueDispatcher:function(D){return C[D.auctionId]&&C[D.auctionId].queueDispatcher},setupInitialCacheKey:function(D){C[D.auctionId]||
(C[D.auctionId]={},C[D.auctionId].initialCacheKey=(0,t.generateUUID)())},getInitialCacheKey:function(D){return C[D.auctionId]&&C[D.auctionId].initialCacheKey}}}();h.config.getConfig("adpod",C=>{C=C.adpod;void 0!==C.bidQueueTimeDelay&&"number"===typeof C.bidQueueTimeDelay&&0<C.bidQueueTimeDelay&&(M=C.bidQueueTimeDelay);void 0!==C.bidQueueSizeLimit&&"number"===typeof C.bidQueueSizeLimit&&0<C.bidQueueSizeLimit&&(L=C.bidQueueSizeLimit)});(0,K.setupBeforeHookFnOnce)((0,K.getHook)("callPrebidCache"),function(C,
D,F,T,ba){if(ba&&ba.context===q.ADPOD)if(C=h.config.getConfig("adpod.brandCategoryExclusion"),!(0,n["default"])(F,"meta.adServerCatId")&&C)T();else if(!1===h.config.getConfig("adpod.deferCaching")){if(R.addBid(F),O(F,C),C=R.getBids(F))C=(0,u.arrayFrom)(C),F=R.getQueueDispatcher(F),ba=D.getAuctionStatus()!==p.AUCTION_IN_PROGRESS,F(D,C,T,ba)}else R.setupInitialCacheKey(F),O(F,C),(0,p.addBidToAuction)(D,F),T();else C.call(this,D,F,T,ba)});(0,K.setupBeforeHookFnOnce)(ma.checkAdUnitSetup,function(C,D){D=
D.filter(F=>{var T=(0,n["default"])(F,"mediaTypes");if((F=(0,n["default"])(T,"video"))&&F.context===q.ADPOD){if(1<Object.keys(T).length)return!1;T=!!(F.playerSize&&((0,t.isArrayOfNums)(F.playerSize,2)||(0,t.isArray)(F.playerSize)&&F.playerSize.every(ha=>(0,t.isArrayOfNums)(ha,2)))||F.sizeConfig);let ba=!!(F.adPodDurationSec&&(0,t.isNumber)(F.adPodDurationSec)&&0<F.adPodDurationSec);F=!!(F.durationRangeSec&&(0,t.isArrayOfNums)(F.durationRangeSec)&&F.durationRangeSec.every(ha=>0<ha));if(!T||!ba||!F)return!1}return!0});
C.call(this,D)});(0,K.setupBeforeHookFnOnce)(v.checkVideoBidSetup,function(C,D,F,T,ba){ba===q.ADPOD?(F=!0,h.config.getConfig("adpod.brandCategoryExclusion")&&!(0,n["default"])(D,"meta.primaryCatId")&&(F=!1),(0,n["default"])(D,"video")&&((0,n["default"])(D,"video.context")&&D.video.context===q.ADPOD||(F=!1),!(0,n["default"])(D,"video.durationSeconds")||0>=D.video.durationSeconds?F=!1:y(T,D)||(F=!1)),h.config.getConfig("cache.url")||!D.vastXml||D.vastUrl||(F=!1),C.bail(F)):C.call(this,D,F,T,ba)});const V=
{TARGETING_KEY_PB_CAT_DUR:"hb_pb_cat_dur",TARGETING_KEY_CACHE_ID:"hb_cache_id",getTargeting:function(){let {codes:C,callback:D}=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};if(D){C=C||[];var F=l(C),T=g.auctionManager.getBidsReceived(),ba=h.config.getConfig("adpod.brandCategoryExclusion"),ha=h.config.getConfig("adpod.deferCaching");ha="boolean"===typeof ha?ha:!0;var ua=w(T,F);ua=ba||ha?H(ua):ua;if(h.config.getConfig("adpod.prioritizeDeals")){let [ja,Z]=ua.reduce((ea,ia)=>{let qa=(0,n["default"])(ia,
"video.dealTier"),Y=h.config.getConfig(`adpod.dealTier.${ia.bidderCode}.minDealTier`);Y&&qa?qa>=Y?ea[1].push(ia):ea[0].push(ia):qa?ea[1].push(ia):ea[0].push(ia);return ea},[[],[]]);Z.sort(f);ja.sort(f);ua=Z.concat(ja)}else ua.sort(f);var aa={};if(!1===ha)F.forEach(ja=>{let Z=[],ea=(0,n["default"])(ja,"mediaTypes.video.adPodDurationSec");ua.filter(ia=>ia.adUnitCode===ja.code).forEach((ia,qa,Y)=>{ia.video.durationBucket<=ea&&(Z.push({hb_pb_cat_dur:ia.adserverTargeting.hb_pb_cat_dur}),ea-=ia.video.durationBucket);
qa===Y.length-1&&0<Z.length&&Z.push({hb_cache_id:ia.adserverTargeting.hb_cache_id})});aa[ja.code]=Z}),D(null,aa);else{let ja=[];F.forEach(Z=>{let ea=(0,n["default"])(Z,"mediaTypes.video.adPodDurationSec");ua.filter(ia=>ia.adUnitCode===Z.code).forEach(ia=>{ia.video.durationBucket<=ea&&(ja.push(ia),ea-=ia.video.durationBucket)})});r(ja,function(Z,ea){if(Z)D(Z,null);else{let ia=(0,t.groupBy)(ea,"adUnitCode");Object.keys(ia).forEach(qa=>{let Y=[];ia[qa].forEach((x,E,Q)=>{Y.push({hb_pb_cat_dur:x.adserverTargeting.hb_pb_cat_dur});
E===Q.length-1&&0<Y.length&&Y.push({hb_cache_id:x.adserverTargeting.hb_cache_id})});aa[qa]=Y});D(null,aa)}})}return aa}}};Object.freeze(V);(0,K.module)("adpod",function(){if((0,t.isPlainObject)(0>=arguments.length?void 0:arguments[0])){var C=0>=arguments.length?void 0:arguments[0];for(let D in V)C[D]=V[D]}});(0,ca.registerModule)("adpod")}},ca=>{ca.O(0,["creativeRender"],()=>ca(ca.s="./modules/adpod.js"));ca.O()}]);"use strict";(self.pbjsChunk=self.pbjsChunk||[]).push([["appnexusBidAdapter"],{"./modules/appnexusBidAdapter.js":(ca,
ma,I)=>{function na(l){let z="";Object.keys(l).forEach(H=>{(0,O.isStr)(l[H])?z=""!==l[H]?z+`${H}=${l[H]},`:z+`${H},`:Array.isArray(l[H])&&(""===l[H][0]?z+=`${H},`:l[H].forEach(w=>{z+=`${H}=${w},`}))});return z=z.substring(0,z.length-1)}ca=I("./src/prebidGlobal.js");var O=I("./src/utils.js"),G=I("./src/config.js");ma=I("./src/adapters/bidderFactory.js");var d=I("./src/mediaTypes.js"),y=I("./libraries/appnexusUtils/anKeywords.js"),r=I("./libraries/appnexusUtils/anUtils.js"),f=I("./libraries/transformParamsUtils/convertTypes.js");
(0,ma.registerBidder)({code:"appnexus",gvlid:32,aliases:[{code:"appnexusAst",gvlid:32},{code:"emxdigital",gvlid:183},{code:"pagescience",gvlid:32},{code:"gourmetads",gvlid:32},{code:"matomy",gvlid:32},{code:"featureforward",gvlid:32},{code:"oftmedia",gvlid:32},{code:"adasta",gvlid:32},{code:"beintoo",gvlid:618},{code:"projectagora",gvlid:1032},{code:"uol",gvlid:32},{code:"adzymic",gvlid:32}],supportedMediaTypes:[d.BANNER,d.VIDEO,d.NATIVE],transformBidParams:function(l,z,H,w){w=y.transformBidderParamKeywords;
if(!0===z){let n=null,p=G.config.getConfig("s2sConfig");if((0,O.isPlainObject)(p)){var t;n=null===p||void 0===p||null===(t=p.endpoint)||void 0===t?void 0:t.p1Consent}else Array.isArray(p)&&p.forEach(v=>{var K;if(null!==(K=v.bidders)&&void 0!==K&&K.includes(H.bids[0].bidder)){var A;n=null===v||void 0===v||null===(A=v.endpoint)||void 0===A?void 0:A.p1Consent}});n&&n.match("/openrtb2/prebid")&&(w=na)}l=(0,f.convertTypes)({member:"string",invCode:"string",placementId:"number",keywords:w,publisherId:"number"},
l);z&&(Object.keys(l).forEach(n=>{let p=(0,r.convertCamelToUnderscore)(n);p!==n&&(l[p]=l[n],delete l[n])}),l.use_pmt_rule="boolean"===typeof l.use_payment_rule?l.use_payment_rule:!1,l.use_payment_rule&&delete l.use_payment_rule);return l}});(0,ca.registerModule)("appnexusBidAdapter")}},ca=>{ca.O(0,["transformParamsUtils","appnexusUtils","creativeRender"],()=>ca(ca.s="./modules/appnexusBidAdapter.js"));ca.O()}]);"use strict";(self.pbjsChunk=self.pbjsChunk||[]).push([["consentManagementGpp"],{"./modules/consentManagementGpp.js":(ca,
ma,I)=>{function na(y){if((y=y&&y.gpp)&&"object"===typeof y&&y.consentData){y=y.consentData;var r={gppString:y.gppString,applicableSections:y.applicableSections||[],parsedSections:y.parsedSections||{},gppData:y};d||(G.buildActivityParams.before((f,l)=>f(Object.assign({gppConsent:r},l))),d=!0);O.gppDataHandler.enable();O.gppDataHandler.setConsentData(r)}}ca=I("./src/prebidGlobal.js");I("./src/utils.js");ma=I("./src/config.js");var O=I("./src/consentHandler.js"),G=I("./src/activities/params.js");let d;
ma.config.getConfig("consentManagement",y=>na(y.consentManagement));(0,ca.registerModule)("consentManagementGpp")}},ca=>{ca.O(0,["creativeRender"],()=>ca(ca.s="./modules/consentManagementGpp.js"));ca.O()}]);"use strict";(self.pbjsChunk=self.pbjsChunk||[]).push([["criteoBidAdapter"],{"./modules/criteoBidAdapter.js":(ca,ma,I)=>{function na(v){const K=g$.ic[v];v=p.getDataFromLocalStorage(v);return K||v||void 0}function O(v){let K=!0;"mimes playerSize maxduration protocols api skip placement playbackmethod".split(" ").forEach(function(A){var h,
q;void 0===(null===v||void 0===v||null===(h=v.mediaTypes)||void 0===h||null===(h=h.video)||void 0===h?void 0:h[A])&&void 0===(null===v||void 0===v||null===(q=v.params)||void 0===q||null===(q=q.video)||void 0===q?void 0:q[A])&&(K=!1)});return K}function G(v){return{sendTargetingKeys:!1,title:v.products[0].title,body:v.products[0].description,sponsoredBy:v.advertiser.description,icon:v.advertiser.logo,image:v.products[0].image,clickUrl:v.products[0].click_url,privacyLink:v.privacy.optout_click_url,
privacyIcon:v.privacy.optout_image_url,cta:v.products[0].call_to_action,price:v.products[0].price,impressionTrackers:v.impression_pixels.map(K=>K.url)}}function d(v){if(void 0!==v.ext.videoPlayerConfig&&void 0!==v.ext.videoPlayerType){var K=w.Renderer.install({url:"https://static.criteo.net/js/ld/publishertag.renderer.js",config:{documentResolver:(A,h,q)=>q??h}});K.setRender((A,h)=>{window.CriteoOutStream[v.ext.videoPlayerType].play({slotid:v.impid,vastUrl:v.displayurl,vastXml:v.creative,documentContext:h},
v.ext.videoPlayerConfig)});return K}}function y(v,K){for(const u of v)if(u.adUnitCode===K.impid){var A;if(u.params.zoneId&&parseInt(u.params.zoneId)===K.zoneid)return u;if(K.native){var h;if(null!==(h=u.mediaTypes)&&void 0!==h&&h.native||u.nativeParams)return u}else if(K.video){var q;if(null!==(q=u.mediaTypes)&&void 0!==q&&q.video)return u}else if(null!==(A=u.mediaTypes)&&void 0!==A&&A.banner||u.sizes)return u}}ca=I("./src/prebidGlobal.js");I("./src/utils.js");ma=I("./src/adapters/bidderFactory.js");
var r=I("./src/config.js"),f=I("./src/mediaTypes.js"),l=I("./src/storageManager.js"),z=I("./src/refererDetection.js"),H=I("./src/utils/gpdr.js"),w=I("./src/Renderer.js"),t=I("./src/video.js"),n=I("./src/ajax.js");const p=(0,l.getStorageManager)({bidderCode:"criteo"});(0,ma.registerBidder)({code:"criteo",gvlid:91,supportedMediaTypes:[f.BANNER,f.VIDEO,f.NATIVE],getUserSyncs:function(v,K,A,h){if("none"!==r.config.getConfig("criteo.fastBidVersion"))return[];K=(0,z.getRefererInfo)();if(v.iframeEnabled&&
(0,H.hasPurpose1Consent)(A)){v=[];v.push("origin=criteoPrebidAdapter");v.push(`topUrl=${K.domain}`);A&&(A.gdprApplies&&v.push(`gdpr=${1==A.gdprApplies?1:0}`),A.consentString&&v.push(`gdpr_consent=${A.consentString}`));h&&v.push(`us_privacy=${h}`);const q=Math.random().toString();A={bundle:na("cto_bundle"),cw:p.cookiesAreEnabled(),lsw:gnt.storage,optoutCookie:na("cto_optout"),origin:"criteoPrebidAdapter",requestId:q,tld:K.domain,topUrl:K.domain,version:"8.32.0".replace(/\./g,"_")};window.addEventListener("message",
function B(g){g.data&&"https://gum.criteo.com"==g.origin&&g.data.requestId===q&&(this.removeEventListener("message",B),g.stopImmediatePropagation(),g=g.data,g.optout?(p.setCookie("cto_bundle","",-1),p.removeDataFromLocalStorage("cto_bundle"),p.setCookie("cto_optout",!0,1800),p.setDataInLocalStorage("cto_optout",!0)):g.bundle&&(g=g.bundle,p.setCookie("cto_bundle",g,390),p.setDataInLocalStorage("cto_bundle",g)))},!0);A=JSON.stringify(A).replace(/"/g,"%22");return[{type:"iframe",url:`https://gum.criteo.com/syncframe?${v.join("&")}#${A}`}]}return[]},
isBidRequestValid:v=>{if(!v||!v.params||!v.params.zoneId&&!v.params.networkId)return!1;var K;return void 0===(null===v||void 0===v||null===(K=v.mediaTypes)||void 0===K?void 0:K.video)||O(v)?!0:!1},buildRequests:(v,K)=>{var A,h;let q=K.ortb2||{};Object.assign(K,{publisherExt:null===(A=q.site)||void 0===A?void 0:A.ext,userExt:null===(h=q.user)||void 0===h?void 0:h.ext,ceh:r.config.getConfig("criteo.ceh"),coppa:r.config.getConfig("coppa")});A=new Criteo.PubTag.Adapters.Prebid(185,36,v,K,"8.32.0",{createOutstreamVideoRenderer:d});
K=A.buildCdbUrl();if(A=A.buildCdbRequest())return{method:"POST",url:K,data:A,bidRequests:v}},interpretResponse:(v,K)=>{var A;const h=v.body||v,q=Criteo.PubTag.Adapters.Prebid.GetAdapter(K);if(q)return q.interpretResponse(h,K);const u=[],g=[];h&&h.slots&&Array.isArray(h.slots)&&h.slots.forEach(B=>{var M=y(K.bidRequests,B);if(M){var L,R,V;const D=M.bidId,F={requestId:D,cpm:B.cpm,currency:B.currency,netRevenue:!0,ttl:B.ttl||60,creativeId:B.creativecode,width:B.width,height:B.height,dealId:B.deal};null!==
(L=h.ext)&&void 0!==L&&null!==(L=L.paf)&&void 0!==L&&L.transmission&&null!==(R=B.ext)&&void 0!==R&&null!==(R=R.paf)&&void 0!==R&&R.content_id&&(F.meta=Object.assign({},F.meta,{paf:{content_id:B.ext.paf.content_id,transmission:v.ext.paf.transmission}}));B.adomain&&(F.meta=Object.assign({},F.meta,{advertiserDomains:[B.adomain].flat()}));null!==(V=B.ext)&&void 0!==V&&null!==(V=V.meta)&&void 0!==V&&V.networkName&&(F.meta=Object.assign({},F.meta,{networkName:B.ext.meta.networkName}));if(B.native)M.params.nativeCallback?
(L=D,B=B.native,M=M.params.nativeCallback,window.criteo_prebid_native_slots=window.criteo_prebid_native_slots||{},window.criteo_prebid_native_slots[L]={callback:M,payload:B},F.ad=`
<script type="text/javascript">
for (var i = 0; i < 10; ++i) {
 var slots = window.parent.${"criteo_prebid_native_slots"};
  if(!slots){continue;}
  var responseSlot = slots["${L}"];
  responseSlot.callback(responseSlot.payload);
  break;
}
</script>`):(F.native=G(B.native),F.mediaType=f.NATIVE);else if(B.video){var C;F.vastUrl=B.displayurl;F.mediaType=f.VIDEO;(null===M||void 0===M||null===(C=M.mediaTypes)||void 0===C||null===(C=C.video)||void 0===C?void 0:C.context)===t.OUTSTREAM&&(F.renderer=d(B))}else F.ad=B.creative;u.push(F)}});if(Array.isArray(null===(A=h.ext)||void 0===A?void 0:A.igbid)){const B=h.ext.seller||"https://grid-mercury.criteo.com",M=h.ext.sellerTimeout||500;h.ext.igbid.forEach(L=>{var R;const V={};L.igbuyer.forEach(T=>
{V[T.origin]=T.buyerdata});const C=K.bidRequests.find(T=>T.bidId===L.impid),D=C.bidId;let F=h.ext.sellerSignals||{};!F.floor&&C.params.bidFloor&&(F.floor=C.params.bidFloor);!F.sellerCurrency&&C.params.bidFloorCur&&(F.sellerCurrency=C.params.bidFloorCur);void 0!==(null===h||void 0===h||null===(R=h.ext)||void 0===R?void 0:R.sellerSignalsPerImp)&&(R=h.ext.sellerSignalsPerImp[D],void 0!==R&&(F={...F,...R}));g.push({bidId:D,config:{seller:B,sellerSignals:F,sellerTimeout:M,perBuyerSignals:V,auctionSignals:{},
decisionLogicUrl:"https://grid-mercury.criteo.com/fledge/decision",interestGroupBuyers:Object.keys(V)}})})}return g.length?{bids:u,fledgeAuctionConfigs:g}:u},onTimeout:v=>{if(Array.isArray(v)){var K=[];v.forEach(A=>{-1===K.indexOf(A.auctionId)&&(K.push(A.auctionId),Criteo.PubTag.Adapters.Prebid.GetAdapter(A.auctionId).handleBidTimeout())})}},onBidWon:v=>{v&&Criteo.PubTag.Adapters.Prebid.GetAdapter(v.auctionId).handleBidWon(v)},onSetTargeting:v=>{Criteo.PubTag.Adapters.Prebid.GetAdapter(v.auctionId).handleSetTargeting(v)},
onDataDeletionRequest:v=>{if(v=na("cto_bundle"))p.setCookie("cto_bundle","",-1),p.removeDataFromLocalStorage("cto_bundle"),(0,n.ajax)("https://privacy.criteo.com/api/privacy/datadeletionrequest",null,JSON.stringify({publisherUserId:v}),{contentType:"application/json",method:"POST"})}});(0,ca.registerModule)("criteoBidAdapter")},"./src/utils/gpdr.js":(ca,ma,I)=>{function na(G){return null!==G&&void 0!==G&&G.gdprApplies?!0===(0,O["default"])(G,"vendorData.purpose.consents.1"):!0}I.d(ma,{hasPurpose1Consent:()=>
na});var O=I("./node_modules/dlv/index.js")}},ca=>{ca.O(0,["creativeRender"],()=>ca(ca.s="./modules/criteoBidAdapter.js"));ca.O()}]);"use strict";(self.pbjsChunk=self.pbjsChunk||[]).push([["dfpAdServerVideo"],{"./modules/dfpAdServerVideo.js":(ca,ma,I)=>{function na(A){A.call(this,"dfp")}function O(A,h,q){return(0,r["default"])(h,`${q}.description_url`)||encodeURIComponent(K.ri().page)}function G(A,h,q){const u=A&&A.adserverTargeting||{};var g={};const B=h&&h.adUnit;B&&(g=(g=d.targeting.getAllTargeting(B.code))?
g[B.code]:{});A=Object.assign({},{hb_uuid:A&&A.videoCacheKey},{hb_cache_id:A&&A.videoCacheKey},g,u);w.emit(t.EVENTS.SET_TARGETING,{[B.code]:A});h=(0,r["default"])(h,"params.cust_params");h=Object.assign({},A,h);h=encodeURIComponent((0,y.formatQS)(h));q&&(h=q+"%26"+h);return h}ca=I("./src/prebidGlobal.js");ma=I("./src/adServerManager.js");var d=I("./src/targeting.js"),y=I("./src/utils.js"),r=I("./node_modules/dlv/index.js"),f=I("./src/config.js"),l=I("./src/hook.js"),z=I("./src/auctionManager.js"),
H=I("./src/consentHandler.js"),w=I("./src/events.js"),t=I("./src/constants.json"),n=I("./src/adserver.js");const p={env:"vp",gdfp_req:1,output:"vast",unviewed_position_start:1},v={},K={ri:I("./src/refererDetection.js").getRefererInfo};f.config.getConfig("brandCategoryTranslation.translationFile")&&(0,l.getHook)("registerAdserver").before(na);(0,ma.registerVideoSupport)("dfp",{buildVideoUrl:function(A){if(A.params||A.url){var h=A.adUnit,q=A.bid||d.targeting.getWinningBids(h.code)[0],u={};if(A.url&&
(u=(0,y.parseUrl)(A.url,{noDecodeWholeURL:!0}),(0,y.isEmpty)(A.params))){if(h=O(q,u,"search"))u.search.description_url=h;u.search.cust_params=G(q,A,u.search.cust_params);return u=(0,y.buildUrl)(u)}h={correlator:Date.now(),sz:(0,y.parseSizesInput)((0,r["default"])(h,"mediaTypes.video.playerSize")).join("|"),url:encodeURIComponent(location.href)};var g=u.search,B=g&&g.sz;B&&(h.sz=B+"|"+h.sz);g=G(q,A,g&&g.cust_params);h=Object.assign({},p,u.search,h,A.params,{cust_params:g});if(A=O(q,A,"params"))h.description_url=
A;if(A=H.gdprDataHandler.getConsentData())"boolean"===typeof A.gdprApplies&&(h.gdpr=Number(A.gdprApplies)),A.consentString&&(h.gdpr_consent=A.consentString),A.addtlConsent&&(h.addtl_consent=A.addtlConsent);if(A=H.uspDataHandler.getConsentData())h.us_privacy=A;H.gppDataHandler.getConsentData();h.ppid||(A=(0,n.getPPID)(),null!=A&&(h.ppid=A));return(0,y.buildUrl)(Object.assign({protocol:"https",host:"securepubads.g.doubleclick.net",pathname:"/gampad/ads"},u,{search:h}))}},buildAdpodVideoUrl:function(){let {code:A,
params:h,callback:q}=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};if(h&&q){var u={correlator:Date.now(),sz:function(g){var B=z.auctionManager.getAdUnits().filter(M=>M.code===g);B=(0,r["default"])(B[0],"mediaTypes.video.playerSize");return(0,y.parseSizesInput)(B).join("|")}(A),url:encodeURIComponent(location.href)};v.getTargeting({codes:[A],callback:function(g,B){if(g)q(g,null);else{g={[v.TARGETING_KEY_PB_CAT_DUR]:void 0,[v.TARGETING_KEY_CACHE_ID]:void 0};var M={};B[A]&&(M=B[A].reduce((L,
R)=>{Object.keys(R)[0]===v.TARGETING_KEY_PB_CAT_DUR?L[v.TARGETING_KEY_PB_CAT_DUR]="undefined"!==typeof L[v.TARGETING_KEY_PB_CAT_DUR]?L[v.TARGETING_KEY_PB_CAT_DUR]+","+R[v.TARGETING_KEY_PB_CAT_DUR]:R[v.TARGETING_KEY_PB_CAT_DUR]:Object.keys(R)[0]===v.TARGETING_KEY_CACHE_ID&&(L[v.TARGETING_KEY_CACHE_ID]=R[v.TARGETING_KEY_CACHE_ID]);return L},g));B=encodeURIComponent((0,y.formatQS)(M));B=Object.assign({},p,u,h,{cust_params:B});if(g=H.gdprDataHandler.getConsentData())"boolean"===typeof g.gdprApplies&&
(B.gdpr=Number(g.gdprApplies)),g.consentString&&(B.gdpr_consent=g.consentString),g.addtlConsent&&(B.addtl_consent=g.addtlConsent);if(g=H.uspDataHandler.getConsentData())B.us_privacy=g;B=(0,y.buildUrl)({protocol:"https",host:"securepubads.g.doubleclick.net",pathname:"/gampad/ads",search:B});q(null,B)}}})}},getAdpodTargeting:A=>v.getTargeting(A)});(0,l.submodule)("adpod",v);(0,ca.registerModule)("dfpAdServerVideo")},"./src/adServerManager.js":(ca,ma,I)=>{function na(G,d){O.adServers=O.adServers||{};
O.adServers[G]=O.adServers[G]||{};Object.keys(d).forEach(y=>{O.adServers[G][y]||(O.adServers[G][y]=d[y])})}I.d(ma,{registerVideoSupport:()=>na});ca=I("./src/prebidGlobal.js");I("./src/utils.js");const O=(0,ca.getGlobal)()},"./src/adserver.js":(ca,ma,I)=>{I.d(ma,{getPPID:()=>na});const na=(0,I("./src/hook.js").hook)("sync",()=>{})}},ca=>{ca.O(0,["creativeRender"],()=>ca(ca.s="./modules/dfpAdServerVideo.js"));ca.O()}]);"use strict";(self.pbjsChunk=self.pbjsChunk||[]).push([["ixBidAdapter"],{"./modules/ixBidAdapter.js":(ca,
ma,I)=>{ca=I("./src/prebidGlobal.js");ma=I("./src/mediaTypes.js");var na=I("./src/adapters/bidderFactory.js"),O=I("./libraries/transformParamsUtils/convertTypes.js");let G=0;(0,na.registerBidder)({testSpecProp:"this is a property of the ix spec object",code:"ix",gvlid:10,aliases:[{code:"roundel",gvlid:10,skipPbsAliasing:!1}],supportedMediaTypes:[ma.BANNER,ma.VIDEO,ma.NATIVE],resetSiteID:function(){G=0},transformBidParams:function(d){G||(G=d.siteId);return(0,O.convertTypes)({siteID:"number"},d)}});
(0,ca.registerModule)("ixBidAdapter")}},ca=>{ca.O(0,["transformParamsUtils","creativeRender"],()=>ca(ca.s="./modules/ixBidAdapter.js"));ca.O()}]);"use strict";(self.pbjsChunk=self.pbjsChunk||[]).push([["openxBidAdapter"],{"./modules/openxBidAdapter.js":(ca,ma,I)=>{ca=I("./src/prebidGlobal.js");ma=I("./src/adapters/bidderFactory.js");var na=I("./src/mediaTypes.js"),O=I("./libraries/transformParamsUtils/convertTypes.js");(0,ma.registerBidder)({code:"openx",gvlid:69,supportedMediaTypes:[na.BANNER,na.VIDEO],
transformBidParams:function(G){return(0,O.convertTypes)({unit:"string",customFloor:"number"},G)}});(0,ca.registerModule)("openxBidAdapter")}},ca=>{ca.O(0,["transformParamsUtils","creativeRender"],()=>ca(ca.s="./modules/openxBidAdapter.js"));ca.O()}]);"use strict";(self.pbjsChunk=self.pbjsChunk||[]).push([["prebidServerBidAdapter"],{"./modules/prebidServerBidAdapter/config.js":(ca,ma,I)=>{I.d(ma,{S2S_VENDORS:()=>na});const na={appnexuspsp:{adapter:"prebidServer",enabled:!0,endpoint:{p1Consent:"https://ib.adnxs.com/openrtb2/prebid",
noP1Consent:"https://ib.adnxs-simple.com/openrtb2/prebid"},syncEndpoint:{p1Consent:"https://prebid.adnxs.com/pbs/v1/cookie_sync",noP1Consent:"https://prebid.adnxs-simple.com/pbs/v1/cookie_sync"},timeout:1E3},rubicon:{adapter:"prebidServer",enabled:!0,endpoint:{p1Consent:"https://prebid-server.rubiconproject.com/openrtb2/auction",noP1Consent:"https://prebid-server.rubiconproject.com/openrtb2/auction"},syncEndpoint:{p1Consent:"https://prebid-server.rubiconproject.com/cookie_sync",noP1Consent:"https://prebid-server.rubiconproject.com/cookie_sync"},
timeout:500},openx:{adapter:"prebidServer",enabled:!0,endpoint:{p1Consent:"https://prebid.openx.net/openrtb2/auction",noP1Consent:"https://prebid.openx.net/openrtb2/auction"},syncEndpoint:{p1Consent:"https://prebid.openx.net/cookie_sync",noP1Consent:"https://prebid.openx.net/cookie_sync"},timeout:1E3},openwrap:{adapter:"prebidServer",enabled:!0,endpoint:{p1Consent:"https://ow.pubmatic.com/openrtb2/auction?source=pbjs",noP1Consent:"https://ow.pubmatic.com/openrtb2/auction?source=pbjs"},timeout:500}}},
"./modules/prebidServerBidAdapter/index.js":(ca,ma,I)=>{function na(Z){if(Z.defaultVendor){let ea=Z.defaultVendor,ia=Object.keys(Z);if(g.S2S_VENDORS[ea])Object.keys(g.S2S_VENDORS[ea]).forEach(qa=>{ua[qa]!==Z[qa]&&(0,u.includes)(ia,qa)||(Z[qa]=g.S2S_VENDORS[ea][qa])});else return!1}return Z.enabled="boolean"===typeof Z.enabled?Z.enabled:!1}function O(Z){const ea=Object.keys(Z);if(0<["accountId","endpoint"].filter(ia=>(0,u.includes)(ea,ia)?!1:!0).length)return!1}function G(Z){["endpoint","syncEndpoint"].forEach(ea=>
{if((0,p.isStr)(Z[ea])){let ia=Z[ea];Z[ea]={p1Consent:ia,noP1Consent:ia}}!(0,p.isPlainObject)(Z[ea])||Z[ea].p1Consent&&Z[ea].noP1Consent||["p1Consent","noP1Consent"].forEach(ia=>{})})}function d(Z){if(Z){var ea=Array.isArray(Z)?Z:[Z],ia=[];if(ea.every((qa,Y,x)=>{G(Z);return!1!==na(qa)&&!1!==O(qa)?(Array.isArray(qa.bidders)&&(x[Y].bidders=qa.bidders.filter(E=>-1===ia.indexOf(E)?(ia.push(E),!0):!1)),!0):!1}))return ba=ea}}function y(Z,ea,ia,qa,Y){if(ba.length!==T){T++;var x={},E=D("userSync.filterSettings");
if(E){const {all:Q,iframe:k,image:S}=E;E=k||Q;const N=S||Q;E&&(x=Object.assign({iframe:E},x));N&&(x=Object.assign({image:N},x))}Z={uuid:(0,p.generateUUID)(),bidders:Z,account:Y.accountId,filterSettings:x};x=Y.userSyncLimit;(0,p.isNumber)(x)&&0<x&&(Z.limit=x);ea&&(Z.gdpr=ea.gdprApplies?1:0,!1!==ea.gdprApplies&&(Z.gdpr_consent=ea.consentString));ia&&(Z.us_privacy=ia);qa&&(Z.gpp_sid=qa.applicableSections.join(),Z.gpp=qa.gppString);"boolean"===typeof Y.coopSync&&(Z.coopSync=Y.coopSync);ia=JSON.stringify(Z);
(0,B.ajax)(H(Y.syncEndpoint,ea),Q=>{try{Q=JSON.parse(Q),r(Q.bidder_status,Y)}catch(k){}},ia,{mode:"same-origin",contentType:"text/plain",withCredentials:!0})}}function r(Z,ea){if(0!==Z.length){var ia=Z.shift();if(ia.no_cookie){var qa=ia.usersync.type,Y=ia.usersync.url;ia=ia.bidder;Z=r.bind(null,Z,ea);ea.syncUrlModifier&&"function"===typeof ea.syncUrlModifier[ia]&&(Y=ea.syncUrlModifier[ia](qa,Y,ia));ea=ea.syncTimeout;Y?"image"===qa||"redirect"===qa?(0,p.triggerPixel)(Y,Z,ea):"iframe"===qa?(0,p.insertUserSyncIframe)(Y,
Z,ea):Z():Z()}else r(Z,ea)}}function f(Z,ea,ia,qa){Z.forEach(Y=>{let x=K["default"].getBidAdapter(Y);x&&x.registerSyncs&&A.config.runWithBidder(Y,x.registerSyncs.bind(x,[],ea,ia,qa))})}function l(Z,ea,ia){[Z,ea].every(p.isStr)&&(aa[`${Z}${ea}`]=ia)}function z(Z){var ea=Z.auctionId;var ia=Z.adId;ea=[ea,ia].every(p.isStr)?aa[`${ea}${ia}`]:void 0;(0,p.isStr)(ea)&&((0,p.triggerPixel)(ea),ea=Z.auctionId,Z=Z.adId,[ea,Z].every(p.isStr)&&(aa[`${ea}${Z}`]=void 0))}function H(Z,ea){return(0,M.hasPurpose1Consent)(ea)?
Z.p1Consent:Z.noP1Consent}function w(Z){let ea,ia,qa;Array.isArray(Z)&&0<Z.length&&(ea=Z[0].gdprConsent,ia=Z[0].uspConsent,qa=Z[0].gppConsent);return{gdprConsent:ea,uspConsent:ia,gppConsent:qa}}function t(Z,ea){var ia,qa;return(null===Z||void 0===Z||null===(ia=Z.extPrebid)||void 0===ia?void 0:ia.returnallbidstatus)&&(null===ea||void 0===ea||null===(qa=ea.ext)||void 0===qa?void 0:qa.seatnonbid)}ca=I("./src/prebidGlobal.js");var n=I("./src/adapter.js"),p=I("./src/utils.js"),v=I("./src/constants.json"),
K=I("./src/adapterManager.js"),A=I("./src/config.js"),h=I("./src/adapters/bidderFactory.js"),q=I("./src/events.js"),u=I("./src/polyfill.js"),g=I("./modules/prebidServerBidAdapter/config.js"),B=I("./src/ajax.js");ma=I("./src/hook.js");var M=I("./src/utils/gpdr.js"),L=I("./modules/prebidServerBidAdapter/ortbConverter.js"),R=I("./src/utils/perfMetrics.js"),V=I("./src/activities/rules.js"),C=I("./src/activities/activities.js");const D=A.config.getConfig,F=v.S2S.SRC;let T=0,ba,ha;const ua={bidders:Object.freeze([]),
timeout:1E3,syncTimeout:1E3,maxBids:1,adapter:"prebidServer",allowUnknownBidderCodes:!1,adapterOptions:{},syncUrlModifier:{},ortbNative:{eventtrackers:[{event:1,methods:[1,2]}]}};A.config.setDefaults({s2sConfig:ua});D("s2sConfig",Z=>{({s2sConfig:Z}=Z);return d(Z)});let aa={};const ja=(0,ma.hook)("sync",function(Z,ea,ia,qa){let {onResponse:Y,onError:x,onBid:E,onFledge:Q}=qa;var {gdprConsent:k}=w(ea);const S=(0,p.deepClone)(Z.ad_units),N=S.map(pa=>pa.bids.map(oa=>oa.bidder).filter(p.uniques)).reduce(p.flatten,
[]).filter(p.uniques),W=Z.metrics.measureTime("buildRequests",()=>(0,L.buildPBSRequest)(Z,ea,S,N,ha));qa=W&&JSON.stringify(W);k=H(Z.s2sConfig.endpoint,k);if(W&&qa&&k){const pa=Z.metrics.startTiming("net");ia(k,{success:function(oa){pa();let xa;try{xa=JSON.parse(oa);const {bids:Fa,fledgeAuctionConfigs:Ia}=Z.metrics.measureTime("interpretResponse",()=>(0,L.interpretPBSResponse)(xa,W));Fa.forEach(E);Ia&&Ia.forEach(Q)}catch(Fa){}!xa||xa.status&&(0,u.includes)(xa.status,"Error")?Y(!1,N):Y(!0,N,xa)},error:function(){pa();
x.apply(this,arguments)}},qa,{mode:"same-origin",contentType:"text/plain",withCredentials:!0,browsingTopics:(0,V.isActivityAllowed)(C.ACTIVITY_TRANSMIT_UFPD,(0,K.s2sActivityParams)(Z.s2sConfig))})}},"processPBSRequest");(0,p.getPrebidInternal)().setEidPermissions=function(Z){ha=Z};K["default"].registerBidAdapter(new function(){const Z=new n["default"]("prebidServer");Z.callBids=function(ea,ia,qa,Y,x){var E;const Q=ea.metrics=(0,R.useMetrics)(null===ia||void 0===ia||null===(E=ia[0])||void 0===E?void 0:
E.metrics).newMetrics().renameWith(W=>[`adapter.s2s.${W}`,`adapters.s2s.${ea.s2sConfig.defaultVendor}.${W}`]);Y=Q.startTiming("total").stopBefore(Y);ia.forEach(W=>(0,R.useMetrics)(W.metrics).join(Q,{continuePropagation:!1}));let {gdprConsent:k,uspConsent:S,gppConsent:N}=w(ia);Array.isArray(ba)&&(ea.s2sConfig&&ea.s2sConfig.syncEndpoint&&H(ea.s2sConfig.syncEndpoint,k)&&(E=ea.s2sConfig.bidders.map(W=>K["default"].aliasRegistry[W]||W).filter((W,pa,oa)=>oa.indexOf(W)===pa),y(E,k,S,N,ea.s2sConfig)),ja(ea,
ia,x,{onResponse:function(W,pa,oa){W&&ia.forEach(xa=>q.emit(v.EVENTS.BIDDER_DONE,xa));t(ea.s2sConfig,oa)&&q.emit(v.EVENTS.SEAT_NON_BID,{seatnonbid:oa.ext.seatnonbid,auctionId:ia[0].auctionId,requestedBidders:pa,response:oa,adapterMetrics:Q});Y();f(pa,k,S,N)},onError(W,pa){ia.forEach(oa=>q.emit(v.EVENTS.BIDDER_ERROR,{error:pa,bidderRequest:oa}));Y()},onBid:function(W){let {adUnit:pa,bid:oa}=W;W=oa.metrics=ea.metrics.fork().renameWith();W.checkpoint("addBidResponse");null!=oa.requestId&&null!=oa.requestBidder||
ea.s2sConfig.allowUnknownBidderCodes?W.measureTime("addBidResponse.validate",()=>(0,h.isValid)(pa,oa))?(qa(pa,oa),oa.pbsWurl&&l(oa.auctionId,oa.adId,oa.pbsWurl)):qa.reject(pa,oa,v.REJECTION_REASON.INVALID):qa.reject(pa,oa,v.REJECTION_REASON.BIDDER_DISALLOWED)},onFledge:W=>{(0,h.addComponentAuction)({auctionId:ia[0].auctionId,...W},W.config)}}))};q.on(v.EVENTS.BID_WON,z);return Object.assign(this,{callBids:Z.callBids,setBidderCode:Z.setBidderCode,type:F})},"prebidServer");(0,ca.registerModule)("prebidServerBidAdapter")},
"./modules/prebidServerBidAdapter/ortbConverter.js":(ca,ma,I)=>{function na(g,B,M,L,R){const V=(0,d.timestamp)(),C=new Set,D=[],F=(0,t.s2sActivityParams)(g.s2sConfig),T=(()=>{const ha=(0,w.redactor)(F),ua={};return aa=>{if(null==aa)return ha;ua.hasOwnProperty(aa)||(ua[aa]=(0,w.redactor)((0,n.activityParams)(p.MODULE_TYPE_BIDDER,aa)));return ua[aa]}})();M=M.map(ha=>T().bidRequest(ha));M.forEach(ha=>{const ua=new Map;M.bids=ha.bids.map(Z=>T(Z.bidder).bidRequest(Z));ha.bids.forEach(Z=>{ua.set(Z.bidder,
(0,d.getBidRequest)(Z.bid_id,B))});let aa=ha.code,ja=1;for(;C.has(aa);)ja++,aa=`${ha.code}-${ja}`;C.add(aa);D.push({...ha,adUnitCode:ha.code,...(0,d.getDefinedParams)(ua.values().next().value||{},["userId","userIdAsEids","schain"]),pbsData:{impId:aa,actualBidRequests:ua,adUnit:ha}})});const ba={...Object.fromEntries(Object.entries(B[0]).filter(ha=>{[ha]=ha;return!q.has(ha)})),fledgeEnabled:B.some(ha=>ha.fledgeEnabled)};return u.toORTB({bidderRequest:ba,bidRequests:D,context:{currency:y.config.getConfig("currency.adServerCurrency")||
"USD",ttl:g.s2sConfig.defaultTtl||60,requestTimestamp:V,s2sBidRequest:g,requestedBidders:L,actualBidderRequests:B,eidPermissions:R,nativeRequest:g.s2sConfig.ortbNative,getRedactor:T,transmitTids:(0,v.isActivityAllowed)(K.ACTIVITY_TRANSMIT_TID,F)}})}function O(g,B){return u.fromORTB({response:g,request:B})}I.d(ma,{buildPBSRequest:()=>na,interpretPBSResponse:()=>O});ca=I("./libraries/ortbConverter/converter.js");var G=I("./node_modules/dset/dist/index.mjs"),d=I("./src/utils.js"),y=I("./src/config.js"),
r=I("./src/constants.json"),f=I("./src/bidfactory.js");ma=I("./libraries/pbsExtensions/pbsExtensions.js");var l=I("./libraries/pbsExtensions/processors/params.js"),z=I("./libraries/pbsExtensions/processors/mediaType.js"),H=I("./src/pbjsORTB.js"),w=I("./src/activities/redactor.js"),t=I("./src/adapterManager.js"),n=I("./src/activities/activityParams.js"),p=I("./src/activities/modules.js"),v=I("./src/activities/rules.js"),K=I("./src/activities/activities.js"),A=I("./libraries/currencyUtils/currency.js"),
h=I("./src/utils/reducers.js");const q=new Set(["bidderCode","bidderRequestId","uniquePbsTid","bids","timeout"]),u=(0,ca.ortbConverter)({processors:ma.pbsExtensions,context:{netRevenue:!0},imp(g,B,M){Object.assign(M,B.pbsData);const L=g(B,M);(B.bids||[]).forEach(R=>{R.ortb2Imp&&0<Object.keys(R.ortb2Imp).length&&(0,G.dset)(L,`ext.prebid.imp.${R.bidder}`,R.ortb2Imp)});if(Object.values(z.SUPPORTED_MEDIA_TYPES).some(R=>L[R]))return L.secure=M.s2sBidRequest.s2sConfig.secure,L},request(g,B,M,L){if(B.length){var R;
let {s2sBidRequest:V,requestedBidders:C,eidPermissions:D}=L;g=g(B,M,L);(B=null===L||void 0===L||null===(R=L.bidRequests)||void 0===R||null===(R=R[0])||void 0===R?void 0:R.userIdAsEids)&&(0,G.dset)(g,"user.ext.eids",B);g.tmax=V.s2sConfig.timeout;[g.app,g.dooh,g.site].forEach(F=>{var T;!F||null!==(T=F.publisher)&&void 0!==T&&T.id||(0,G.dset)(F,"publisher.id",V.s2sConfig.accountId)});Array.isArray(D)&&0<D.length&&(C&&Array.isArray(C)&&(D=D.map(F=>({...F,bidders:F.bidders.filter(T=>C.includes(T))}))),
(0,G.dset)(g,"ext.prebid.data.eidpermissions",D));L.transmitTids||(0,G.dset)(g,"ext.prebid.createtids",!1);return g}},bidResponse(g,B,M){var L,R;let V=M.actualBidRequests.get(M.seatbid.seat);null==V&&(V=M.actualBidRequests.get(null));V&&Object.assign(M,{bidRequest:V,bidderRequest:M.actualBidderRequests.find(C=>C.bidderCode===V.bidder)});g=g(B,M);g.requestBidder=null===(L=V)||void 0===L?void 0:L.bidder;null!==(R=g.native)&&void 0!==R&&R.ortb&&(g.adm=g.native.ortb);g.requestTimestamp=M.requestTimestamp;
return{bid:Object.assign((0,f.createBid)(r.STATUS.GOOD,{src:r.S2S.SRC,bidId:V?V.bidId||V.bid_Id:null,transactionId:M.adUnit.transactionId,auctionId:M.bidderRequest.auctionId}),g),adUnit:M.adUnit.code}},overrides:{[H.IMP]:{id(g,B,M,L){B.id=L.impId},params(g,B,M,L){g=L.s2sBidRequest.s2sConfig.adapterOptions;for(const R of L.actualBidRequests.values())(0,l.setImpBidParams)(B,R,L,L),g&&g[R.bidder]&&Object.assign(B.ext.prebid.bidder[R.bidder],g[R.bidder])},bidfloor(g,B,M,L){M=(0,h.minimum)((0,A.currencyCompare)(V=>
[V.bidfloor,V.bidfloorcur]));let R;for(const V of L.actualBidRequests.values()){const C={};g(C,V,L);if(null==C.bidfloorcur||null==C.bidfloor){R=null;break}R=null==R?C:M(R,C)}null!=R&&Object.assign(B,R)}},[H.REQUEST]:{fpd(g,B,M,L){var R,V;L.transmitTids&&(0,G.dset)(B,"source.tid",M.auctionId);(0,d.mergeDeep)(B,null===(R=L.s2sBidRequest.ortb2Fragments)||void 0===R?void 0:R.global);if(L.s2sBidRequest.s2sConfig.extPrebid&&"object"===typeof L.s2sBidRequest.s2sConfig.extPrebid){var C;(0,G.dset)(B,"ext.prebid",
(0,d.mergeDeep)((null===(C=B.ext)||void 0===C?void 0:C.prebid)||{},L.s2sBidRequest.s2sConfig.extPrebid))}L.getRedactor().ortb2(B);g=Object.entries((null===(V=L.s2sBidRequest.ortb2Fragments)||void 0===V?void 0:V.bidder)||{}).filter(D=>{[D]=D;const F=L.s2sBidRequest.s2sConfig.bidders;return L.s2sBidRequest.s2sConfig.allowUnknownBidderCodes||F&&F.includes(D)}).map(D=>{let [F,T]=D;return{bidders:[F],config:{ortb2:L.getRedactor(F).ortb2(T)}}});g.length&&(0,G.dset)(B,"ext.prebid.bidderconfig",g)},extPrebidAliases(g,
B,M,L){L.actualBidderRequests.forEach(R=>g(B,R,L))},sourceExtSchain(g,B,M,L){var R;let V;g=(null===B||void 0===B||null===(R=B.ext)||void 0===R||null===(R=R.prebid)||void 0===R?void 0:R.schains)||[];const C=new Set(g.flatMap(D=>D.bidders));g=Object.values(g.concat(L.actualBidderRequests.filter(D=>!C.has(D.bidderCode)).map(D=>{var F;return{bidders:[D.bidderCode],schain:null===D||void 0===D||null===(F=D.bids)||void 0===F||null===(F=F[0])||void 0===F?void 0:F.schain}})).filter(D=>{let {bidders:F,schain:T}=
D;return 0<(null===F||void 0===F?void 0:F.length)&&T}).reduce((D,F)=>{let {bidders:T,schain:ba}=F;const ha=JSON.stringify(ba);D.hasOwnProperty(ha)||(D[ha]={bidders:new Set,schain:ba});T.forEach(ua=>D[ha].bidders.add(ua));if(null==V||D[ha].bidders.size>V.bidders.size)V=D[ha];return D},{})).map(D=>{let {bidders:F,schain:T}=D;return{bidders:Array.from(F),schain:T}});null!=V&&(0,G.dset)(B,"source.ext.schain",V.schain);g.length&&(0,G.dset)(B,"ext.prebid.schains",g)}},[H.RESPONSE]:{serverSideStats(g,B,
M,L){L.actualBidderRequests.forEach(R=>g(B,M,{...L,bidderRequest:R,bidRequests:R.bids}))},fledgeAuctionConfigs(g,B,M,L){g=Object.values(L.impContext).flatMap(R=>(R.fledgeConfigs||[]).map(V=>{const C=R.actualBidderRequests.find(F=>F.bidderCode===V.bidder),D=R.actualBidRequests.get(V.bidder);return{adUnitCode:R.adUnit.code,ortb2:null===C||void 0===C?void 0:C.ortb2,ortb2Imp:null===D||void 0===D?void 0:D.ortb2Imp,config:V.config}}));0<g.length&&(B.fledgeAuctionConfigs=g)}}}})},"./src/fpd/oneClient.js":(ca,
ma,I)=>{function na(G){return function(d){O.reduce((y,r)=>{null!=d[r]&&0<Object.keys(d[r]).length&&(null!=y?delete d[r]:y=r);return y},null);return d}}I.d(ma,{clientSectionChecker:()=>na});I("./src/utils.js");const O=["dooh","app","site"]},"./src/pbjsORTB.js":(ca,ma,I)=>{I.d(ma,{BID_RESPONSE:()=>d,DEFAULT:()=>r,IMP:()=>G,PBS:()=>f,PROCESSOR_TYPES:()=>na,REQUEST:()=>O,RESPONSE:()=>y,getProcessors:()=>z});const na=["request","imp","bidResponse","response"],[O,G,d,y]=na,[r,f]=["default","pbs"],l=new Set(na),
{getProcessors:z}=function(){const H={};return{registerOrtbProcessor(w){let {type:t,name:n,fn:p,priority:v=0,dialects:K=[r]}=w;if(!l.has(t))throw Error(`ORTB processor type must be one of: ${na.join(", ")}`);K.forEach(A=>{H.hasOwnProperty(A)||(H[A]={});H[A].hasOwnProperty(t)||(H[A][t]={});H[A][t][n]={priority:v,fn:p}})},getProcessors(w){return H[w]||{}}}}()},"./src/utils/gpdr.js":(ca,ma,I)=>{function na(G){return null!==G&&void 0!==G&&G.gdprApplies?!0===(0,O["default"])(G,"vendorData.purpose.consents.1"):
!0}I.d(ma,{hasPurpose1Consent:()=>na});var O=I("./node_modules/dlv/index.js")}},ca=>{ca.O(0,["ortbConverter","pbsExtensions","currencyUtils","creativeRender"],()=>ca(ca.s="./modules/prebidServerBidAdapter/index.js"));ca.O()}]);"use strict";(self.pbjsChunk=self.pbjsChunk||[]).push([["pubmaticBidAdapter"],{"./modules/pubmaticBidAdapter.js":(ca,ma,I)=>{ca=I("./src/prebidGlobal.js");ma=I("./src/adapters/bidderFactory.js");var na=I("./src/mediaTypes.js"),O=I("./libraries/transformParamsUtils/convertTypes.js");
(0,ma.registerBidder)({code:"pubmatic",gvlid:76,supportedMediaTypes:[na.BANNER,na.VIDEO,na.NATIVE],transformBidParams:function(G){return(0,O.convertTypes)({publisherId:"string",adSlot:"string"},G)}});(0,ca.registerModule)("pubmaticBidAdapter")}},ca=>{ca.O(0,["transformParamsUtils","creativeRender"],()=>ca(ca.s="./modules/pubmaticBidAdapter.js"));ca.O()}]);"use strict";(self.pbjsChunk=self.pbjsChunk||[]).push([["rubiconBidAdapter"],{"./modules/rubiconBidAdapter.js":(ca,ma,I)=>{ca=I("./src/prebidGlobal.js");
ma=I("./src/adapters/bidderFactory.js");var na=I("./src/config.js"),O=I("./src/mediaTypes.js"),G=I("./src/utils.js");let d=na.config.getConfig("rubicon")||{};na.config.getConfig("rubicon",y=>{(0,G.mergeDeep)(d,y.rubicon)});(0,ma.registerBidder)({code:"rubicon",gvlid:52,supportedMediaTypes:[O.BANNER,O.VIDEO,O.NATIVE]});(0,ca.registerModule)("rubiconBidAdapter")}},ca=>{ca.O(0,["creativeRender"],()=>ca(ca.s="./modules/rubiconBidAdapter.js"));ca.O()}]);"use strict";(self.pbjsChunk=self.pbjsChunk||[]).push([["taboolaBidAdapter"],
{"./modules/taboolaBidAdapter.js":(ca,ma,I)=>{function na(w){return{format:w.map(t=>({w:t[0],h:t[1]}))}}ca=I("./src/prebidGlobal.js");ma=I("./src/adapters/bidderFactory.js");var O=I("./src/mediaTypes.js"),G=I("./src/config.js"),d=I("./src/utils.js"),y=I("./node_modules/dset/dist/index.mjs"),r=I("./src/storageManager.js"),f=I("./src/ajax.js");I=I("./libraries/ortbConverter/converter.js");const l={storageManager:(0,r.getStorageManager)({bidderCode:"taboola"}),getUserId:()=>{const {getFromLocalStorage:w,
getFromCookie:t,getFromTRC:n}=l;try{return w()||t()||n()}catch(p){return 0}},getFromCookie(){if(l.storageManager.cookiesAreEnabled()){var w=l.getCookieDataByKey(g$.ic.trc_cookie_storage,"user-id");if(w||(w=getCookie("t_gid"))||(w=getCookie("tbla_id")))return w}},getCookieDataByKey(w,t){[,w=""]=w.split(`${t}=`);return w},getFromLocalStorage(){if(gnt.storage)return l.storageManager.getDataFromLocalStorage("taboola global:user-id")},getFromTRC(){return window.TRC?window.TRC.user_id:0}},z={getPageUrl:function(){let w=
0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(null===w||void 0===w?void 0:w.page)||window.self.location.href},getReferrer:function(){let w=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(null===w||void 0===w?void 0:w.ref)||window.self.document.referrer}},H=(0,I.ortbConverter)({context:{netRevenue:!0,mediaType:O.BANNER,ttl:300},imp(w,t,n){w=w(t,n);{var p;const {tagId:v,position:K}=t.params;w.banner={...na(t.sizes),pos:K};w.tagid=v;if("function"===typeof t.getFloor)n=
t.getFloor({currency:"USD",size:"*"}),"object"!==typeof n||"USD"!==n.currency||isNaN(parseFloat(n.floor))||(w.bidfloor=parseFloat(n.floor),w.bidfloorcur="USD");else{const {bidfloor:A=null,bidfloorcur:h="USD"}=t.params;w.bidfloor=A;w.bidfloorcur=h}(0,y.dset)(w,"ext.gpid",null===t||void 0===t||null===(p=t.ortb2Imp)||void 0===p||null===(p=p.ext)||void 0===p?void 0:p.gpid)}return w},request(w,t,n,p){w=w(t,n,p);{p=p.bidRequests[0];var v,K,A;const {refererInfo:L,gdprConsent:R={},uspConsent:V}=n;{var h=
L,q=n.ortb2,u,g,B,M;let {publisherId:C}=p.params;const {getPageUrl:D,getReferrer:F}=z;t={id:C,name:C,domain:(null===q||void 0===q||null===(u=q.site)||void 0===u?void 0:u.domain)||(null===h||void 0===h?void 0:h.domain)||(null===(g=window.location)||void 0===g?void 0:g.host),page:(null===q||void 0===q||null===(B=q.site)||void 0===B?void 0:B.page)||D(h),ref:(null===q||void 0===q||null===(M=q.site)||void 0===M?void 0:M.ref)||F(h),publisher:{id:C},content:{language:navigator.language}}}u={ua:navigator.userAgent};
g={buyeruid:l.getUserId(R,V),ext:{}};B={coppa:0,ext:{}};R.gdprApplies&&(g.ext.consent=n.gdprConsent.consentString,B.ext.gdpr=1);V&&(B.ext.us_privacy=V);null!==(v=n.ortb2)&&void 0!==v&&null!==(v=v.regs)&&void 0!==v&&v.gpp&&(B.ext.gpp=n.ortb2.regs.gpp,B.ext.gpp_sid=n.ortb2.regs.gpp_sid);G.config.getConfig("coppa")&&(B.coppa=1);v=n.ortb2||{bcat:[],badv:[],wlang:[]};w.id=n.bidderRequestId;w.site=t;w.device=u;w.source={fd:1};w.tmax=void 0==n.timeout?void 0:parseInt(n.timeout);w.bcat=v.bcat||p.params.bcat||
[];w.badv=v.badv||p.params.badv||[];w.wlang=v.wlang||p.params.wlang||[];w.user=g;w.regs=B;(0,y.dset)(w,"ext.pageType",(null===v||void 0===v||null===(K=v.ext)||void 0===K||null===(K=K.data)||void 0===K?void 0:K.pageType)||(null===v||void 0===v||null===(A=v.ext)||void 0===A||null===(A=A.data)||void 0===A?void 0:A.section)||p.params.pageType)}return w},bidResponse(w,t,n){w=w(t,n);w.nurl=t.nurl;w.ad=(0,d.replaceAuctionPrice)(t.adm,t.price);return w}});(0,ma.registerBidder)({supportedMediaTypes:[O.BANNER],
gvlid:42,code:"taboola",isBidRequestValid:w=>!!(w.sizes&&w.params&&w.params.publisherId&&w.params.tagId),buildRequests:(w,t)=>{var [n]=w;t=H.toORTB({bidderRequest:t,bidRequests:w});({publisherId:n}=n.params);return{url:"https://display.bidder.taboola.com/OpenRTB/TaboolaHB/auction?publisher="+n,method:"POST",data:t,bids:w,options:{withCredentials:!1}}},interpretResponse:(w,t)=>t&&t.bids&&t.data&&w&&w.body&&w.body.seatbid&&w.body.seatbid.length&&w.body.seatbid[0].bid&&w.body.seatbid[0].bid.length?H.fromORTB({response:w.body,
request:t.data}).bids:[],onBidWon:w=>{w.nurl&&(w=(0,d.replaceAuctionPrice)(w.nurl,w.originalCpm),(0,f.ajax)(w))},getUserSyncs:function(w,t,n,p,v){t=[];const K=[];n&&K.push(`gdpr=${Number(n.gdprApplies&&1)}&gdpr_consent=${encodeURIComponent(n.consentString||"")}`);p&&K.push("us_privacy="+encodeURIComponent(p));v&&K.push("gpp="+encodeURIComponent(v));w.iframeEnabled&&t.push({type:"iframe",url:"https://cdn.taboola.com/scripts/prebid_iframe_sync.html"+(K.length?"?"+K.join("&"):"")});w.pixelEnabled&&t.push({type:"image",
url:"https://trc.taboola.com/sg/prebidJS/1/cm"+(K.length?"?"+K.join("&"):"")});return t},onTimeout:w=>{(0,f.ajax)("https://beacon.bidder.taboola.com/timeout",null,JSON.stringify(w),{method:"POST"})},onBidderError:w=>{let {error:t,bidderRequest:n}=w;(0,f.ajax)("https://beacon.bidder.taboola.com/bidError",null,JSON.stringify(t,n),{method:"POST"})}});(0,ca.registerModule)("taboolaBidAdapter")},"./src/fpd/oneClient.js":(ca,ma,I)=>{function na(G){return function(d){O.reduce((y,r)=>{null!=d[r]&&0<Object.keys(d[r]).length&&
(null!=y?delete d[r]:y=r);return y},null);return d}}I.d(ma,{clientSectionChecker:()=>na});I("./src/utils.js");const O=["dooh","app","site"]},"./src/pbjsORTB.js":(ca,ma,I)=>{I.d(ma,{BID_RESPONSE:()=>d,DEFAULT:()=>r,IMP:()=>G,PBS:()=>f,PROCESSOR_TYPES:()=>na,REQUEST:()=>O,RESPONSE:()=>y,getProcessors:()=>z});const na=["request","imp","bidResponse","response"],[O,G,d,y]=na,[r,f]=["default","pbs"],l=new Set(na),{getProcessors:z}=function(){const H={};return{registerOrtbProcessor(w){let {type:t,name:n,
fn:p,priority:v=0,dialects:K=[r]}=w;if(!l.has(t))throw Error(`ORTB processor type must be one of: ${na.join(", ")}`);K.forEach(A=>{H.hasOwnProperty(A)||(H[A]={});H[A].hasOwnProperty(t)||(H[A][t]={});H[A][t][n]={priority:v,fn:p}})},getProcessors(w){return H[w]||{}}}}()}},ca=>{ca.O(0,["ortbConverter","creativeRender"],()=>ca(ca.s="./modules/taboolaBidAdapter.js"));ca.O()}]);"use strict";(self.pbjsChunk=self.pbjsChunk||[]).push([["teadsBidAdapter"],{"./modules/teadsBidAdapter.js":(ca,ma,I)=>{function na(d){var y,
r,f;const l={};let z=d.params.placementId,H=d.params.pageId;const w=null===d||void 0===d||null===(y=d.ortb2Imp)||void 0===y||null===(y=y.ext)||void 0===y?void 0:y.gpid;y=null===d||void 0===d||null===(r=d.mediaTypes)||void 0===r||null===(r=r.video)||void 0===r?void 0:r.plcmt;l.sizes=(0,G.parseSizesInput)(O(d));l.bidId=(0,G.getBidIdParameter)("bidId",d);l.bidderRequestId=(0,G.getBidIdParameter)("bidderRequestId",d);l.placementId=parseInt(z,10);l.pageId=parseInt(H,10);l.adUnitCode=(0,G.getBidIdParameter)("adUnitCode",
d);l.transactionId=(null===(f=d.ortb2Imp)||void 0===f||null===(f=f.ext)||void 0===f?void 0:f.tid)||"";w&&(l.gpid=w);y&&(l.videoPlcmt=y);return l}function O(d){var y,r,f;let l=null===d||void 0===d||null===(y=d.mediaTypes)||void 0===y||null===(y=y.video)||void 0===y?void 0:y.playerSize;y=null===d||void 0===d||null===(r=d.mediaTypes)||void 0===r||null===(r=r.video)||void 0===r?void 0:r.sizes;r=null===d||void 0===d||null===(f=d.mediaTypes)||void 0===f||null===(f=f.banner)||void 0===f?void 0:f.sizes;return Array.isArray(r)||
Array.isArray(l)||Array.isArray(y)?[r,y,l].reduce(function(z,H){Array.isArray(H)&&(Array.isArray(H[0])?H.forEach(function(w){z.push(w)}):z.push(H));return z},[]):d.sizes}ca=I("./src/prebidGlobal.js");var G=I("./src/utils.js");(0,I("./src/adapters/bidderFactory.js").registerBidder)({code:"teads",gvlid:132,supportedMediaTypes:["video","banner"],isBidRequestValid:function(d){var y=!1;if("undefined"!==typeof d.params){const r=g$.b.t&&d.params.po;y=r?d.params.placementId=r.placementId:d.params.placementId;
d=r?d.params.pageId=r.pageId:d.params.pageId;y=0<parseInt(y);d=0<parseInt(d);y=y&&d}return y},buildRequests:function(d,y){var r,f,l,z,H,w,t,n=d.map(na),p=window.top;var v="";y&&y.refererInfo&&y.refererInfo.location&&(v=y.refererInfo.location);var K=document.referrer;try{var A=window.top.document.querySelector('meta[property="og:title"]');var h=window.top.document.title||A&&A.content||""}catch(V){h=document.querySelector('meta[property="og:title"]'),h=document.title||h&&h.content||""}h=h.slice(0,300);
try{var q=window.top.document.querySelector('meta[name="description"]')||window.top.document.querySelector('meta[property="og:description"]')}catch(V){q=document.querySelector('meta[name="description"]')||document.querySelector('meta[property="og:description"]')}q=q&&q.content||"";q=q.slice(0,300);A=(A=window.navigator)&&A.connection&&0<=A.connection.downlink?A.connection.downlink.toString():"";var u;var g=(u=window.performance||window.webkitPerformance||window.msPerformance||window.mozPerformance)&&
"function"===typeof u.getEntriesByType&&"[object Function]"===Object.prototype.toString.call(u.getEntriesByType)&&u.getEntriesByType("navigation")[0]&&u.getEntriesByType("navigation")[0].responseStart&&u.getEntriesByType("navigation")[0].requestStart&&0<u.getEntriesByType("navigation")[0].responseStart&&0<u.getEntriesByType("navigation")[0].requestStart&&Math.round(u.getEntriesByType("navigation")[0].responseStart-u.getEntriesByType("navigation")[0].requestStart);u=g?g.toString():(u=u&&u.timing.responseStart&&
u.timing.requestStart&&0<u.timing.responseStart&&0<u.timing.requestStart&&u.timing.responseStart-u.timing.requestStart)?u.toString():"";g=screen.width;var B=null===(r=screen.orientation)||void 0===r?void 0:r.type;r=null===(f=p.history)||void 0===f?void 0:f.length;f=null===(l=p.visualViewport)||void 0===l?void 0:l.height;l=null===(z=p.visualViewport)||void 0===z?void 0:z.width;z=null===(H=p.navigator)||void 0===H?void 0:H.hardwareConcurrency;H=null===(w=p.navigator)||void 0===w?void 0:w.deviceMemory;
var M;w={unifiedId2:"uid2.id",liveRampId:"idl_env",lotamePanoramaId:"lotamePanoramaId",id5Id:"id5id.uid",criteoId:"criteoId",yahooConnectId:"connectId",quantcastId:"quantcastId",epsilonPublisherLinkId:"publinkId",publisherFirstPartyViewerId:"pubcid",merkleId:"merkleId.id",kinessoId:"kpuid"};p={};for(var L in w){const V=w[L],C=null===d||void 0===d||null===(M=d[0])||void 0===M||null===(M=M.userId)||void 0===M?void 0:M[V];C&&(p[L]=C)}M=p;M={...M};var R;R=(L=null===d||void 0===d||null===(R=d[0])||void 0===
R||null===(R=R.userId)||void 0===R?void 0:R.teadsId)?{firstPartyCookieTeadsId:L}:(R=g$.ic._tfpvi)?{firstPartyCookieTeadsId:R}:{};n={referrer:v,pageReferrer:K,pageTitle:h,pageDescription:q,networkBandwidth:A,timeToFirstByte:u,data:n,deviceWidth:g,screenOrientation:B,historyLength:r,viewportHeight:f,viewportWidth:l,hardwareConcurrency:z,deviceMemory:H,hb_version:"8.32.0",...M,...R};d=d[0];d.schain&&(n.schain=d.schain);v=y.gdprConsent;y&&v&&(K="string"===typeof v.consentString,"boolean"===typeof v.gdprApplies?
(R=v.vendorData,h=12,v.gdprApplies?R&&!R.isServiceSpecific&&(h=11):h=0,R=h):R=22,n.gdpr_iab={consent:K?v.consentString:"",status:R,apiVersion:v.apiVersion});y&&y.uspConsent&&(n.us_privacy=y.uspConsent);if(y=null===d||void 0===d||null===(t=d.ortb2)||void 0===t||null===(t=t.device)||void 0===t?void 0:t.sua)n.userAgentClientHints=y;return{method:"POST",url:"https://a.teads.tv/hb/bid-request",data:JSON.stringify(n)}},interpretResponse:function(d,y){const r=[];d=d.body;d.responses&&d.responses.forEach(function(f){const l=
{cpm:f.cpm,width:f.width,height:f.height,currency:f.currency,netRevenue:!0,ttl:f.ttl,meta:{advertiserDomains:f&&f.adomain?f.adomain:[]},ad:f.ad,requestId:f.bidId,creativeId:f.creativeId,placementId:f.placementId};f.dealId&&(l.dealId=f.dealId);r.push(l)});return r}});(0,ca.registerModule)("teadsBidAdapter")}},ca=>{ca.O(0,["creativeRender"],()=>ca(ca.s="./modules/teadsBidAdapter.js"));ca.O()}])})(),pbjs.processQueue();
window.pbjs?.que&&!g$.hp["gnt-d-pbt"]&&pbjs.que.push(()=>{function ca(t,n){for(const p of r(t)?t:[t])t=p.meta,z.push({adId:p.adId?.toString(),adUnitCode:p.adUnitCode,auctionId:p.auctionId?.toString(),bidderCode:p.bidderCode||p.bidder||p.bidderRequest?.bidderCode,cpm:p.cpm,creativeId:p.creativeId?.toString(),currency:p.currency?.toString(),dealId:p.dealId?.toString(),eventType:n,experiment:O.vr||"prebid-metrics-pixel",geoCountry:d,geoState:y,gup3pid:O.lri,height:p.height,isMobile:!!g$.b.m,liveRampId:O.lrEnv?
"1":"",mediaType:p.mediaType,meta:t&&{networkId:t.networkId?.toString(),networkName:t.networkName,agencyId:t.agencyId,agencyName:t.agencyName,advertiserId:t.advertiserId?.toString(),advertiserName:t.advertiserName,advertiserDomains:r(t.advertiserDomains)?t.advertiserDomains.filter(I):[],brandId:t.brandId?.toString(),brandName:t.brandName,primaryCatId:t.primaryCatId,secondaryCatIds:r(t.secondaryCatIds)?t.secondaryCatIds.filter(I):[],mediaType:t.mediaType},bot:na.bt,requestId:p.requestId?.toString(),
siteCode:na.data.siteCode,source:p.source,status:p.status,timeToRespond:p.timeToRespond,variant:w&&"cdl_"+w||"",width:p.width,sda:O.sda?.toString()||"0"})}function ma(){if(z.length){const t=g$.js(z);f||!l.sendBeacon?fetch(H,{method:"POST",mode:"no-cors",cache:"no-store",keepalive:!0,body:t}).catch(n=>{g$.cc(n,"h2p1",t)}):l.sendBeacon(H,t);z.length=0}}function I(t){return"string"===typeof t}const na=gnt,O=na.x;var G=na.geo;const d=G?.c,y=G?.s,r=Array.isArray;G=pbjs.onEvent;const f="keepalive"in Request.prototype,
l=navigator,z=[],H="https://traxex.gannettdigital.com/prebid-event",w=O.cdl||g$.b.c&&"none";g$.si(()=>{ma()},6E4);G("bidWon",t=>{ca(t,"bidWon")});G("bidResponse",t=>{ca(t,"bidResponse")});G("bidTimeout",t=>{ca(t,"bidTimeout")});G("bidderError",t=>{ca(t,"bidderError")});G("adRenderFailed",t=>{ca(t,"adRenderFailed")});G("auctionEnd",()=>{ma()});document.addEventListener("visibilitychange",()=>{"visible"!==document.visibilityState&&ma()},!1)});
